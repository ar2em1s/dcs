(()=>{var Xf=Object.create;var An=Object.defineProperty;var Qf=Object.getOwnPropertyDescriptor;var eh=Object.getOwnPropertyNames;var th=Object.getPrototypeOf,rh=Object.prototype.hasOwnProperty;var l=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var nh=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of eh(e))!rh.call(t,i)&&i!==r&&An(t,i,{get:()=>e[i],enumerable:!(n=Qf(e,i))||n.enumerable});return t};var de=(t,e,r)=>(r=t!=null?Xf(th(t)):{},nh(e||!t||!t.__esModule?An(r,"default",{value:t,enumerable:!0}):r,t));var ie=l((XA,Pn)=>{var Gh=Array.isArray;Pn.exports=Gh});var yr=l((QA,Bn)=>{var Wh=typeof global=="object"&&global&&global.Object===Object&&global;Bn.exports=Wh});var le=l((eS,jn)=>{var Zh=yr(),Jh=typeof self=="object"&&self&&self.Object===Object&&self,Yh=Zh||Jh||Function("return this")();jn.exports=Yh});var Ce=l((tS,Rn)=>{var Xh=le(),Qh=Xh.Symbol;Rn.exports=Qh});var Vn=l((rS,zn)=>{var $n=Ce(),Un=Object.prototype,ep=Un.hasOwnProperty,tp=Un.toString,He=$n?$n.toStringTag:void 0;function rp(t){var e=ep.call(t,He),r=t[He];try{t[He]=void 0;var n=!0}catch{}var i=tp.call(t);return n&&(e?t[He]=r:delete t[He]),i}zn.exports=rp});var Hn=l((nS,Kn)=>{var np=Object.prototype,ip=np.toString;function sp(t){return ip.call(t)}Kn.exports=sp});var Ae=l((iS,Zn)=>{var Gn=Ce(),op=Vn(),ap=Hn(),cp="[object Null]",up="[object Undefined]",Wn=Gn?Gn.toStringTag:void 0;function lp(t){return t==null?t===void 0?up:cp:Wn&&Wn in Object(t)?op(t):ap(t)}Zn.exports=lp});var xe=l((sS,Jn)=>{function fp(t){return t!=null&&typeof t=="object"}Jn.exports=fp});var Me=l((oS,Yn)=>{var hp=Ae(),pp=xe(),dp="[object Symbol]";function gp(t){return typeof t=="symbol"||pp(t)&&hp(t)==dp}Yn.exports=gp});var _t=l((aS,Xn)=>{var mp=ie(),bp=Me(),vp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,xp=/^\w*$/;function yp(t,e){if(mp(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||bp(t)?!0:xp.test(t)||!vp.test(t)||e!=null&&t in Object(e)}Xn.exports=yp});var ge=l((cS,Qn)=>{function wp(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}Qn.exports=wp});var Et=l((uS,ei)=>{var Op=Ae(),Ap=ge(),Sp="[object AsyncFunction]",_p="[object Function]",Ep="[object GeneratorFunction]",Tp="[object Proxy]";function qp(t){if(!Ap(t))return!1;var e=Op(t);return e==_p||e==Ep||e==Sp||e==Tp}ei.exports=qp});var ri=l((lS,ti)=>{var Cp=le(),Mp=Cp["__core-js_shared__"];ti.exports=Mp});var si=l((fS,ii)=>{var wr=ri(),ni=function(){var t=/[^.]+$/.exec(wr&&wr.keys&&wr.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Np(t){return!!ni&&ni in t}ii.exports=Np});var Or=l((hS,oi)=>{var Fp=Function.prototype,Ip=Fp.toString;function kp(t){if(t!=null){try{return Ip.call(t)}catch{}try{return t+""}catch{}}return""}oi.exports=kp});var ci=l((pS,ai)=>{var Lp=Et(),Dp=si(),Pp=ge(),Bp=Or(),jp=/[\\^$.*+?()[\]{}|]/g,Rp=/^\[object .+?Constructor\]$/,$p=Function.prototype,Up=Object.prototype,zp=$p.toString,Vp=Up.hasOwnProperty,Kp=RegExp("^"+zp.call(Vp).replace(jp,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Hp(t){if(!Pp(t)||Dp(t))return!1;var e=Lp(t)?Kp:Rp;return e.test(Bp(t))}ai.exports=Hp});var li=l((dS,ui)=>{function Gp(t,e){return t?.[e]}ui.exports=Gp});var ye=l((gS,fi)=>{var Wp=ci(),Zp=li();function Jp(t,e){var r=Zp(t,e);return Wp(r)?r:void 0}fi.exports=Jp});var Ge=l((mS,hi)=>{var Yp=ye(),Xp=Yp(Object,"create");hi.exports=Xp});var gi=l((bS,di)=>{var pi=Ge();function Qp(){this.__data__=pi?pi(null):{},this.size=0}di.exports=Qp});var bi=l((vS,mi)=>{function ed(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}mi.exports=ed});var xi=l((xS,vi)=>{var td=Ge(),rd="__lodash_hash_undefined__",nd=Object.prototype,id=nd.hasOwnProperty;function sd(t){var e=this.__data__;if(td){var r=e[t];return r===rd?void 0:r}return id.call(e,t)?e[t]:void 0}vi.exports=sd});var wi=l((yS,yi)=>{var od=Ge(),ad=Object.prototype,cd=ad.hasOwnProperty;function ud(t){var e=this.__data__;return od?e[t]!==void 0:cd.call(e,t)}yi.exports=ud});var Ai=l((wS,Oi)=>{var ld=Ge(),fd="__lodash_hash_undefined__";function hd(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=ld&&e===void 0?fd:e,this}Oi.exports=hd});var _i=l((OS,Si)=>{var pd=gi(),dd=bi(),gd=xi(),md=wi(),bd=Ai();function Ne(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Ne.prototype.clear=pd;Ne.prototype.delete=dd;Ne.prototype.get=gd;Ne.prototype.has=md;Ne.prototype.set=bd;Si.exports=Ne});var Ti=l((AS,Ei)=>{function vd(){this.__data__=[],this.size=0}Ei.exports=vd});var Fe=l((SS,qi)=>{function xd(t,e){return t===e||t!==t&&e!==e}qi.exports=xd});var We=l((_S,Ci)=>{var yd=Fe();function wd(t,e){for(var r=t.length;r--;)if(yd(t[r][0],e))return r;return-1}Ci.exports=wd});var Ni=l((ES,Mi)=>{var Od=We(),Ad=Array.prototype,Sd=Ad.splice;function _d(t){var e=this.__data__,r=Od(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():Sd.call(e,r,1),--this.size,!0}Mi.exports=_d});var Ii=l((TS,Fi)=>{var Ed=We();function Td(t){var e=this.__data__,r=Ed(e,t);return r<0?void 0:e[r][1]}Fi.exports=Td});var Li=l((qS,ki)=>{var qd=We();function Cd(t){return qd(this.__data__,t)>-1}ki.exports=Cd});var Pi=l((CS,Di)=>{var Md=We();function Nd(t,e){var r=this.__data__,n=Md(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}Di.exports=Nd});var Ze=l((MS,Bi)=>{var Fd=Ti(),Id=Ni(),kd=Ii(),Ld=Li(),Dd=Pi();function Ie(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Ie.prototype.clear=Fd;Ie.prototype.delete=Id;Ie.prototype.get=kd;Ie.prototype.has=Ld;Ie.prototype.set=Dd;Bi.exports=Ie});var Tt=l((NS,ji)=>{var Pd=ye(),Bd=le(),jd=Pd(Bd,"Map");ji.exports=jd});var Ui=l((FS,$i)=>{var Ri=_i(),Rd=Ze(),$d=Tt();function Ud(){this.size=0,this.__data__={hash:new Ri,map:new($d||Rd),string:new Ri}}$i.exports=Ud});var Vi=l((IS,zi)=>{function zd(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}zi.exports=zd});var Je=l((kS,Ki)=>{var Vd=Vi();function Kd(t,e){var r=t.__data__;return Vd(e)?r[typeof e=="string"?"string":"hash"]:r.map}Ki.exports=Kd});var Gi=l((LS,Hi)=>{var Hd=Je();function Gd(t){var e=Hd(this,t).delete(t);return this.size-=e?1:0,e}Hi.exports=Gd});var Zi=l((DS,Wi)=>{var Wd=Je();function Zd(t){return Wd(this,t).get(t)}Wi.exports=Zd});var Yi=l((PS,Ji)=>{var Jd=Je();function Yd(t){return Jd(this,t).has(t)}Ji.exports=Yd});var Qi=l((BS,Xi)=>{var Xd=Je();function Qd(t,e){var r=Xd(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}Xi.exports=Qd});var qt=l((jS,es)=>{var eg=Ui(),tg=Gi(),rg=Zi(),ng=Yi(),ig=Qi();function ke(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}ke.prototype.clear=eg;ke.prototype.delete=tg;ke.prototype.get=rg;ke.prototype.has=ng;ke.prototype.set=ig;es.exports=ke});var ns=l((RS,rs)=>{var ts=qt(),sg="Expected a function";function Ar(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(sg);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],s=r.cache;if(s.has(i))return s.get(i);var c=t.apply(this,n);return r.cache=s.set(i,c)||s,c};return r.cache=new(Ar.Cache||ts),r}Ar.Cache=ts;rs.exports=Ar});var ss=l(($S,is)=>{var og=ns(),ag=500;function cg(t){var e=og(t,function(n){return r.size===ag&&r.clear(),n}),r=e.cache;return e}is.exports=cg});var as=l((US,os)=>{var ug=ss(),lg=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,fg=/\\(\\)?/g,hg=ug(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(lg,function(r,n,i,s){e.push(i?s.replace(fg,"$1"):n||r)}),e});os.exports=hg});var Sr=l((zS,cs)=>{function pg(t,e){for(var r=-1,n=t==null?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}cs.exports=pg});var ds=l((VS,ps)=>{var us=Ce(),dg=Sr(),gg=ie(),mg=Me(),bg=1/0,ls=us?us.prototype:void 0,fs=ls?ls.toString:void 0;function hs(t){if(typeof t=="string")return t;if(gg(t))return dg(t,hs)+"";if(mg(t))return fs?fs.call(t):"";var e=t+"";return e=="0"&&1/t==-bg?"-0":e}ps.exports=hs});var Se=l((KS,gs)=>{var vg=ds();function xg(t){return t==null?"":vg(t)}gs.exports=xg});var _r=l((HS,ms)=>{var yg=ie(),wg=_t(),Og=as(),Ag=Se();function Sg(t,e){return yg(t)?t:wg(t,e)?[t]:Og(Ag(t))}ms.exports=Sg});var Ye=l((GS,bs)=>{var _g=Me(),Eg=1/0;function Tg(t){if(typeof t=="string"||_g(t))return t;var e=t+"";return e=="0"&&1/t==-Eg?"-0":e}bs.exports=Tg});var Ct=l((WS,vs)=>{var qg=_r(),Cg=Ye();function Mg(t,e){e=qg(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[Cg(e[r++])];return r&&r==n?t:void 0}vs.exports=Mg});var Er=l((ZS,xs)=>{var Ng=Ct();function Fg(t,e,r){var n=t==null?void 0:Ng(t,e);return n===void 0?r:n}xs.exports=Fg});var ws=l((JS,ys)=>{var Ig=Object.prototype,kg=Ig.hasOwnProperty;function Lg(t,e){return t!=null&&kg.call(t,e)}ys.exports=Lg});var As=l((YS,Os)=>{var Dg=Ae(),Pg=xe(),Bg="[object Arguments]";function jg(t){return Pg(t)&&Dg(t)==Bg}Os.exports=jg});var Xe=l((XS,Es)=>{var Ss=As(),Rg=xe(),_s=Object.prototype,$g=_s.hasOwnProperty,Ug=_s.propertyIsEnumerable,zg=Ss(function(){return arguments}())?Ss:function(t){return Rg(t)&&$g.call(t,"callee")&&!Ug.call(t,"callee")};Es.exports=zg});var Mt=l((QS,Ts)=>{var Vg=9007199254740991,Kg=/^(?:0|[1-9]\d*)$/;function Hg(t,e){var r=typeof t;return e=e??Vg,!!e&&(r=="number"||r!="symbol"&&Kg.test(t))&&t>-1&&t%1==0&&t<e}Ts.exports=Hg});var Nt=l((e_,qs)=>{var Gg=9007199254740991;function Wg(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Gg}qs.exports=Wg});var Tr=l((t_,Cs)=>{var Zg=_r(),Jg=Xe(),Yg=ie(),Xg=Mt(),Qg=Nt(),e0=Ye();function t0(t,e,r){e=Zg(e,t);for(var n=-1,i=e.length,s=!1;++n<i;){var c=e0(e[n]);if(!(s=t!=null&&r(t,c)))break;t=t[c]}return s||++n!=i?s:(i=t==null?0:t.length,!!i&&Qg(i)&&Xg(c,i)&&(Yg(t)||Jg(t)))}Cs.exports=t0});var Ns=l((r_,Ms)=>{var r0=ws(),n0=Tr();function i0(t,e){return t!=null&&n0(t,e,r0)}Ms.exports=i0});var Is=l((n_,Fs)=>{var s0=Ze();function o0(){this.__data__=new s0,this.size=0}Fs.exports=o0});var Ls=l((i_,ks)=>{function a0(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}ks.exports=a0});var Ps=l((s_,Ds)=>{function c0(t){return this.__data__.get(t)}Ds.exports=c0});var js=l((o_,Bs)=>{function u0(t){return this.__data__.has(t)}Bs.exports=u0});var $s=l((a_,Rs)=>{var l0=Ze(),f0=Tt(),h0=qt(),p0=200;function d0(t,e){var r=this.__data__;if(r instanceof l0){var n=r.__data__;if(!f0||n.length<p0-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new h0(n)}return r.set(t,e),this.size=r.size,this}Rs.exports=d0});var Ft=l((c_,Us)=>{var g0=Ze(),m0=Is(),b0=Ls(),v0=Ps(),x0=js(),y0=$s();function Le(t){var e=this.__data__=new g0(t);this.size=e.size}Le.prototype.clear=m0;Le.prototype.delete=b0;Le.prototype.get=v0;Le.prototype.has=x0;Le.prototype.set=y0;Us.exports=Le});var qr=l((u_,zs)=>{var w0=ye(),O0=function(){try{var t=w0(Object,"defineProperty");return t({},"",{}),t}catch{}}();zs.exports=O0});var It=l((l_,Ks)=>{var Vs=qr();function A0(t,e,r){e=="__proto__"&&Vs?Vs(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}Ks.exports=A0});var Cr=l((f_,Hs)=>{var S0=It(),_0=Fe();function E0(t,e,r){(r!==void 0&&!_0(t[e],r)||r===void 0&&!(e in t))&&S0(t,e,r)}Hs.exports=E0});var Ws=l((h_,Gs)=>{function T0(t){return function(e,r,n){for(var i=-1,s=Object(e),c=n(e),f=c.length;f--;){var d=c[t?f:++i];if(r(s[d],d,s)===!1)break}return e}}Gs.exports=T0});var Mr=l((p_,Zs)=>{var q0=Ws(),C0=q0();Zs.exports=C0});var eo=l((Qe,De)=>{var M0=le(),Qs=typeof Qe=="object"&&Qe&&!Qe.nodeType&&Qe,Js=Qs&&typeof De=="object"&&De&&!De.nodeType&&De,N0=Js&&Js.exports===Qs,Ys=N0?M0.Buffer:void 0,Xs=Ys?Ys.allocUnsafe:void 0;function F0(t,e){if(e)return t.slice();var r=t.length,n=Xs?Xs(r):new t.constructor(r);return t.copy(n),n}De.exports=F0});var Nr=l((d_,to)=>{var I0=le(),k0=I0.Uint8Array;to.exports=k0});var io=l((g_,no)=>{var ro=Nr();function L0(t){var e=new t.constructor(t.byteLength);return new ro(e).set(new ro(t)),e}no.exports=L0});var oo=l((m_,so)=>{var D0=io();function P0(t,e){var r=e?D0(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}so.exports=P0});var co=l((b_,ao)=>{function B0(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}ao.exports=B0});var fo=l((v_,lo)=>{var j0=ge(),uo=Object.create,R0=function(){function t(){}return function(e){if(!j0(e))return{};if(uo)return uo(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}();lo.exports=R0});var Fr=l((x_,ho)=>{function $0(t,e){return function(r){return t(e(r))}}ho.exports=$0});var Ir=l((y_,po)=>{var U0=Fr(),z0=U0(Object.getPrototypeOf,Object);po.exports=z0});var kt=l((w_,go)=>{var V0=Object.prototype;function K0(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||V0;return t===r}go.exports=K0});var bo=l((O_,mo)=>{var H0=fo(),G0=Ir(),W0=kt();function Z0(t){return typeof t.constructor=="function"&&!W0(t)?H0(G0(t)):{}}mo.exports=Z0});var _e=l((A_,vo)=>{var J0=Et(),Y0=Nt();function X0(t){return t!=null&&Y0(t.length)&&!J0(t)}vo.exports=X0});var yo=l((S_,xo)=>{var Q0=_e(),em=xe();function tm(t){return em(t)&&Q0(t)}xo.exports=tm});var Oo=l((__,wo)=>{function rm(){return!1}wo.exports=rm});var Lt=l((et,Pe)=>{var nm=le(),im=Oo(),_o=typeof et=="object"&&et&&!et.nodeType&&et,Ao=_o&&typeof Pe=="object"&&Pe&&!Pe.nodeType&&Pe,sm=Ao&&Ao.exports===_o,So=sm?nm.Buffer:void 0,om=So?So.isBuffer:void 0,am=om||im;Pe.exports=am});var qo=l((E_,To)=>{var cm=Ae(),um=Ir(),lm=xe(),fm="[object Object]",hm=Function.prototype,pm=Object.prototype,Eo=hm.toString,dm=pm.hasOwnProperty,gm=Eo.call(Object);function mm(t){if(!lm(t)||cm(t)!=fm)return!1;var e=um(t);if(e===null)return!0;var r=dm.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&Eo.call(r)==gm}To.exports=mm});var Mo=l((T_,Co)=>{var bm=Ae(),vm=Nt(),xm=xe(),ym="[object Arguments]",wm="[object Array]",Om="[object Boolean]",Am="[object Date]",Sm="[object Error]",_m="[object Function]",Em="[object Map]",Tm="[object Number]",qm="[object Object]",Cm="[object RegExp]",Mm="[object Set]",Nm="[object String]",Fm="[object WeakMap]",Im="[object ArrayBuffer]",km="[object DataView]",Lm="[object Float32Array]",Dm="[object Float64Array]",Pm="[object Int8Array]",Bm="[object Int16Array]",jm="[object Int32Array]",Rm="[object Uint8Array]",$m="[object Uint8ClampedArray]",Um="[object Uint16Array]",zm="[object Uint32Array]",B={};B[Lm]=B[Dm]=B[Pm]=B[Bm]=B[jm]=B[Rm]=B[$m]=B[Um]=B[zm]=!0;B[ym]=B[wm]=B[Im]=B[Om]=B[km]=B[Am]=B[Sm]=B[_m]=B[Em]=B[Tm]=B[qm]=B[Cm]=B[Mm]=B[Nm]=B[Fm]=!1;function Vm(t){return xm(t)&&vm(t.length)&&!!B[bm(t)]}Co.exports=Vm});var kr=l((q_,No)=>{function Km(t){return function(e){return t(e)}}No.exports=Km});var Io=l((tt,Be)=>{var Hm=yr(),Fo=typeof tt=="object"&&tt&&!tt.nodeType&&tt,rt=Fo&&typeof Be=="object"&&Be&&!Be.nodeType&&Be,Gm=rt&&rt.exports===Fo,Lr=Gm&&Hm.process,Wm=function(){try{var t=rt&&rt.require&&rt.require("util").types;return t||Lr&&Lr.binding&&Lr.binding("util")}catch{}}();Be.exports=Wm});var Dt=l((C_,Do)=>{var Zm=Mo(),Jm=kr(),ko=Io(),Lo=ko&&ko.isTypedArray,Ym=Lo?Jm(Lo):Zm;Do.exports=Ym});var Dr=l((M_,Po)=>{function Xm(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}Po.exports=Xm});var Pr=l((N_,Bo)=>{var Qm=It(),e1=Fe(),t1=Object.prototype,r1=t1.hasOwnProperty;function n1(t,e,r){var n=t[e];(!(r1.call(t,e)&&e1(n,r))||r===void 0&&!(e in t))&&Qm(t,e,r)}Bo.exports=n1});var Ro=l((F_,jo)=>{var i1=Pr(),s1=It();function o1(t,e,r,n){var i=!r;r||(r={});for(var s=-1,c=e.length;++s<c;){var f=e[s],d=n?n(r[f],t[f],f,r,t):void 0;d===void 0&&(d=t[f]),i?s1(r,f,d):i1(r,f,d)}return r}jo.exports=o1});var Uo=l((I_,$o)=>{function a1(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}$o.exports=a1});var Br=l((k_,zo)=>{var c1=Uo(),u1=Xe(),l1=ie(),f1=Lt(),h1=Mt(),p1=Dt(),d1=Object.prototype,g1=d1.hasOwnProperty;function m1(t,e){var r=l1(t),n=!r&&u1(t),i=!r&&!n&&f1(t),s=!r&&!n&&!i&&p1(t),c=r||n||i||s,f=c?c1(t.length,String):[],d=f.length;for(var w in t)(e||g1.call(t,w))&&!(c&&(w=="length"||i&&(w=="offset"||w=="parent")||s&&(w=="buffer"||w=="byteLength"||w=="byteOffset")||h1(w,d)))&&f.push(w);return f}zo.exports=m1});var Ko=l((L_,Vo)=>{function b1(t){var e=[];if(t!=null)for(var r in Object(t))e.push(r);return e}Vo.exports=b1});var Go=l((D_,Ho)=>{var v1=ge(),x1=kt(),y1=Ko(),w1=Object.prototype,O1=w1.hasOwnProperty;function A1(t){if(!v1(t))return y1(t);var e=x1(t),r=[];for(var n in t)n=="constructor"&&(e||!O1.call(t,n))||r.push(n);return r}Ho.exports=A1});var jr=l((P_,Wo)=>{var S1=Br(),_1=Go(),E1=_e();function T1(t){return E1(t)?S1(t,!0):_1(t)}Wo.exports=T1});var Jo=l((B_,Zo)=>{var q1=Ro(),C1=jr();function M1(t){return q1(t,C1(t))}Zo.exports=M1});var ra=l((j_,ta)=>{var Yo=Cr(),N1=eo(),F1=oo(),I1=co(),k1=bo(),Xo=Xe(),Qo=ie(),L1=yo(),D1=Lt(),P1=Et(),B1=ge(),j1=qo(),R1=Dt(),ea=Dr(),$1=Jo();function U1(t,e,r,n,i,s,c){var f=ea(t,r),d=ea(e,r),w=c.get(d);if(w){Yo(t,r,w);return}var O=s?s(f,d,r+"",t,e,c):void 0,S=O===void 0;if(S){var E=Qo(d),M=!E&&D1(d),q=!E&&!M&&R1(d);O=d,E||M||q?Qo(f)?O=f:L1(f)?O=I1(f):M?(S=!1,O=N1(d,!0)):q?(S=!1,O=F1(d,!0)):O=[]:j1(d)||Xo(d)?(O=f,Xo(f)?O=$1(f):(!B1(f)||P1(f))&&(O=k1(d))):S=!1}S&&(c.set(d,O),i(O,d,n,s,c),c.delete(d)),Yo(t,r,O)}ta.exports=U1});var sa=l((R_,ia)=>{var z1=Ft(),V1=Cr(),K1=Mr(),H1=ra(),G1=ge(),W1=jr(),Z1=Dr();function na(t,e,r,n,i){t!==e&&K1(e,function(s,c){if(i||(i=new z1),G1(s))H1(t,e,c,r,na,n,i);else{var f=n?n(Z1(t,c),s,c+"",t,e,i):void 0;f===void 0&&(f=s),V1(t,c,f)}},W1)}ia.exports=na});var nt=l(($_,oa)=>{function J1(t){return t}oa.exports=J1});var ca=l((U_,aa)=>{function Y1(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}aa.exports=Y1});var fa=l((z_,la)=>{var X1=ca(),ua=Math.max;function Q1(t,e,r){return e=ua(e===void 0?t.length-1:e,0),function(){for(var n=arguments,i=-1,s=ua(n.length-e,0),c=Array(s);++i<s;)c[i]=n[e+i];i=-1;for(var f=Array(e+1);++i<e;)f[i]=n[i];return f[e]=r(c),X1(t,this,f)}}la.exports=Q1});var pa=l((V_,ha)=>{function eb(t){return function(){return t}}ha.exports=eb});var ma=l((K_,ga)=>{var tb=pa(),da=qr(),rb=nt(),nb=da?function(t,e){return da(t,"toString",{configurable:!0,enumerable:!1,value:tb(e),writable:!0})}:rb;ga.exports=nb});var va=l((H_,ba)=>{var ib=800,sb=16,ob=Date.now;function ab(t){var e=0,r=0;return function(){var n=ob(),i=sb-(n-r);if(r=n,i>0){if(++e>=ib)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}ba.exports=ab});var ya=l((G_,xa)=>{var cb=ma(),ub=va(),lb=ub(cb);xa.exports=lb});var Rr=l((W_,wa)=>{var fb=nt(),hb=fa(),pb=ya();function db(t,e){return pb(hb(t,e,fb),t+"")}wa.exports=db});var it=l((Z_,Oa)=>{var gb=Fe(),mb=_e(),bb=Mt(),vb=ge();function xb(t,e,r){if(!vb(r))return!1;var n=typeof e;return(n=="number"?mb(r)&&bb(e,r.length):n=="string"&&e in r)?gb(r[e],t):!1}Oa.exports=xb});var Sa=l((J_,Aa)=>{var yb=Rr(),wb=it();function Ob(t){return yb(function(e,r){var n=-1,i=r.length,s=i>1?r[i-1]:void 0,c=i>2?r[2]:void 0;for(s=t.length>3&&typeof s=="function"?(i--,s):void 0,c&&wb(r[0],r[1],c)&&(s=i<3?void 0:s,i=1),e=Object(e);++n<i;){var f=r[n];f&&t(e,f,n,s)}return e})}Aa.exports=Ob});var Ea=l((Y_,_a)=>{var Ab=sa(),Sb=Sa(),_b=Sb(function(t,e,r){Ab(t,e,r)});_a.exports=_b});var qa=l((X_,Ta)=>{var Eb="__lodash_hash_undefined__";function Tb(t){return this.__data__.set(t,Eb),this}Ta.exports=Tb});var Ma=l((Q_,Ca)=>{function qb(t){return this.__data__.has(t)}Ca.exports=qb});var $r=l((eE,Na)=>{var Cb=qt(),Mb=qa(),Nb=Ma();function Pt(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new Cb;++e<r;)this.add(t[e])}Pt.prototype.add=Pt.prototype.push=Mb;Pt.prototype.has=Nb;Na.exports=Pt});var Ia=l((tE,Fa)=>{function Fb(t,e,r,n){for(var i=t.length,s=r+(n?1:-1);n?s--:++s<i;)if(e(t[s],s,t))return s;return-1}Fa.exports=Fb});var La=l((rE,ka)=>{function Ib(t){return t!==t}ka.exports=Ib});var Pa=l((nE,Da)=>{function kb(t,e,r){for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}Da.exports=kb});var ja=l((iE,Ba)=>{var Lb=Ia(),Db=La(),Pb=Pa();function Bb(t,e,r){return e===e?Pb(t,e,r):Lb(t,Db,r)}Ba.exports=Bb});var $a=l((sE,Ra)=>{var jb=ja();function Rb(t,e){var r=t==null?0:t.length;return!!r&&jb(t,e,0)>-1}Ra.exports=Rb});var za=l((oE,Ua)=>{function $b(t,e,r){for(var n=-1,i=t==null?0:t.length;++n<i;)if(r(e,t[n]))return!0;return!1}Ua.exports=$b});var Ur=l((aE,Va)=>{function Ub(t,e){return t.has(e)}Va.exports=Ub});var zr=l((cE,Ka)=>{var zb=ye(),Vb=le(),Kb=zb(Vb,"Set");Ka.exports=Kb});var Ga=l((uE,Ha)=>{function Hb(){}Ha.exports=Hb});var Bt=l((lE,Wa)=>{function Gb(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}Wa.exports=Gb});var Ja=l((fE,Za)=>{var Vr=zr(),Wb=Ga(),Zb=Bt(),Jb=1/0,Yb=Vr&&1/Zb(new Vr([,-0]))[1]==Jb?function(t){return new Vr(t)}:Wb;Za.exports=Yb});var Xa=l((hE,Ya)=>{var Xb=$r(),Qb=$a(),ev=za(),tv=Ur(),rv=Ja(),nv=Bt(),iv=200;function sv(t,e,r){var n=-1,i=Qb,s=t.length,c=!0,f=[],d=f;if(r)c=!1,i=ev;else if(s>=iv){var w=e?null:rv(t);if(w)return nv(w);c=!1,i=tv,d=new Xb}else d=e?[]:f;e:for(;++n<s;){var O=t[n],S=e?e(O):O;if(O=r||O!==0?O:0,c&&S===S){for(var E=d.length;E--;)if(d[E]===S)continue e;e&&d.push(S),f.push(O)}else i(d,S,r)||(d!==f&&d.push(S),f.push(O))}return f}Ya.exports=sv});var ec=l((pE,Qa)=>{var ov=Xa();function av(t){return t&&t.length?ov(t):[]}Qa.exports=av});var sc=l((vE,ic)=>{function lv(t,e,r){var n=-1,i=t.length;e<0&&(e=-e>i?0:i+e),r=r>i?i:r,r<0&&(r+=i),i=e>r?0:r-e>>>0,e>>>=0;for(var s=Array(i);++n<i;)s[n]=t[n+e];return s}ic.exports=lv});var ac=l((xE,oc)=>{var fv=sc();function hv(t,e,r){var n=t.length;return r=r===void 0?n:r,!e&&r>=n?t:fv(t,e,r)}oc.exports=hv});var Kr=l((yE,cc)=>{var pv="\\ud800-\\udfff",dv="\\u0300-\\u036f",gv="\\ufe20-\\ufe2f",mv="\\u20d0-\\u20ff",bv=dv+gv+mv,vv="\\ufe0e\\ufe0f",xv="\\u200d",yv=RegExp("["+xv+pv+bv+vv+"]");function wv(t){return yv.test(t)}cc.exports=wv});var lc=l((wE,uc)=>{function Ov(t){return t.split("")}uc.exports=Ov});var vc=l((OE,bc)=>{var fc="\\ud800-\\udfff",Av="\\u0300-\\u036f",Sv="\\ufe20-\\ufe2f",_v="\\u20d0-\\u20ff",Ev=Av+Sv+_v,Tv="\\ufe0e\\ufe0f",qv="["+fc+"]",Hr="["+Ev+"]",Gr="\\ud83c[\\udffb-\\udfff]",Cv="(?:"+Hr+"|"+Gr+")",hc="[^"+fc+"]",pc="(?:\\ud83c[\\udde6-\\uddff]){2}",dc="[\\ud800-\\udbff][\\udc00-\\udfff]",Mv="\\u200d",gc=Cv+"?",mc="["+Tv+"]?",Nv="(?:"+Mv+"(?:"+[hc,pc,dc].join("|")+")"+mc+gc+")*",Fv=mc+gc+Nv,Iv="(?:"+[hc+Hr+"?",Hr,pc,dc,qv].join("|")+")",kv=RegExp(Gr+"(?="+Gr+")|"+Iv+Fv,"g");function Lv(t){return t.match(kv)||[]}bc.exports=Lv});var yc=l((AE,xc)=>{var Dv=lc(),Pv=Kr(),Bv=vc();function jv(t){return Pv(t)?Bv(t):Dv(t)}xc.exports=jv});var Oc=l((SE,wc)=>{var Rv=ac(),$v=Kr(),Uv=yc(),zv=Se();function Vv(t){return function(e){e=zv(e);var r=$v(e)?Uv(e):void 0,n=r?r[0]:e.charAt(0),i=r?Rv(r,1).join(""):e.slice(1);return n[t]()+i}}wc.exports=Vv});var Sc=l((_E,Ac)=>{var Kv=Oc(),Hv=Kv("toUpperCase");Ac.exports=Hv});var Ec=l((EE,_c)=>{var Gv=Se(),Wv=Sc();function Zv(t){return Wv(Gv(t).toLowerCase())}_c.exports=Zv});var qc=l((TE,Tc)=>{function Jv(t,e,r,n){var i=-1,s=t==null?0:t.length;for(n&&s&&(r=t[++i]);++i<s;)r=e(r,t[i],i,t);return r}Tc.exports=Jv});var Mc=l((qE,Cc)=>{function Yv(t){return function(e){return t?.[e]}}Cc.exports=Yv});var Fc=l((CE,Nc)=>{var Xv=Mc(),Qv={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},ex=Xv(Qv);Nc.exports=ex});var kc=l((ME,Ic)=>{var tx=Fc(),rx=Se(),nx=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ix="\\u0300-\\u036f",sx="\\ufe20-\\ufe2f",ox="\\u20d0-\\u20ff",ax=ix+sx+ox,cx="["+ax+"]",ux=RegExp(cx,"g");function lx(t){return t=rx(t),t&&t.replace(nx,tx).replace(ux,"")}Ic.exports=lx});var Dc=l((NE,Lc)=>{var fx=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function hx(t){return t.match(fx)||[]}Lc.exports=hx});var Bc=l((FE,Pc)=>{var px=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function dx(t){return px.test(t)}Pc.exports=dx});var nu=l((IE,ru)=>{var zc="\\ud800-\\udfff",gx="\\u0300-\\u036f",mx="\\ufe20-\\ufe2f",bx="\\u20d0-\\u20ff",vx=gx+mx+bx,Vc="\\u2700-\\u27bf",Kc="a-z\\xdf-\\xf6\\xf8-\\xff",xx="\\xac\\xb1\\xd7\\xf7",yx="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",wx="\\u2000-\\u206f",Ox=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Hc="A-Z\\xc0-\\xd6\\xd8-\\xde",Ax="\\ufe0e\\ufe0f",Gc=xx+yx+wx+Ox,Wc="['\u2019]",jc="["+Gc+"]",Sx="["+vx+"]",Zc="\\d+",_x="["+Vc+"]",Jc="["+Kc+"]",Yc="[^"+zc+Gc+Zc+Vc+Kc+Hc+"]",Ex="\\ud83c[\\udffb-\\udfff]",Tx="(?:"+Sx+"|"+Ex+")",qx="[^"+zc+"]",Xc="(?:\\ud83c[\\udde6-\\uddff]){2}",Qc="[\\ud800-\\udbff][\\udc00-\\udfff]",je="["+Hc+"]",Cx="\\u200d",Rc="(?:"+Jc+"|"+Yc+")",Mx="(?:"+je+"|"+Yc+")",$c="(?:"+Wc+"(?:d|ll|m|re|s|t|ve))?",Uc="(?:"+Wc+"(?:D|LL|M|RE|S|T|VE))?",eu=Tx+"?",tu="["+Ax+"]?",Nx="(?:"+Cx+"(?:"+[qx,Xc,Qc].join("|")+")"+tu+eu+")*",Fx="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Ix="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",kx=tu+eu+Nx,Lx="(?:"+[_x,Xc,Qc].join("|")+")"+kx,Dx=RegExp([je+"?"+Jc+"+"+$c+"(?="+[jc,je,"$"].join("|")+")",Mx+"+"+Uc+"(?="+[jc,je+Rc,"$"].join("|")+")",je+"?"+Rc+"+"+$c,je+"+"+Uc,Ix,Fx,Zc,Lx].join("|"),"g");function Px(t){return t.match(Dx)||[]}ru.exports=Px});var su=l((kE,iu)=>{var Bx=Dc(),jx=Bc(),Rx=Se(),$x=nu();function Ux(t,e,r){return t=Rx(t),e=r?void 0:e,e===void 0?jx(t)?$x(t):Bx(t):t.match(e)||[]}iu.exports=Ux});var au=l((LE,ou)=>{var zx=qc(),Vx=kc(),Kx=su(),Hx="['\u2019]",Gx=RegExp(Hx,"g");function Wx(t){return function(e){return zx(Kx(Vx(e).replace(Gx,"")),t,"")}}ou.exports=Wx});var uu=l((DE,cu)=>{var Zx=Ec(),Jx=au(),Yx=Jx(function(t,e,r){return e=e.toLowerCase(),t+(r?Zx(e):e)});cu.exports=Yx});var du=l((VE,pu)=>{var Qx=9007199254740991,ey=Math.floor;function ty(t,e){var r="";if(!t||e<1||e>Qx)return r;do e%2&&(r+=t),e=ey(e/2),e&&(t+=t);while(e);return r}pu.exports=ty});var mu=l((KE,gu)=>{var ry=/\s/;function ny(t){for(var e=t.length;e--&&ry.test(t.charAt(e)););return e}gu.exports=ny});var vu=l((HE,bu)=>{var iy=mu(),sy=/^\s+/;function oy(t){return t&&t.slice(0,iy(t)+1).replace(sy,"")}bu.exports=oy});var Ou=l((GE,wu)=>{var ay=vu(),xu=ge(),cy=Me(),yu=NaN,uy=/^[-+]0x[0-9a-f]+$/i,ly=/^0b[01]+$/i,fy=/^0o[0-7]+$/i,hy=parseInt;function py(t){if(typeof t=="number")return t;if(cy(t))return yu;if(xu(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=xu(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=ay(t);var r=ly.test(t);return r||fy.test(t)?hy(t.slice(2),r?2:8):uy.test(t)?yu:+t}wu.exports=py});var Xr=l((WE,Su)=>{var dy=Ou(),Au=1/0,gy=17976931348623157e292;function my(t){if(!t)return t===0?t:0;if(t=dy(t),t===Au||t===-Au){var e=t<0?-1:1;return e*gy}return t===t?t:0}Su.exports=my});var Eu=l((ZE,_u)=>{var by=Xr();function vy(t){var e=by(t),r=e%1;return e===e?r?e-r:e:0}_u.exports=vy});var qu=l((JE,Tu)=>{var xy=du(),yy=it(),wy=Eu(),Oy=Se();function Ay(t,e,r){return(r?yy(t,e,r):e===void 0)?e=1:e=wy(e),xy(Oy(t),e)}Tu.exports=Ay});var en=l((pT,Mu)=>{function qy(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}Mu.exports=qy});var ku=l((dT,Iu)=>{var Nu=Ce(),Cy=Xe(),My=ie(),Fu=Nu?Nu.isConcatSpreadable:void 0;function Ny(t){return My(t)||Cy(t)||!!(Fu&&t&&t[Fu])}Iu.exports=Ny});var Pu=l((gT,Du)=>{var Fy=en(),Iy=ku();function Lu(t,e,r,n,i){var s=-1,c=t.length;for(r||(r=Iy),i||(i=[]);++s<c;){var f=t[s];e>0&&r(f)?e>1?Lu(f,e-1,r,n,i):Fy(i,f):n||(i[i.length]=f)}return i}Du.exports=Lu});var ju=l((mT,Bu)=>{function ky(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}Bu.exports=ky});var tn=l((bT,Ru)=>{var Ly=$r(),Dy=ju(),Py=Ur(),By=1,jy=2;function Ry(t,e,r,n,i,s){var c=r&By,f=t.length,d=e.length;if(f!=d&&!(c&&d>f))return!1;var w=s.get(t),O=s.get(e);if(w&&O)return w==e&&O==t;var S=-1,E=!0,M=r&jy?new Ly:void 0;for(s.set(t,e),s.set(e,t);++S<f;){var q=t[S],L=e[S];if(n)var k=c?n(L,q,S,e,t,s):n(q,L,S,t,e,s);if(k!==void 0){if(k)continue;E=!1;break}if(M){if(!Dy(e,function(j,_){if(!Py(M,_)&&(q===j||i(q,j,r,n,s)))return M.push(_)})){E=!1;break}}else if(!(q===L||i(q,L,r,n,s))){E=!1;break}}return s.delete(t),s.delete(e),E}Ru.exports=Ry});var Uu=l((vT,$u)=>{function $y(t){var e=-1,r=Array(t.size);return t.forEach(function(n,i){r[++e]=[i,n]}),r}$u.exports=$y});var Gu=l((xT,Hu)=>{var zu=Ce(),Vu=Nr(),Uy=Fe(),zy=tn(),Vy=Uu(),Ky=Bt(),Hy=1,Gy=2,Wy="[object Boolean]",Zy="[object Date]",Jy="[object Error]",Yy="[object Map]",Xy="[object Number]",Qy="[object RegExp]",ew="[object Set]",tw="[object String]",rw="[object Symbol]",nw="[object ArrayBuffer]",iw="[object DataView]",Ku=zu?zu.prototype:void 0,rn=Ku?Ku.valueOf:void 0;function sw(t,e,r,n,i,s,c){switch(r){case iw:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case nw:return!(t.byteLength!=e.byteLength||!s(new Vu(t),new Vu(e)));case Wy:case Zy:case Xy:return Uy(+t,+e);case Jy:return t.name==e.name&&t.message==e.message;case Qy:case tw:return t==e+"";case Yy:var f=Vy;case ew:var d=n&Hy;if(f||(f=Ky),t.size!=e.size&&!d)return!1;var w=c.get(t);if(w)return w==e;n|=Gy,c.set(t,e);var O=zy(f(t),f(e),n,i,s,c);return c.delete(t),O;case rw:if(rn)return rn.call(t)==rn.call(e)}return!1}Hu.exports=sw});var Zu=l((yT,Wu)=>{var ow=en(),aw=ie();function cw(t,e,r){var n=e(t);return aw(t)?n:ow(n,r(t))}Wu.exports=cw});var Yu=l((wT,Ju)=>{function uw(t,e){for(var r=-1,n=t==null?0:t.length,i=0,s=[];++r<n;){var c=t[r];e(c,r,t)&&(s[i++]=c)}return s}Ju.exports=uw});var Qu=l((OT,Xu)=>{function lw(){return[]}Xu.exports=lw});var rl=l((AT,tl)=>{var fw=Yu(),hw=Qu(),pw=Object.prototype,dw=pw.propertyIsEnumerable,el=Object.getOwnPropertySymbols,gw=el?function(t){return t==null?[]:(t=Object(t),fw(el(t),function(e){return dw.call(t,e)}))}:hw;tl.exports=gw});var il=l((ST,nl)=>{var mw=Fr(),bw=mw(Object.keys,Object);nl.exports=bw});var ol=l((_T,sl)=>{var vw=kt(),xw=il(),yw=Object.prototype,ww=yw.hasOwnProperty;function Ow(t){if(!vw(t))return xw(t);var e=[];for(var r in Object(t))ww.call(t,r)&&r!="constructor"&&e.push(r);return e}sl.exports=Ow});var Ut=l((ET,al)=>{var Aw=Br(),Sw=ol(),_w=_e();function Ew(t){return _w(t)?Aw(t):Sw(t)}al.exports=Ew});var ul=l((TT,cl)=>{var Tw=Zu(),qw=rl(),Cw=Ut();function Mw(t){return Tw(t,Cw,qw)}cl.exports=Mw});var hl=l((qT,fl)=>{var ll=ul(),Nw=1,Fw=Object.prototype,Iw=Fw.hasOwnProperty;function kw(t,e,r,n,i,s){var c=r&Nw,f=ll(t),d=f.length,w=ll(e),O=w.length;if(d!=O&&!c)return!1;for(var S=d;S--;){var E=f[S];if(!(c?E in e:Iw.call(e,E)))return!1}var M=s.get(t),q=s.get(e);if(M&&q)return M==e&&q==t;var L=!0;s.set(t,e),s.set(e,t);for(var k=c;++S<d;){E=f[S];var j=t[E],_=e[E];if(n)var Q=c?n(_,j,E,e,t,s):n(j,_,E,t,e,s);if(!(Q===void 0?j===_||i(j,_,r,n,s):Q)){L=!1;break}k||(k=E=="constructor")}if(L&&!k){var J=t.constructor,H=e.constructor;J!=H&&"constructor"in t&&"constructor"in e&&!(typeof J=="function"&&J instanceof J&&typeof H=="function"&&H instanceof H)&&(L=!1)}return s.delete(t),s.delete(e),L}fl.exports=kw});var dl=l((CT,pl)=>{var Lw=ye(),Dw=le(),Pw=Lw(Dw,"DataView");pl.exports=Pw});var ml=l((MT,gl)=>{var Bw=ye(),jw=le(),Rw=Bw(jw,"Promise");gl.exports=Rw});var vl=l((NT,bl)=>{var $w=ye(),Uw=le(),zw=$w(Uw,"WeakMap");bl.exports=zw});var El=l((FT,_l)=>{var nn=dl(),sn=Tt(),on=ml(),an=zr(),cn=vl(),Sl=Ae(),Re=Or(),xl="[object Map]",Vw="[object Object]",yl="[object Promise]",wl="[object Set]",Ol="[object WeakMap]",Al="[object DataView]",Kw=Re(nn),Hw=Re(sn),Gw=Re(on),Ww=Re(an),Zw=Re(cn),qe=Sl;(nn&&qe(new nn(new ArrayBuffer(1)))!=Al||sn&&qe(new sn)!=xl||on&&qe(on.resolve())!=yl||an&&qe(new an)!=wl||cn&&qe(new cn)!=Ol)&&(qe=function(t){var e=Sl(t),r=e==Vw?t.constructor:void 0,n=r?Re(r):"";if(n)switch(n){case Kw:return Al;case Hw:return xl;case Gw:return yl;case Ww:return wl;case Zw:return Ol}return e});_l.exports=qe});var kl=l((IT,Il)=>{var un=Ft(),Jw=tn(),Yw=Gu(),Xw=hl(),Tl=El(),ql=ie(),Cl=Lt(),Qw=Dt(),eO=1,Ml="[object Arguments]",Nl="[object Array]",zt="[object Object]",tO=Object.prototype,Fl=tO.hasOwnProperty;function rO(t,e,r,n,i,s){var c=ql(t),f=ql(e),d=c?Nl:Tl(t),w=f?Nl:Tl(e);d=d==Ml?zt:d,w=w==Ml?zt:w;var O=d==zt,S=w==zt,E=d==w;if(E&&Cl(t)){if(!Cl(e))return!1;c=!0,O=!1}if(E&&!O)return s||(s=new un),c||Qw(t)?Jw(t,e,r,n,i,s):Yw(t,e,d,r,n,i,s);if(!(r&eO)){var M=O&&Fl.call(t,"__wrapped__"),q=S&&Fl.call(e,"__wrapped__");if(M||q){var L=M?t.value():t,k=q?e.value():e;return s||(s=new un),i(L,k,r,n,s)}}return E?(s||(s=new un),Xw(t,e,r,n,i,s)):!1}Il.exports=rO});var ln=l((kT,Pl)=>{var nO=kl(),Ll=xe();function Dl(t,e,r,n,i){return t===e?!0:t==null||e==null||!Ll(t)&&!Ll(e)?t!==t&&e!==e:nO(t,e,r,n,Dl,i)}Pl.exports=Dl});var jl=l((LT,Bl)=>{var iO=Ft(),sO=ln(),oO=1,aO=2;function cO(t,e,r,n){var i=r.length,s=i,c=!n;if(t==null)return!s;for(t=Object(t);i--;){var f=r[i];if(c&&f[2]?f[1]!==t[f[0]]:!(f[0]in t))return!1}for(;++i<s;){f=r[i];var d=f[0],w=t[d],O=f[1];if(c&&f[2]){if(w===void 0&&!(d in t))return!1}else{var S=new iO;if(n)var E=n(w,O,d,t,e,S);if(!(E===void 0?sO(O,w,oO|aO,n,S):E))return!1}}return!0}Bl.exports=cO});var fn=l((DT,Rl)=>{var uO=ge();function lO(t){return t===t&&!uO(t)}Rl.exports=lO});var Ul=l((PT,$l)=>{var fO=fn(),hO=Ut();function pO(t){for(var e=hO(t),r=e.length;r--;){var n=e[r],i=t[n];e[r]=[n,i,fO(i)]}return e}$l.exports=pO});var hn=l((BT,zl)=>{function dO(t,e){return function(r){return r==null?!1:r[t]===e&&(e!==void 0||t in Object(r))}}zl.exports=dO});var Kl=l((jT,Vl)=>{var gO=jl(),mO=Ul(),bO=hn();function vO(t){var e=mO(t);return e.length==1&&e[0][2]?bO(e[0][0],e[0][1]):function(r){return r===t||gO(r,t,e)}}Vl.exports=vO});var Gl=l((RT,Hl)=>{function xO(t,e){return t!=null&&e in Object(t)}Hl.exports=xO});var Zl=l(($T,Wl)=>{var yO=Gl(),wO=Tr();function OO(t,e){return t!=null&&wO(t,e,yO)}Wl.exports=OO});var Yl=l((UT,Jl)=>{var AO=ln(),SO=Er(),_O=Zl(),EO=_t(),TO=fn(),qO=hn(),CO=Ye(),MO=1,NO=2;function FO(t,e){return EO(t)&&TO(e)?qO(CO(t),e):function(r){var n=SO(r,t);return n===void 0&&n===e?_O(r,t):AO(e,n,MO|NO)}}Jl.exports=FO});var Ql=l((zT,Xl)=>{function IO(t){return function(e){return e?.[t]}}Xl.exports=IO});var tf=l((VT,ef)=>{var kO=Ct();function LO(t){return function(e){return kO(e,t)}}ef.exports=LO});var nf=l((KT,rf)=>{var DO=Ql(),PO=tf(),BO=_t(),jO=Ye();function RO(t){return BO(t)?DO(jO(t)):PO(t)}rf.exports=RO});var of=l((HT,sf)=>{var $O=Kl(),UO=Yl(),zO=nt(),VO=ie(),KO=nf();function HO(t){return typeof t=="function"?t:t==null?zO:typeof t=="object"?VO(t)?UO(t[0],t[1]):$O(t):KO(t)}sf.exports=HO});var cf=l((GT,af)=>{var GO=Mr(),WO=Ut();function ZO(t,e){return t&&GO(t,e,WO)}af.exports=ZO});var lf=l((WT,uf)=>{var JO=_e();function YO(t,e){return function(r,n){if(r==null)return r;if(!JO(r))return t(r,n);for(var i=r.length,s=e?i:-1,c=Object(r);(e?s--:++s<i)&&n(c[s],s,c)!==!1;);return r}}uf.exports=YO});var hf=l((ZT,ff)=>{var XO=cf(),QO=lf(),eA=QO(XO);ff.exports=eA});var df=l((JT,pf)=>{var tA=hf(),rA=_e();function nA(t,e){var r=-1,n=rA(t)?Array(t.length):[];return tA(t,function(i,s,c){n[++r]=e(i,s,c)}),n}pf.exports=nA});var mf=l((YT,gf)=>{function iA(t,e){var r=t.length;for(t.sort(e);r--;)t[r]=t[r].value;return t}gf.exports=iA});var xf=l((XT,vf)=>{var bf=Me();function sA(t,e){if(t!==e){var r=t!==void 0,n=t===null,i=t===t,s=bf(t),c=e!==void 0,f=e===null,d=e===e,w=bf(e);if(!f&&!w&&!s&&t>e||s&&c&&d&&!f&&!w||n&&c&&d||!r&&d||!i)return 1;if(!n&&!s&&!w&&t<e||w&&r&&i&&!n&&!s||f&&r&&i||!c&&i||!d)return-1}return 0}vf.exports=sA});var wf=l((QT,yf)=>{var oA=xf();function aA(t,e,r){for(var n=-1,i=t.criteria,s=e.criteria,c=i.length,f=r.length;++n<c;){var d=oA(i[n],s[n]);if(d){if(n>=f)return d;var w=r[n];return d*(w=="desc"?-1:1)}}return t.index-e.index}yf.exports=aA});var Af=l((eq,Of)=>{var pn=Sr(),cA=Ct(),uA=of(),lA=df(),fA=mf(),hA=kr(),pA=wf(),dA=nt(),gA=ie();function mA(t,e,r){e.length?e=pn(e,function(s){return gA(s)?function(c){return cA(c,s.length===1?s[0]:s)}:s}):e=[dA];var n=-1;e=pn(e,hA(uA));var i=lA(t,function(s,c,f){var d=pn(e,function(w){return w(s)});return{criteria:d,index:++n,value:s}});return fA(i,function(s,c){return pA(s,c,r)})}Of.exports=mA});var Ef=l((tq,_f)=>{var bA=Pu(),vA=Af(),xA=Rr(),Sf=it(),yA=xA(function(t,e){if(t==null)return[];var r=e.length;return r>1&&Sf(t,e[0],e[1])?e=[]:r>2&&Sf(e[0],e[1],e[2])&&(e=[e[0]]),vA(t,bA(e,1),[])});_f.exports=yA});var qf=l((rq,Tf)=>{function wA(t,e,r){for(var n=-1,i=t.length,s=e.length,c={};++n<i;){var f=n<s?e[n]:void 0;r(c,t[n],f)}return c}Tf.exports=wA});var Mf=l((nq,Cf)=>{var OA=Pr(),AA=qf();function SA(t,e){return AA(t||[],e||[],OA)}Cf.exports=SA});var Lf=l((xq,kf)=>{var TA=Math.ceil,qA=Math.max;function CA(t,e,r,n){for(var i=-1,s=qA(TA((e-t)/(r||1)),0),c=Array(s);s--;)c[n?s:++i]=t,t+=r;return c}kf.exports=CA});var Pf=l((yq,Df)=>{var MA=Lf(),NA=it(),vn=Xr();function FA(t){return function(e,r,n){return n&&typeof n!="number"&&NA(e,r,n)&&(r=n=void 0),e=vn(e),r===void 0?(r=e,e=0):r=vn(r),n=n===void 0?e<r?1:-1:vn(n),MA(e,r,n,t)}}Df.exports=FA});var jf=l((wq,Bf)=>{var IA=Pf(),kA=IA();Bf.exports=kA});var Gf=l((wn,On)=>{(function(t,e){typeof define=="function"&&define.amd?define([],e):typeof wn<"u"?e():(e(),t.FileSaver={})})(wn,function(){"use strict";function t(f,d){return typeof d>"u"?d={autoBom:!1}:typeof d!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),d={autoBom:!d}),d.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(f.type)?new Blob(["\uFEFF",f],{type:f.type}):f}function e(f,d,w){var O=new XMLHttpRequest;O.open("GET",f),O.responseType="blob",O.onload=function(){c(O.response,d,w)},O.onerror=function(){console.error("could not download file")},O.send()}function r(f){var d=new XMLHttpRequest;d.open("HEAD",f,!1);try{d.send()}catch{}return 200<=d.status&&299>=d.status}function n(f){try{f.dispatchEvent(new MouseEvent("click"))}catch{var d=document.createEvent("MouseEvents");d.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),f.dispatchEvent(d)}}var i=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof global=="object"&&global.global===global?global:void 0,s=i.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),c=i.saveAs||(typeof window!="object"||window!==i?function(){}:"download"in HTMLAnchorElement.prototype&&!s?function(f,d,w){var O=i.URL||i.webkitURL,S=document.createElement("a");d=d||f.name||"download",S.download=d,S.rel="noopener",typeof f=="string"?(S.href=f,S.origin===location.origin?n(S):r(S.href)?e(f,d,w):n(S,S.target="_blank")):(S.href=O.createObjectURL(f),setTimeout(function(){O.revokeObjectURL(S.href)},4e4),setTimeout(function(){n(S)},0))}:"msSaveOrOpenBlob"in navigator?function(f,d,w){if(d=d||f.name||"download",typeof f!="string")navigator.msSaveOrOpenBlob(t(f,w),d);else if(r(f))e(f,d,w);else{var O=document.createElement("a");O.href=f,O.target="_blank",setTimeout(function(){n(O)})}}:function(f,d,w,O){if(O=O||open("","_blank"),O&&(O.document.title=O.document.body.innerText="downloading..."),typeof f=="string")return e(f,d,w);var S=f.type==="application/octet-stream",E=/constructor/i.test(i.HTMLElement)||i.safari,M=/CriOS\/[\d]+/.test(navigator.userAgent);if((M||S&&E||s)&&typeof FileReader<"u"){var q=new FileReader;q.onloadend=function(){var j=q.result;j=M?j:j.replace(/^data:[^;]*;/,"data:attachment/file;"),O?O.location.href=j:location=j,O=null},q.readAsDataURL(f)}else{var L=i.URL||i.webkitURL,k=L.createObjectURL(f);O?O.location=k:location.href=k,O=null,setTimeout(function(){L.revokeObjectURL(k)},4e4)}});i.saveAs=c.saveAs=c,typeof On<"u"&&(On.exports=c)})});var Jt=class{constructor(e,r,n){this.eventTarget=e,this.eventName=r,this.eventOptions=n,this.unorderedBindings=new Set}connect(){this.eventTarget.addEventListener(this.eventName,this,this.eventOptions)}disconnect(){this.eventTarget.removeEventListener(this.eventName,this,this.eventOptions)}bindingConnected(e){this.unorderedBindings.add(e)}bindingDisconnected(e){this.unorderedBindings.delete(e)}handleEvent(e){let r=ih(e);for(let n of this.bindings){if(r.immediatePropagationStopped)break;n.handleEvent(r)}}hasBindings(){return this.unorderedBindings.size>0}get bindings(){return Array.from(this.unorderedBindings).sort((e,r)=>{let n=e.index,i=r.index;return n<i?-1:n>i?1:0})}};function ih(t){if("immediatePropagationStopped"in t)return t;{let{stopImmediatePropagation:e}=t;return Object.assign(t,{immediatePropagationStopped:!1,stopImmediatePropagation(){this.immediatePropagationStopped=!0,e.call(this)}})}}var Yt=class{constructor(e){this.application=e,this.eventListenerMaps=new Map,this.started=!1}start(){this.started||(this.started=!0,this.eventListeners.forEach(e=>e.connect()))}stop(){this.started&&(this.started=!1,this.eventListeners.forEach(e=>e.disconnect()))}get eventListeners(){return Array.from(this.eventListenerMaps.values()).reduce((e,r)=>e.concat(Array.from(r.values())),[])}bindingConnected(e){this.fetchEventListenerForBinding(e).bindingConnected(e)}bindingDisconnected(e,r=!1){this.fetchEventListenerForBinding(e).bindingDisconnected(e),r&&this.clearEventListenersForBinding(e)}handleError(e,r,n={}){this.application.handleError(e,`Error ${r}`,n)}clearEventListenersForBinding(e){let r=this.fetchEventListenerForBinding(e);r.hasBindings()||(r.disconnect(),this.removeMappedEventListenerFor(e))}removeMappedEventListenerFor(e){let{eventTarget:r,eventName:n,eventOptions:i}=e,s=this.fetchEventListenerMapForEventTarget(r),c=this.cacheKey(n,i);s.delete(c),s.size==0&&this.eventListenerMaps.delete(r)}fetchEventListenerForBinding(e){let{eventTarget:r,eventName:n,eventOptions:i}=e;return this.fetchEventListener(r,n,i)}fetchEventListener(e,r,n){let i=this.fetchEventListenerMapForEventTarget(e),s=this.cacheKey(r,n),c=i.get(s);return c||(c=this.createEventListener(e,r,n),i.set(s,c)),c}createEventListener(e,r,n){let i=new Jt(e,r,n);return this.started&&i.connect(),i}fetchEventListenerMapForEventTarget(e){let r=this.eventListenerMaps.get(e);return r||(r=new Map,this.eventListenerMaps.set(e,r)),r}cacheKey(e,r){let n=[e];return Object.keys(r).sort().forEach(i=>{n.push(`${r[i]?"":"!"}${i}`)}),n.join(":")}},sh={stop({event:t,value:e}){return e&&t.stopPropagation(),!0},prevent({event:t,value:e}){return e&&t.preventDefault(),!0},self({event:t,value:e,element:r}){return e?r===t.target:!0}},oh=/^(?:(?:([^.]+?)\+)?(.+?)(?:\.(.+?))?(?:@(window|document))?->)?(.+?)(?:#([^:]+?))(?::(.+))?$/;function ah(t){let r=t.trim().match(oh)||[],n=r[2],i=r[3];return i&&!["keydown","keyup","keypress"].includes(n)&&(n+=`.${i}`,i=""),{eventTarget:ch(r[4]),eventName:n,eventOptions:r[7]?uh(r[7]):{},identifier:r[5],methodName:r[6],keyFilter:r[1]||i}}function ch(t){if(t=="window")return window;if(t=="document")return document}function uh(t){return t.split(":").reduce((e,r)=>Object.assign(e,{[r.replace(/^!/,"")]:!/^!/.test(r)}),{})}function lh(t){if(t==window)return"window";if(t==document)return"document"}function xr(t){return t.replace(/(?:[_-])([a-z0-9])/g,(e,r)=>r.toUpperCase())}function Xt(t){return xr(t.replace(/--/g,"-").replace(/__/g,"_"))}function Ve(t){return t.charAt(0).toUpperCase()+t.slice(1)}function In(t){return t.replace(/([A-Z])/g,(e,r)=>`-${r.toLowerCase()}`)}function fh(t){return t.match(/[^\s]+/g)||[]}function Sn(t){return t!=null}function Qt(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var _n=["meta","ctrl","alt","shift"],er=class{constructor(e,r,n,i){this.element=e,this.index=r,this.eventTarget=n.eventTarget||e,this.eventName=n.eventName||hh(e)||vt("missing event name"),this.eventOptions=n.eventOptions||{},this.identifier=n.identifier||vt("missing identifier"),this.methodName=n.methodName||vt("missing method name"),this.keyFilter=n.keyFilter||"",this.schema=i}static forToken(e,r){return new this(e.element,e.index,ah(e.content),r)}toString(){let e=this.keyFilter?`.${this.keyFilter}`:"",r=this.eventTargetName?`@${this.eventTargetName}`:"";return`${this.eventName}${e}${r}->${this.identifier}#${this.methodName}`}shouldIgnoreKeyboardEvent(e){if(!this.keyFilter)return!1;let r=this.keyFilter.split("+");if(this.keyFilterDissatisfied(e,r))return!0;let n=r.filter(i=>!_n.includes(i))[0];return n?(Qt(this.keyMappings,n)||vt(`contains unknown key filter: ${this.keyFilter}`),this.keyMappings[n].toLowerCase()!==e.key.toLowerCase()):!1}shouldIgnoreMouseEvent(e){if(!this.keyFilter)return!1;let r=[this.keyFilter];return!!this.keyFilterDissatisfied(e,r)}get params(){let e={},r=new RegExp(`^data-${this.identifier}-(.+)-param$`,"i");for(let{name:n,value:i}of Array.from(this.element.attributes)){let s=n.match(r),c=s&&s[1];c&&(e[xr(c)]=ph(i))}return e}get eventTargetName(){return lh(this.eventTarget)}get keyMappings(){return this.schema.keyMappings}keyFilterDissatisfied(e,r){let[n,i,s,c]=_n.map(f=>r.includes(f));return e.metaKey!==n||e.ctrlKey!==i||e.altKey!==s||e.shiftKey!==c}},En={a:()=>"click",button:()=>"click",form:()=>"submit",details:()=>"toggle",input:t=>t.getAttribute("type")=="submit"?"click":"input",select:()=>"change",textarea:()=>"input"};function hh(t){let e=t.tagName.toLowerCase();if(e in En)return En[e](t)}function vt(t){throw new Error(t)}function ph(t){try{return JSON.parse(t)}catch{return t}}var tr=class{constructor(e,r){this.context=e,this.action=r}get index(){return this.action.index}get eventTarget(){return this.action.eventTarget}get eventOptions(){return this.action.eventOptions}get identifier(){return this.context.identifier}handleEvent(e){let r=this.prepareActionEvent(e);this.willBeInvokedByEvent(e)&&this.applyEventModifiers(r)&&this.invokeWithEvent(r)}get eventName(){return this.action.eventName}get method(){let e=this.controller[this.methodName];if(typeof e=="function")return e;throw new Error(`Action "${this.action}" references undefined method "${this.methodName}"`)}applyEventModifiers(e){let{element:r}=this.action,{actionDescriptorFilters:n}=this.context.application,{controller:i}=this.context,s=!0;for(let[c,f]of Object.entries(this.eventOptions))if(c in n){let d=n[c];s=s&&d({name:c,value:f,event:e,element:r,controller:i})}else continue;return s}prepareActionEvent(e){return Object.assign(e,{params:this.action.params})}invokeWithEvent(e){let{target:r,currentTarget:n}=e;try{this.method.call(this.controller,e),this.context.logDebugActivity(this.methodName,{event:e,target:r,currentTarget:n,action:this.methodName})}catch(i){let{identifier:s,controller:c,element:f,index:d}=this,w={identifier:s,controller:c,element:f,index:d,event:e};this.context.handleError(i,`invoking action "${this.action}"`,w)}}willBeInvokedByEvent(e){let r=e.target;return e instanceof KeyboardEvent&&this.action.shouldIgnoreKeyboardEvent(e)||e instanceof MouseEvent&&this.action.shouldIgnoreMouseEvent(e)?!1:this.element===r?!0:r instanceof Element&&this.element.contains(r)?this.scope.containsElement(r):this.scope.containsElement(this.action.element)}get controller(){return this.context.controller}get methodName(){return this.action.methodName}get element(){return this.scope.element}get scope(){return this.context.scope}},xt=class{constructor(e,r){this.mutationObserverInit={attributes:!0,childList:!0,subtree:!0},this.element=e,this.started=!1,this.delegate=r,this.elements=new Set,this.mutationObserver=new MutationObserver(n=>this.processMutations(n))}start(){this.started||(this.started=!0,this.mutationObserver.observe(this.element,this.mutationObserverInit),this.refresh())}pause(e){this.started&&(this.mutationObserver.disconnect(),this.started=!1),e(),this.started||(this.mutationObserver.observe(this.element,this.mutationObserverInit),this.started=!0)}stop(){this.started&&(this.mutationObserver.takeRecords(),this.mutationObserver.disconnect(),this.started=!1)}refresh(){if(this.started){let e=new Set(this.matchElementsInTree());for(let r of Array.from(this.elements))e.has(r)||this.removeElement(r);for(let r of Array.from(e))this.addElement(r)}}processMutations(e){if(this.started)for(let r of e)this.processMutation(r)}processMutation(e){e.type=="attributes"?this.processAttributeChange(e.target,e.attributeName):e.type=="childList"&&(this.processRemovedNodes(e.removedNodes),this.processAddedNodes(e.addedNodes))}processAttributeChange(e,r){this.elements.has(e)?this.delegate.elementAttributeChanged&&this.matchElement(e)?this.delegate.elementAttributeChanged(e,r):this.removeElement(e):this.matchElement(e)&&this.addElement(e)}processRemovedNodes(e){for(let r of Array.from(e)){let n=this.elementFromNode(r);n&&this.processTree(n,this.removeElement)}}processAddedNodes(e){for(let r of Array.from(e)){let n=this.elementFromNode(r);n&&this.elementIsActive(n)&&this.processTree(n,this.addElement)}}matchElement(e){return this.delegate.matchElement(e)}matchElementsInTree(e=this.element){return this.delegate.matchElementsInTree(e)}processTree(e,r){for(let n of this.matchElementsInTree(e))r.call(this,n)}elementFromNode(e){if(e.nodeType==Node.ELEMENT_NODE)return e}elementIsActive(e){return e.isConnected!=this.element.isConnected?!1:this.element.contains(e)}addElement(e){this.elements.has(e)||this.elementIsActive(e)&&(this.elements.add(e),this.delegate.elementMatched&&this.delegate.elementMatched(e))}removeElement(e){this.elements.has(e)&&(this.elements.delete(e),this.delegate.elementUnmatched&&this.delegate.elementUnmatched(e))}},yt=class{constructor(e,r,n){this.attributeName=r,this.delegate=n,this.elementObserver=new xt(e,this)}get element(){return this.elementObserver.element}get selector(){return`[${this.attributeName}]`}start(){this.elementObserver.start()}pause(e){this.elementObserver.pause(e)}stop(){this.elementObserver.stop()}refresh(){this.elementObserver.refresh()}get started(){return this.elementObserver.started}matchElement(e){return e.hasAttribute(this.attributeName)}matchElementsInTree(e){let r=this.matchElement(e)?[e]:[],n=Array.from(e.querySelectorAll(this.selector));return r.concat(n)}elementMatched(e){this.delegate.elementMatchedAttribute&&this.delegate.elementMatchedAttribute(e,this.attributeName)}elementUnmatched(e){this.delegate.elementUnmatchedAttribute&&this.delegate.elementUnmatchedAttribute(e,this.attributeName)}elementAttributeChanged(e,r){this.delegate.elementAttributeValueChanged&&this.attributeName==r&&this.delegate.elementAttributeValueChanged(e,r)}};function dh(t,e,r){kn(t,e).add(r)}function gh(t,e,r){kn(t,e).delete(r),mh(t,e)}function kn(t,e){let r=t.get(e);return r||(r=new Set,t.set(e,r)),r}function mh(t,e){let r=t.get(e);r!=null&&r.size==0&&t.delete(e)}var me=class{constructor(){this.valuesByKey=new Map}get keys(){return Array.from(this.valuesByKey.keys())}get values(){return Array.from(this.valuesByKey.values()).reduce((r,n)=>r.concat(Array.from(n)),[])}get size(){return Array.from(this.valuesByKey.values()).reduce((r,n)=>r+n.size,0)}add(e,r){dh(this.valuesByKey,e,r)}delete(e,r){gh(this.valuesByKey,e,r)}has(e,r){let n=this.valuesByKey.get(e);return n!=null&&n.has(r)}hasKey(e){return this.valuesByKey.has(e)}hasValue(e){return Array.from(this.valuesByKey.values()).some(n=>n.has(e))}getValuesForKey(e){let r=this.valuesByKey.get(e);return r?Array.from(r):[]}getKeysForValue(e){return Array.from(this.valuesByKey).filter(([r,n])=>n.has(e)).map(([r,n])=>r)}};var rr=class{constructor(e,r,n,i){this._selector=r,this.details=i,this.elementObserver=new xt(e,this),this.delegate=n,this.matchesByElement=new me}get started(){return this.elementObserver.started}get selector(){return this._selector}set selector(e){this._selector=e,this.refresh()}start(){this.elementObserver.start()}pause(e){this.elementObserver.pause(e)}stop(){this.elementObserver.stop()}refresh(){this.elementObserver.refresh()}get element(){return this.elementObserver.element}matchElement(e){let{selector:r}=this;if(r){let n=e.matches(r);return this.delegate.selectorMatchElement?n&&this.delegate.selectorMatchElement(e,this.details):n}else return!1}matchElementsInTree(e){let{selector:r}=this;if(r){let n=this.matchElement(e)?[e]:[],i=Array.from(e.querySelectorAll(r)).filter(s=>this.matchElement(s));return n.concat(i)}else return[]}elementMatched(e){let{selector:r}=this;r&&this.selectorMatched(e,r)}elementUnmatched(e){let r=this.matchesByElement.getKeysForValue(e);for(let n of r)this.selectorUnmatched(e,n)}elementAttributeChanged(e,r){let{selector:n}=this;if(n){let i=this.matchElement(e),s=this.matchesByElement.has(n,e);i&&!s?this.selectorMatched(e,n):!i&&s&&this.selectorUnmatched(e,n)}}selectorMatched(e,r){this.delegate.selectorMatched(e,r,this.details),this.matchesByElement.add(r,e)}selectorUnmatched(e,r){this.delegate.selectorUnmatched(e,r,this.details),this.matchesByElement.delete(r,e)}},nr=class{constructor(e,r){this.element=e,this.delegate=r,this.started=!1,this.stringMap=new Map,this.mutationObserver=new MutationObserver(n=>this.processMutations(n))}start(){this.started||(this.started=!0,this.mutationObserver.observe(this.element,{attributes:!0,attributeOldValue:!0}),this.refresh())}stop(){this.started&&(this.mutationObserver.takeRecords(),this.mutationObserver.disconnect(),this.started=!1)}refresh(){if(this.started)for(let e of this.knownAttributeNames)this.refreshAttribute(e,null)}processMutations(e){if(this.started)for(let r of e)this.processMutation(r)}processMutation(e){let r=e.attributeName;r&&this.refreshAttribute(r,e.oldValue)}refreshAttribute(e,r){let n=this.delegate.getStringMapKeyForAttribute(e);if(n!=null){this.stringMap.has(e)||this.stringMapKeyAdded(n,e);let i=this.element.getAttribute(e);if(this.stringMap.get(e)!=i&&this.stringMapValueChanged(i,n,r),i==null){let s=this.stringMap.get(e);this.stringMap.delete(e),s&&this.stringMapKeyRemoved(n,e,s)}else this.stringMap.set(e,i)}}stringMapKeyAdded(e,r){this.delegate.stringMapKeyAdded&&this.delegate.stringMapKeyAdded(e,r)}stringMapValueChanged(e,r,n){this.delegate.stringMapValueChanged&&this.delegate.stringMapValueChanged(e,r,n)}stringMapKeyRemoved(e,r,n){this.delegate.stringMapKeyRemoved&&this.delegate.stringMapKeyRemoved(e,r,n)}get knownAttributeNames(){return Array.from(new Set(this.currentAttributeNames.concat(this.recordedAttributeNames)))}get currentAttributeNames(){return Array.from(this.element.attributes).map(e=>e.name)}get recordedAttributeNames(){return Array.from(this.stringMap.keys())}},wt=class{constructor(e,r,n){this.attributeObserver=new yt(e,r,this),this.delegate=n,this.tokensByElement=new me}get started(){return this.attributeObserver.started}start(){this.attributeObserver.start()}pause(e){this.attributeObserver.pause(e)}stop(){this.attributeObserver.stop()}refresh(){this.attributeObserver.refresh()}get element(){return this.attributeObserver.element}get attributeName(){return this.attributeObserver.attributeName}elementMatchedAttribute(e){this.tokensMatched(this.readTokensForElement(e))}elementAttributeValueChanged(e){let[r,n]=this.refreshTokensForElement(e);this.tokensUnmatched(r),this.tokensMatched(n)}elementUnmatchedAttribute(e){this.tokensUnmatched(this.tokensByElement.getValuesForKey(e))}tokensMatched(e){e.forEach(r=>this.tokenMatched(r))}tokensUnmatched(e){e.forEach(r=>this.tokenUnmatched(r))}tokenMatched(e){this.delegate.tokenMatched(e),this.tokensByElement.add(e.element,e)}tokenUnmatched(e){this.delegate.tokenUnmatched(e),this.tokensByElement.delete(e.element,e)}refreshTokensForElement(e){let r=this.tokensByElement.getValuesForKey(e),n=this.readTokensForElement(e),i=vh(r,n).findIndex(([s,c])=>!xh(s,c));return i==-1?[[],[]]:[r.slice(i),n.slice(i)]}readTokensForElement(e){let r=this.attributeName,n=e.getAttribute(r)||"";return bh(n,e,r)}};function bh(t,e,r){return t.trim().split(/\s+/).filter(n=>n.length).map((n,i)=>({element:e,attributeName:r,content:n,index:i}))}function vh(t,e){let r=Math.max(t.length,e.length);return Array.from({length:r},(n,i)=>[t[i],e[i]])}function xh(t,e){return t&&e&&t.index==e.index&&t.content==e.content}var Ot=class{constructor(e,r,n){this.tokenListObserver=new wt(e,r,this),this.delegate=n,this.parseResultsByToken=new WeakMap,this.valuesByTokenByElement=new WeakMap}get started(){return this.tokenListObserver.started}start(){this.tokenListObserver.start()}stop(){this.tokenListObserver.stop()}refresh(){this.tokenListObserver.refresh()}get element(){return this.tokenListObserver.element}get attributeName(){return this.tokenListObserver.attributeName}tokenMatched(e){let{element:r}=e,{value:n}=this.fetchParseResultForToken(e);n&&(this.fetchValuesByTokenForElement(r).set(e,n),this.delegate.elementMatchedValue(r,n))}tokenUnmatched(e){let{element:r}=e,{value:n}=this.fetchParseResultForToken(e);n&&(this.fetchValuesByTokenForElement(r).delete(e),this.delegate.elementUnmatchedValue(r,n))}fetchParseResultForToken(e){let r=this.parseResultsByToken.get(e);return r||(r=this.parseToken(e),this.parseResultsByToken.set(e,r)),r}fetchValuesByTokenForElement(e){let r=this.valuesByTokenByElement.get(e);return r||(r=new Map,this.valuesByTokenByElement.set(e,r)),r}parseToken(e){try{return{value:this.delegate.parseValueForToken(e)}}catch(r){return{error:r}}}},ir=class{constructor(e,r){this.context=e,this.delegate=r,this.bindingsByAction=new Map}start(){this.valueListObserver||(this.valueListObserver=new Ot(this.element,this.actionAttribute,this),this.valueListObserver.start())}stop(){this.valueListObserver&&(this.valueListObserver.stop(),delete this.valueListObserver,this.disconnectAllActions())}get element(){return this.context.element}get identifier(){return this.context.identifier}get actionAttribute(){return this.schema.actionAttribute}get schema(){return this.context.schema}get bindings(){return Array.from(this.bindingsByAction.values())}connectAction(e){let r=new tr(this.context,e);this.bindingsByAction.set(e,r),this.delegate.bindingConnected(r)}disconnectAction(e){let r=this.bindingsByAction.get(e);r&&(this.bindingsByAction.delete(e),this.delegate.bindingDisconnected(r))}disconnectAllActions(){this.bindings.forEach(e=>this.delegate.bindingDisconnected(e,!0)),this.bindingsByAction.clear()}parseValueForToken(e){let r=er.forToken(e,this.schema);if(r.identifier==this.identifier)return r}elementMatchedValue(e,r){this.connectAction(r)}elementUnmatchedValue(e,r){this.disconnectAction(r)}},sr=class{constructor(e,r){this.context=e,this.receiver=r,this.stringMapObserver=new nr(this.element,this),this.valueDescriptorMap=this.controller.valueDescriptorMap}start(){this.stringMapObserver.start(),this.invokeChangedCallbacksForDefaultValues()}stop(){this.stringMapObserver.stop()}get element(){return this.context.element}get controller(){return this.context.controller}getStringMapKeyForAttribute(e){if(e in this.valueDescriptorMap)return this.valueDescriptorMap[e].name}stringMapKeyAdded(e,r){let n=this.valueDescriptorMap[r];this.hasValue(e)||this.invokeChangedCallback(e,n.writer(this.receiver[e]),n.writer(n.defaultValue))}stringMapValueChanged(e,r,n){let i=this.valueDescriptorNameMap[r];e!==null&&(n===null&&(n=i.writer(i.defaultValue)),this.invokeChangedCallback(r,e,n))}stringMapKeyRemoved(e,r,n){let i=this.valueDescriptorNameMap[e];this.hasValue(e)?this.invokeChangedCallback(e,i.writer(this.receiver[e]),n):this.invokeChangedCallback(e,i.writer(i.defaultValue),n)}invokeChangedCallbacksForDefaultValues(){for(let{key:e,name:r,defaultValue:n,writer:i}of this.valueDescriptors)n!=null&&!this.controller.data.has(e)&&this.invokeChangedCallback(r,i(n),void 0)}invokeChangedCallback(e,r,n){let i=`${e}Changed`,s=this.receiver[i];if(typeof s=="function"){let c=this.valueDescriptorNameMap[e];try{let f=c.reader(r),d=n;n&&(d=c.reader(n)),s.call(this.receiver,f,d)}catch(f){throw f instanceof TypeError&&(f.message=`Stimulus Value "${this.context.identifier}.${c.name}" - ${f.message}`),f}}}get valueDescriptors(){let{valueDescriptorMap:e}=this;return Object.keys(e).map(r=>e[r])}get valueDescriptorNameMap(){let e={};return Object.keys(this.valueDescriptorMap).forEach(r=>{let n=this.valueDescriptorMap[r];e[n.name]=n}),e}hasValue(e){let r=this.valueDescriptorNameMap[e],n=`has${Ve(r.name)}`;return this.receiver[n]}},or=class{constructor(e,r){this.context=e,this.delegate=r,this.targetsByName=new me}start(){this.tokenListObserver||(this.tokenListObserver=new wt(this.element,this.attributeName,this),this.tokenListObserver.start())}stop(){this.tokenListObserver&&(this.disconnectAllTargets(),this.tokenListObserver.stop(),delete this.tokenListObserver)}tokenMatched({element:e,content:r}){this.scope.containsElement(e)&&this.connectTarget(e,r)}tokenUnmatched({element:e,content:r}){this.disconnectTarget(e,r)}connectTarget(e,r){var n;this.targetsByName.has(r,e)||(this.targetsByName.add(r,e),(n=this.tokenListObserver)===null||n===void 0||n.pause(()=>this.delegate.targetConnected(e,r)))}disconnectTarget(e,r){var n;this.targetsByName.has(r,e)&&(this.targetsByName.delete(r,e),(n=this.tokenListObserver)===null||n===void 0||n.pause(()=>this.delegate.targetDisconnected(e,r)))}disconnectAllTargets(){for(let e of this.targetsByName.keys)for(let r of this.targetsByName.getValuesForKey(e))this.disconnectTarget(r,e)}get attributeName(){return`data-${this.context.identifier}-target`}get element(){return this.context.element}get scope(){return this.context.scope}};function Ke(t,e){let r=Ln(t);return Array.from(r.reduce((n,i)=>(wh(i,e).forEach(s=>n.add(s)),n),new Set))}function yh(t,e){return Ln(t).reduce((n,i)=>(n.push(...Oh(i,e)),n),[])}function Ln(t){let e=[];for(;t;)e.push(t),t=Object.getPrototypeOf(t);return e.reverse()}function wh(t,e){let r=t[e];return Array.isArray(r)?r:[]}function Oh(t,e){let r=t[e];return r?Object.keys(r).map(n=>[n,r[n]]):[]}var ar=class{constructor(e,r){this.started=!1,this.context=e,this.delegate=r,this.outletsByName=new me,this.outletElementsByName=new me,this.selectorObserverMap=new Map,this.attributeObserverMap=new Map}start(){this.started||(this.outletDefinitions.forEach(e=>{this.setupSelectorObserverForOutlet(e),this.setupAttributeObserverForOutlet(e)}),this.started=!0,this.dependentContexts.forEach(e=>e.refresh()))}refresh(){this.selectorObserverMap.forEach(e=>e.refresh()),this.attributeObserverMap.forEach(e=>e.refresh())}stop(){this.started&&(this.started=!1,this.disconnectAllOutlets(),this.stopSelectorObservers(),this.stopAttributeObservers())}stopSelectorObservers(){this.selectorObserverMap.size>0&&(this.selectorObserverMap.forEach(e=>e.stop()),this.selectorObserverMap.clear())}stopAttributeObservers(){this.attributeObserverMap.size>0&&(this.attributeObserverMap.forEach(e=>e.stop()),this.attributeObserverMap.clear())}selectorMatched(e,r,{outletName:n}){let i=this.getOutlet(e,n);i&&this.connectOutlet(i,e,n)}selectorUnmatched(e,r,{outletName:n}){let i=this.getOutletFromMap(e,n);i&&this.disconnectOutlet(i,e,n)}selectorMatchElement(e,{outletName:r}){let n=this.selector(r),i=this.hasOutlet(e,r),s=e.matches(`[${this.schema.controllerAttribute}~=${r}]`);return n?i&&s&&e.matches(n):!1}elementMatchedAttribute(e,r){let n=this.getOutletNameFromOutletAttributeName(r);n&&this.updateSelectorObserverForOutlet(n)}elementAttributeValueChanged(e,r){let n=this.getOutletNameFromOutletAttributeName(r);n&&this.updateSelectorObserverForOutlet(n)}elementUnmatchedAttribute(e,r){let n=this.getOutletNameFromOutletAttributeName(r);n&&this.updateSelectorObserverForOutlet(n)}connectOutlet(e,r,n){var i;this.outletElementsByName.has(n,r)||(this.outletsByName.add(n,e),this.outletElementsByName.add(n,r),(i=this.selectorObserverMap.get(n))===null||i===void 0||i.pause(()=>this.delegate.outletConnected(e,r,n)))}disconnectOutlet(e,r,n){var i;this.outletElementsByName.has(n,r)&&(this.outletsByName.delete(n,e),this.outletElementsByName.delete(n,r),(i=this.selectorObserverMap.get(n))===null||i===void 0||i.pause(()=>this.delegate.outletDisconnected(e,r,n)))}disconnectAllOutlets(){for(let e of this.outletElementsByName.keys)for(let r of this.outletElementsByName.getValuesForKey(e))for(let n of this.outletsByName.getValuesForKey(e))this.disconnectOutlet(n,r,e)}updateSelectorObserverForOutlet(e){let r=this.selectorObserverMap.get(e);r&&(r.selector=this.selector(e))}setupSelectorObserverForOutlet(e){let r=this.selector(e),n=new rr(document.body,r,this,{outletName:e});this.selectorObserverMap.set(e,n),n.start()}setupAttributeObserverForOutlet(e){let r=this.attributeNameForOutletName(e),n=new yt(this.scope.element,r,this);this.attributeObserverMap.set(e,n),n.start()}selector(e){return this.scope.outlets.getSelectorForOutletName(e)}attributeNameForOutletName(e){return this.scope.schema.outletAttributeForScope(this.identifier,e)}getOutletNameFromOutletAttributeName(e){return this.outletDefinitions.find(r=>this.attributeNameForOutletName(r)===e)}get outletDependencies(){let e=new me;return this.router.modules.forEach(r=>{let n=r.definition.controllerConstructor;Ke(n,"outlets").forEach(s=>e.add(s,r.identifier))}),e}get outletDefinitions(){return this.outletDependencies.getKeysForValue(this.identifier)}get dependentControllerIdentifiers(){return this.outletDependencies.getValuesForKey(this.identifier)}get dependentContexts(){let e=this.dependentControllerIdentifiers;return this.router.contexts.filter(r=>e.includes(r.identifier))}hasOutlet(e,r){return!!this.getOutlet(e,r)||!!this.getOutletFromMap(e,r)}getOutlet(e,r){return this.application.getControllerForElementAndIdentifier(e,r)}getOutletFromMap(e,r){return this.outletsByName.getValuesForKey(r).find(n=>n.element===e)}get scope(){return this.context.scope}get schema(){return this.context.schema}get identifier(){return this.context.identifier}get application(){return this.context.application}get router(){return this.application.router}},cr=class{constructor(e,r){this.logDebugActivity=(n,i={})=>{let{identifier:s,controller:c,element:f}=this;i=Object.assign({identifier:s,controller:c,element:f},i),this.application.logDebugActivity(this.identifier,n,i)},this.module=e,this.scope=r,this.controller=new e.controllerConstructor(this),this.bindingObserver=new ir(this,this.dispatcher),this.valueObserver=new sr(this,this.controller),this.targetObserver=new or(this,this),this.outletObserver=new ar(this,this);try{this.controller.initialize(),this.logDebugActivity("initialize")}catch(n){this.handleError(n,"initializing controller")}}connect(){this.bindingObserver.start(),this.valueObserver.start(),this.targetObserver.start(),this.outletObserver.start();try{this.controller.connect(),this.logDebugActivity("connect")}catch(e){this.handleError(e,"connecting controller")}}refresh(){this.outletObserver.refresh()}disconnect(){try{this.controller.disconnect(),this.logDebugActivity("disconnect")}catch(e){this.handleError(e,"disconnecting controller")}this.outletObserver.stop(),this.targetObserver.stop(),this.valueObserver.stop(),this.bindingObserver.stop()}get application(){return this.module.application}get identifier(){return this.module.identifier}get schema(){return this.application.schema}get dispatcher(){return this.application.dispatcher}get element(){return this.scope.element}get parentElement(){return this.element.parentElement}handleError(e,r,n={}){let{identifier:i,controller:s,element:c}=this;n=Object.assign({identifier:i,controller:s,element:c},n),this.application.handleError(e,`Error ${r}`,n)}targetConnected(e,r){this.invokeControllerMethod(`${r}TargetConnected`,e)}targetDisconnected(e,r){this.invokeControllerMethod(`${r}TargetDisconnected`,e)}outletConnected(e,r,n){this.invokeControllerMethod(`${Xt(n)}OutletConnected`,e,r)}outletDisconnected(e,r,n){this.invokeControllerMethod(`${Xt(n)}OutletDisconnected`,e,r)}invokeControllerMethod(e,...r){let n=this.controller;typeof n[e]=="function"&&n[e](...r)}};function Ah(t){return Sh(t,_h(t))}function Sh(t,e){let r=Ch(t),n=Eh(t.prototype,e);return Object.defineProperties(r.prototype,n),r}function _h(t){return Ke(t,"blessings").reduce((r,n)=>{let i=n(t);for(let s in i){let c=r[s]||{};r[s]=Object.assign(c,i[s])}return r},{})}function Eh(t,e){return qh(e).reduce((r,n)=>{let i=Th(t,e,n);return i&&Object.assign(r,{[n]:i}),r},{})}function Th(t,e,r){let n=Object.getOwnPropertyDescriptor(t,r);if(!(n&&"value"in n)){let s=Object.getOwnPropertyDescriptor(e,r).value;return n&&(s.get=n.get||s.get,s.set=n.set||s.set),s}}var qh=typeof Object.getOwnPropertySymbols=="function"?t=>[...Object.getOwnPropertyNames(t),...Object.getOwnPropertySymbols(t)]:Object.getOwnPropertyNames,Ch=(()=>{function t(r){function n(){return Reflect.construct(r,arguments,new.target)}return n.prototype=Object.create(r.prototype,{constructor:{value:n}}),Reflect.setPrototypeOf(n,r),n}function e(){let n=t(function(){this.a.call(this)});return n.prototype.a=function(){},new n}try{return e(),t}catch{return n=>class extends n{}}})();function Mh(t){return{identifier:t.identifier,controllerConstructor:Ah(t.controllerConstructor)}}var ur=class{constructor(e,r){this.application=e,this.definition=Mh(r),this.contextsByScope=new WeakMap,this.connectedContexts=new Set}get identifier(){return this.definition.identifier}get controllerConstructor(){return this.definition.controllerConstructor}get contexts(){return Array.from(this.connectedContexts)}connectContextForScope(e){let r=this.fetchContextForScope(e);this.connectedContexts.add(r),r.connect()}disconnectContextForScope(e){let r=this.contextsByScope.get(e);r&&(this.connectedContexts.delete(r),r.disconnect())}fetchContextForScope(e){let r=this.contextsByScope.get(e);return r||(r=new cr(this,e),this.contextsByScope.set(e,r)),r}},lr=class{constructor(e){this.scope=e}has(e){return this.data.has(this.getDataKey(e))}get(e){return this.getAll(e)[0]}getAll(e){let r=this.data.get(this.getDataKey(e))||"";return fh(r)}getAttributeName(e){return this.data.getAttributeNameForKey(this.getDataKey(e))}getDataKey(e){return`${e}-class`}get data(){return this.scope.data}},fr=class{constructor(e){this.scope=e}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get(e){let r=this.getAttributeNameForKey(e);return this.element.getAttribute(r)}set(e,r){let n=this.getAttributeNameForKey(e);return this.element.setAttribute(n,r),this.get(e)}has(e){let r=this.getAttributeNameForKey(e);return this.element.hasAttribute(r)}delete(e){if(this.has(e)){let r=this.getAttributeNameForKey(e);return this.element.removeAttribute(r),!0}else return!1}getAttributeNameForKey(e){return`data-${this.identifier}-${In(e)}`}},hr=class{constructor(e){this.warnedKeysByObject=new WeakMap,this.logger=e}warn(e,r,n){let i=this.warnedKeysByObject.get(e);i||(i=new Set,this.warnedKeysByObject.set(e,i)),i.has(r)||(i.add(r),this.logger.warn(n,e))}};function pr(t,e){return`[${t}~="${e}"]`}var dr=class{constructor(e){this.scope=e}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get schema(){return this.scope.schema}has(e){return this.find(e)!=null}find(...e){return e.reduce((r,n)=>r||this.findTarget(n)||this.findLegacyTarget(n),void 0)}findAll(...e){return e.reduce((r,n)=>[...r,...this.findAllTargets(n),...this.findAllLegacyTargets(n)],[])}findTarget(e){let r=this.getSelectorForTargetName(e);return this.scope.findElement(r)}findAllTargets(e){let r=this.getSelectorForTargetName(e);return this.scope.findAllElements(r)}getSelectorForTargetName(e){let r=this.schema.targetAttributeForScope(this.identifier);return pr(r,e)}findLegacyTarget(e){let r=this.getLegacySelectorForTargetName(e);return this.deprecate(this.scope.findElement(r),e)}findAllLegacyTargets(e){let r=this.getLegacySelectorForTargetName(e);return this.scope.findAllElements(r).map(n=>this.deprecate(n,e))}getLegacySelectorForTargetName(e){let r=`${this.identifier}.${e}`;return pr(this.schema.targetAttribute,r)}deprecate(e,r){if(e){let{identifier:n}=this,i=this.schema.targetAttribute,s=this.schema.targetAttributeForScope(n);this.guide.warn(e,`target:${r}`,`Please replace ${i}="${n}.${r}" with ${s}="${r}". The ${i} attribute is deprecated and will be removed in a future version of Stimulus.`)}return e}get guide(){return this.scope.guide}},gr=class{constructor(e,r){this.scope=e,this.controllerElement=r}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get schema(){return this.scope.schema}has(e){return this.find(e)!=null}find(...e){return e.reduce((r,n)=>r||this.findOutlet(n),void 0)}findAll(...e){return e.reduce((r,n)=>[...r,...this.findAllOutlets(n)],[])}getSelectorForOutletName(e){let r=this.schema.outletAttributeForScope(this.identifier,e);return this.controllerElement.getAttribute(r)}findOutlet(e){let r=this.getSelectorForOutletName(e);if(r)return this.findElement(r,e)}findAllOutlets(e){let r=this.getSelectorForOutletName(e);return r?this.findAllElements(r,e):[]}findElement(e,r){return this.scope.queryElements(e).filter(i=>this.matchesElement(i,e,r))[0]}findAllElements(e,r){return this.scope.queryElements(e).filter(i=>this.matchesElement(i,e,r))}matchesElement(e,r,n){let i=e.getAttribute(this.scope.schema.controllerAttribute)||"";return e.matches(r)&&i.split(" ").includes(n)}},mr=class t{constructor(e,r,n,i){this.targets=new dr(this),this.classes=new lr(this),this.data=new fr(this),this.containsElement=s=>s.closest(this.controllerSelector)===this.element,this.schema=e,this.element=r,this.identifier=n,this.guide=new hr(i),this.outlets=new gr(this.documentScope,r)}findElement(e){return this.element.matches(e)?this.element:this.queryElements(e).find(this.containsElement)}findAllElements(e){return[...this.element.matches(e)?[this.element]:[],...this.queryElements(e).filter(this.containsElement)]}queryElements(e){return Array.from(this.element.querySelectorAll(e))}get controllerSelector(){return pr(this.schema.controllerAttribute,this.identifier)}get isDocumentScope(){return this.element===document.documentElement}get documentScope(){return this.isDocumentScope?this:new t(this.schema,document.documentElement,this.identifier,this.guide.logger)}},br=class{constructor(e,r,n){this.element=e,this.schema=r,this.delegate=n,this.valueListObserver=new Ot(this.element,this.controllerAttribute,this),this.scopesByIdentifierByElement=new WeakMap,this.scopeReferenceCounts=new WeakMap}start(){this.valueListObserver.start()}stop(){this.valueListObserver.stop()}get controllerAttribute(){return this.schema.controllerAttribute}parseValueForToken(e){let{element:r,content:n}=e;return this.parseValueForElementAndIdentifier(r,n)}parseValueForElementAndIdentifier(e,r){let n=this.fetchScopesByIdentifierForElement(e),i=n.get(r);return i||(i=this.delegate.createScopeForElementAndIdentifier(e,r),n.set(r,i)),i}elementMatchedValue(e,r){let n=(this.scopeReferenceCounts.get(r)||0)+1;this.scopeReferenceCounts.set(r,n),n==1&&this.delegate.scopeConnected(r)}elementUnmatchedValue(e,r){let n=this.scopeReferenceCounts.get(r);n&&(this.scopeReferenceCounts.set(r,n-1),n==1&&this.delegate.scopeDisconnected(r))}fetchScopesByIdentifierForElement(e){let r=this.scopesByIdentifierByElement.get(e);return r||(r=new Map,this.scopesByIdentifierByElement.set(e,r)),r}},vr=class{constructor(e){this.application=e,this.scopeObserver=new br(this.element,this.schema,this),this.scopesByIdentifier=new me,this.modulesByIdentifier=new Map}get element(){return this.application.element}get schema(){return this.application.schema}get logger(){return this.application.logger}get controllerAttribute(){return this.schema.controllerAttribute}get modules(){return Array.from(this.modulesByIdentifier.values())}get contexts(){return this.modules.reduce((e,r)=>e.concat(r.contexts),[])}start(){this.scopeObserver.start()}stop(){this.scopeObserver.stop()}loadDefinition(e){this.unloadIdentifier(e.identifier);let r=new ur(this.application,e);this.connectModule(r);let n=e.controllerConstructor.afterLoad;n&&n.call(e.controllerConstructor,e.identifier,this.application)}unloadIdentifier(e){let r=this.modulesByIdentifier.get(e);r&&this.disconnectModule(r)}getContextForElementAndIdentifier(e,r){let n=this.modulesByIdentifier.get(r);if(n)return n.contexts.find(i=>i.element==e)}proposeToConnectScopeForElementAndIdentifier(e,r){let n=this.scopeObserver.parseValueForElementAndIdentifier(e,r);n?this.scopeObserver.elementMatchedValue(n.element,n):console.error(`Couldn't find or create scope for identifier: "${r}" and element:`,e)}handleError(e,r,n){this.application.handleError(e,r,n)}createScopeForElementAndIdentifier(e,r){return new mr(this.schema,e,r,this.logger)}scopeConnected(e){this.scopesByIdentifier.add(e.identifier,e);let r=this.modulesByIdentifier.get(e.identifier);r&&r.connectContextForScope(e)}scopeDisconnected(e){this.scopesByIdentifier.delete(e.identifier,e);let r=this.modulesByIdentifier.get(e.identifier);r&&r.disconnectContextForScope(e)}connectModule(e){this.modulesByIdentifier.set(e.identifier,e),this.scopesByIdentifier.getValuesForKey(e.identifier).forEach(n=>e.connectContextForScope(n))}disconnectModule(e){this.modulesByIdentifier.delete(e.identifier),this.scopesByIdentifier.getValuesForKey(e.identifier).forEach(n=>e.disconnectContextForScope(n))}},Nh={controllerAttribute:"data-controller",actionAttribute:"data-action",targetAttribute:"data-target",targetAttributeForScope:t=>`data-${t}-target`,outletAttributeForScope:(t,e)=>`data-${t}-${e}-outlet`,keyMappings:Object.assign(Object.assign({enter:"Enter",tab:"Tab",esc:"Escape",space:" ",up:"ArrowUp",down:"ArrowDown",left:"ArrowLeft",right:"ArrowRight",home:"Home",end:"End",page_up:"PageUp",page_down:"PageDown"},Tn("abcdefghijklmnopqrstuvwxyz".split("").map(t=>[t,t]))),Tn("0123456789".split("").map(t=>[t,t])))};function Tn(t){return t.reduce((e,[r,n])=>Object.assign(Object.assign({},e),{[r]:n}),{})}var At=class{constructor(e=document.documentElement,r=Nh){this.logger=console,this.debug=!1,this.logDebugActivity=(n,i,s={})=>{this.debug&&this.logFormattedMessage(n,i,s)},this.element=e,this.schema=r,this.dispatcher=new Yt(this),this.router=new vr(this),this.actionDescriptorFilters=Object.assign({},sh)}static start(e,r){let n=new this(e,r);return n.start(),n}async start(){await Fh(),this.logDebugActivity("application","starting"),this.dispatcher.start(),this.router.start(),this.logDebugActivity("application","start")}stop(){this.logDebugActivity("application","stopping"),this.dispatcher.stop(),this.router.stop(),this.logDebugActivity("application","stop")}register(e,r){this.load({identifier:e,controllerConstructor:r})}registerActionOption(e,r){this.actionDescriptorFilters[e]=r}load(e,...r){(Array.isArray(e)?e:[e,...r]).forEach(i=>{i.controllerConstructor.shouldLoad&&this.router.loadDefinition(i)})}unload(e,...r){(Array.isArray(e)?e:[e,...r]).forEach(i=>this.router.unloadIdentifier(i))}get controllers(){return this.router.contexts.map(e=>e.controller)}getControllerForElementAndIdentifier(e,r){let n=this.router.getContextForElementAndIdentifier(e,r);return n?n.controller:null}handleError(e,r,n){var i;this.logger.error(`%s

%o

%o`,r,e,n),(i=window.onerror)===null||i===void 0||i.call(window,r,"",0,0,e)}logFormattedMessage(e,r,n={}){n=Object.assign({application:this},n),this.logger.groupCollapsed(`${e} #${r}`),this.logger.log("details:",Object.assign({},n)),this.logger.groupEnd()}};function Fh(){return new Promise(t=>{document.readyState=="loading"?document.addEventListener("DOMContentLoaded",()=>t()):t()})}function Ih(t){return Ke(t,"classes").reduce((r,n)=>Object.assign(r,kh(n)),{})}function kh(t){return{[`${t}Class`]:{get(){let{classes:e}=this;if(e.has(t))return e.get(t);{let r=e.getAttributeName(t);throw new Error(`Missing attribute "${r}"`)}}},[`${t}Classes`]:{get(){return this.classes.getAll(t)}},[`has${Ve(t)}Class`]:{get(){return this.classes.has(t)}}}}function Lh(t){return Ke(t,"outlets").reduce((r,n)=>Object.assign(r,Dh(n)),{})}function qn(t,e,r){return t.application.getControllerForElementAndIdentifier(e,r)}function Cn(t,e,r){let n=qn(t,e,r);if(n||(t.application.router.proposeToConnectScopeForElementAndIdentifier(e,r),n=qn(t,e,r),n))return n}function Dh(t){let e=Xt(t);return{[`${e}Outlet`]:{get(){let r=this.outlets.find(t),n=this.outlets.getSelectorForOutletName(t);if(r){let i=Cn(this,r,t);if(i)return i;throw new Error(`The provided outlet element is missing an outlet controller "${t}" instance for host controller "${this.identifier}"`)}throw new Error(`Missing outlet element "${t}" for host controller "${this.identifier}". Stimulus couldn't find a matching outlet element using selector "${n}".`)}},[`${e}Outlets`]:{get(){let r=this.outlets.findAll(t);return r.length>0?r.map(n=>{let i=Cn(this,n,t);if(i)return i;console.warn(`The provided outlet element is missing an outlet controller "${t}" instance for host controller "${this.identifier}"`,n)}).filter(n=>n):[]}},[`${e}OutletElement`]:{get(){let r=this.outlets.find(t),n=this.outlets.getSelectorForOutletName(t);if(r)return r;throw new Error(`Missing outlet element "${t}" for host controller "${this.identifier}". Stimulus couldn't find a matching outlet element using selector "${n}".`)}},[`${e}OutletElements`]:{get(){return this.outlets.findAll(t)}},[`has${Ve(e)}Outlet`]:{get(){return this.outlets.has(t)}}}}function Ph(t){return Ke(t,"targets").reduce((r,n)=>Object.assign(r,Bh(n)),{})}function Bh(t){return{[`${t}Target`]:{get(){let e=this.targets.find(t);if(e)return e;throw new Error(`Missing target element "${t}" for "${this.identifier}" controller`)}},[`${t}Targets`]:{get(){return this.targets.findAll(t)}},[`has${Ve(t)}Target`]:{get(){return this.targets.has(t)}}}}function jh(t){let e=yh(t,"values"),r={valueDescriptorMap:{get(){return e.reduce((n,i)=>{let s=Dn(i,this.identifier),c=this.data.getAttributeNameForKey(s.key);return Object.assign(n,{[c]:s})},{})}}};return e.reduce((n,i)=>Object.assign(n,Rh(i)),r)}function Rh(t,e){let r=Dn(t,e),{key:n,name:i,reader:s,writer:c}=r;return{[i]:{get(){let f=this.data.get(n);return f!==null?s(f):r.defaultValue},set(f){f===void 0?this.data.delete(n):this.data.set(n,c(f))}},[`has${Ve(i)}`]:{get(){return this.data.has(n)||r.hasCustomDefaultValue}}}}function Dn([t,e],r){return Vh({controller:r,token:t,typeDefinition:e})}function St(t){switch(t){case Array:return"array";case Boolean:return"boolean";case Number:return"number";case Object:return"object";case String:return"string"}}function ze(t){switch(typeof t){case"boolean":return"boolean";case"number":return"number";case"string":return"string"}if(Array.isArray(t))return"array";if(Object.prototype.toString.call(t)==="[object Object]")return"object"}function $h(t){let{controller:e,token:r,typeObject:n}=t,i=Sn(n.type),s=Sn(n.default),c=i&&s,f=i&&!s,d=!i&&s,w=St(n.type),O=ze(t.typeObject.default);if(f)return w;if(d)return O;if(w!==O){let S=e?`${e}.${r}`:r;throw new Error(`The specified default value for the Stimulus Value "${S}" must match the defined type "${w}". The provided default value of "${n.default}" is of type "${O}".`)}if(c)return w}function Uh(t){let{controller:e,token:r,typeDefinition:n}=t,s=$h({controller:e,token:r,typeObject:n}),c=ze(n),f=St(n),d=s||c||f;if(d)return d;let w=e?`${e}.${n}`:r;throw new Error(`Unknown value type "${w}" for "${r}" value`)}function zh(t){let e=St(t);if(e)return Mn[e];let r=Qt(t,"default"),n=Qt(t,"type"),i=t;if(r)return i.default;if(n){let{type:s}=i,c=St(s);if(c)return Mn[c]}return t}function Vh(t){let{token:e,typeDefinition:r}=t,n=`${In(e)}-value`,i=Uh(t);return{type:i,key:n,name:xr(n),get defaultValue(){return zh(r)},get hasCustomDefaultValue(){return ze(r)!==void 0},reader:Kh[i],writer:Nn[i]||Nn.default}}var Mn={get array(){return[]},boolean:!1,number:0,get object(){return{}},string:""},Kh={array(t){let e=JSON.parse(t);if(!Array.isArray(e))throw new TypeError(`expected value of type "array" but instead got value "${t}" of type "${ze(e)}"`);return e},boolean(t){return!(t=="0"||String(t).toLowerCase()=="false")},number(t){return Number(t.replace(/_/g,""))},object(t){let e=JSON.parse(t);if(e===null||typeof e!="object"||Array.isArray(e))throw new TypeError(`expected value of type "object" but instead got value "${t}" of type "${ze(e)}"`);return e},string(t){return t}},Nn={default:Hh,array:Fn,object:Fn};function Fn(t){return JSON.stringify(t)}function Hh(t){return`${t}`}var ve=class{constructor(e){this.context=e}static get shouldLoad(){return!0}static afterLoad(e,r){}get application(){return this.context.application}get scope(){return this.context.scope}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get targets(){return this.scope.targets}get outlets(){return this.scope.outlets}get classes(){return this.scope.classes}get data(){return this.scope.data}initialize(){}connect(){}disconnect(){}dispatch(e,{target:r=this.element,detail:n={},prefix:i=this.identifier,bubbles:s=!0,cancelable:c=!0}={}){let f=i?`${i}:${e}`:e,d=new CustomEvent(f,{detail:n,bubbles:s,cancelable:c});return r.dispatchEvent(d),d}};ve.blessings=[Ih,Ph,jh,Lh];ve.targets=[];ve.outlets=[];ve.values={};var $f=de(Er()),Uf=de(Ns()),zf=de(Ea());var tc=de(ec()),cv=(t,e)=>{let r=[],n=[];return r.push(e),e||r.push(t.locale),t.enableFallback&&r.push(t.defaultLocale),r.filter(Boolean).map(i=>i.toString()).forEach(function(i){if(n.includes(i)||n.push(i),!t.enableFallback)return;let s=i.split("-");s.length===3&&n.push(`${s[0]}-${s[1]}`),n.push(s[0])}),(0,tc.default)(n)},st=class{constructor(e){this.i18n=e,this.registry={},this.register("default",cv)}register(e,r){if(typeof r!="function"){let n=r;r=()=>n}this.registry[e]=r}get(e){let r=this.registry[e]||this.registry[this.i18n.locale]||this.registry.default;return typeof r=="function"&&(r=r(this.i18n,e)),r instanceof Array||(r=[r]),r}};var rc=(t,e)=>{let r=String(t).split("."),n=!r[1],i=Number(r[0])==t,s=i&&r[0].slice(-1),c=i&&r[0].slice(-2);return e?s==1&&c!=11?"one":s==2&&c!=12?"two":s==3&&c!=13?"few":"other":t==1&&n?"one":"other"};function nc({pluralizer:t,includeZero:e=!0,ordinal:r=!1}){return function(n,i){return[e&&i===0?"zero":"",t(i,r)].filter(Boolean)}}var uv=nc({pluralizer:rc,includeZero:!0}),ot=class{constructor(e){this.i18n=e,this.registry={},this.register("default",uv)}register(e,r){this.registry[e]=r}get(e){return this.registry[e]||this.registry[this.i18n.locale]||this.registry.default}};var lu=de(uu());function te(t){return t?Object.keys(t).reduce((e,r)=>(e[(0,lu.default)(r)]=t[r],e),{}):{}}function Z(t){return t!=null}function Wr(t,e,r){let n=[{scope:e}];if(Z(r.defaults)&&(n=n.concat(r.defaults)),Z(r.defaultValue)){let i=typeof r.defaultValue=="function"?r.defaultValue(t,e,r):r.defaultValue;n.push({message:i}),delete r.defaultValue}return n}var Xx=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,Zr=Math.ceil,oe=Math.floor,Y="[BigNumber Error] ",fu=Y+"Number primitive has more than 15 significant digits: ",fe=1e14,N=14,Jr=9007199254740991,Yr=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],we=1e7,V=1e9;function hu(t){var e,r,n,i=_.prototype={constructor:_,toString:null,valueOf:null},s=new _(1),c=20,f=4,d=-7,w=21,O=-1e7,S=1e7,E=!1,M=1,q=0,L={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"\xA0",suffix:""},k="0123456789abcdefghijklmnopqrstuvwxyz",j=!0;function _(o,a){var u,v,p,m,y,h,g,x,b=this;if(!(b instanceof _))return new _(o,a);if(a==null){if(o&&o._isBigNumber===!0){b.s=o.s,!o.c||o.e>S?b.c=b.e=null:o.e<O?b.c=[b.e=0]:(b.e=o.e,b.c=o.c.slice());return}if((h=typeof o=="number")&&o*0==0){if(b.s=1/o<0?(o=-o,-1):1,o===~~o){for(m=0,y=o;y>=10;y/=10,m++);m>S?b.c=b.e=null:(b.e=m,b.c=[o]);return}x=String(o)}else{if(!Xx.test(x=String(o)))return n(b,x,h);b.s=x.charCodeAt(0)==45?(x=x.slice(1),-1):1}(m=x.indexOf("."))>-1&&(x=x.replace(".","")),(y=x.search(/e/i))>0?(m<0&&(m=y),m+=+x.slice(y+1),x=x.substring(0,y)):m<0&&(m=x.length)}else{if(R(a,2,k.length,"Base"),a==10&&j)return b=new _(o),G(b,c+b.e+1,f);if(x=String(o),h=typeof o=="number"){if(o*0!=0)return n(b,x,h,a);if(b.s=1/o<0?(x=x.slice(1),-1):1,_.DEBUG&&x.replace(/^0\.0*|\./,"").length>15)throw Error(fu+o)}else b.s=x.charCodeAt(0)===45?(x=x.slice(1),-1):1;for(u=k.slice(0,a),m=y=0,g=x.length;y<g;y++)if(u.indexOf(v=x.charAt(y))<0){if(v=="."){if(y>m){m=g;continue}}else if(!p&&(x==x.toUpperCase()&&(x=x.toLowerCase())||x==x.toLowerCase()&&(x=x.toUpperCase()))){p=!0,y=-1,m=0;continue}return n(b,String(o),h,a)}h=!1,x=r(x,a,10,b.s),(m=x.indexOf("."))>-1?x=x.replace(".",""):m=x.length}for(y=0;x.charCodeAt(y)===48;y++);for(g=x.length;x.charCodeAt(--g)===48;);if(x=x.slice(y,++g)){if(g-=y,h&&_.DEBUG&&g>15&&(o>Jr||o!==oe(o)))throw Error(fu+b.s*o);if((m=m-y-1)>S)b.c=b.e=null;else if(m<O)b.c=[b.e=0];else{if(b.e=m,b.c=[],y=(m+1)%N,m<0&&(y+=N),y<g){for(y&&b.c.push(+x.slice(0,y)),g-=N;y<g;)b.c.push(+x.slice(y,y+=N));y=N-(x=x.slice(y)).length}else y-=g;for(;y--;x+="0");b.c.push(+x)}}else b.c=[b.e=0]}_.clone=hu,_.ROUND_UP=0,_.ROUND_DOWN=1,_.ROUND_CEIL=2,_.ROUND_FLOOR=3,_.ROUND_HALF_UP=4,_.ROUND_HALF_DOWN=5,_.ROUND_HALF_EVEN=6,_.ROUND_HALF_CEIL=7,_.ROUND_HALF_FLOOR=8,_.EUCLID=9,_.config=_.set=function(o){var a,u;if(o!=null)if(typeof o=="object"){if(o.hasOwnProperty(a="DECIMAL_PLACES")&&(u=o[a],R(u,0,V,a),c=u),o.hasOwnProperty(a="ROUNDING_MODE")&&(u=o[a],R(u,0,8,a),f=u),o.hasOwnProperty(a="EXPONENTIAL_AT")&&(u=o[a],u&&u.pop?(R(u[0],-V,0,a),R(u[1],0,V,a),d=u[0],w=u[1]):(R(u,-V,V,a),d=-(w=u<0?-u:u))),o.hasOwnProperty(a="RANGE"))if(u=o[a],u&&u.pop)R(u[0],-V,-1,a),R(u[1],1,V,a),O=u[0],S=u[1];else if(R(u,-V,V,a),u)O=-(S=u<0?-u:u);else throw Error(Y+a+" cannot be zero: "+u);if(o.hasOwnProperty(a="CRYPTO"))if(u=o[a],u===!!u)if(u)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))E=u;else throw E=!u,Error(Y+"crypto unavailable");else E=u;else throw Error(Y+a+" not true or false: "+u);if(o.hasOwnProperty(a="MODULO_MODE")&&(u=o[a],R(u,0,9,a),M=u),o.hasOwnProperty(a="POW_PRECISION")&&(u=o[a],R(u,0,V,a),q=u),o.hasOwnProperty(a="FORMAT"))if(u=o[a],typeof u=="object")L=u;else throw Error(Y+a+" not an object: "+u);if(o.hasOwnProperty(a="ALPHABET"))if(u=o[a],typeof u=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(u))j=u.slice(0,10)=="0123456789",k=u;else throw Error(Y+a+" invalid: "+u)}else throw Error(Y+"Object expected: "+o);return{DECIMAL_PLACES:c,ROUNDING_MODE:f,EXPONENTIAL_AT:[d,w],RANGE:[O,S],CRYPTO:E,MODULO_MODE:M,POW_PRECISION:q,FORMAT:L,ALPHABET:k}},_.isBigNumber=function(o){if(!o||o._isBigNumber!==!0)return!1;if(!_.DEBUG)return!0;var a,u,v=o.c,p=o.e,m=o.s;e:if({}.toString.call(v)=="[object Array]"){if((m===1||m===-1)&&p>=-V&&p<=V&&p===oe(p)){if(v[0]===0){if(p===0&&v.length===1)return!0;break e}if(a=(p+1)%N,a<1&&(a+=N),String(v[0]).length==a){for(a=0;a<v.length;a++)if(u=v[a],u<0||u>=fe||u!==oe(u))break e;if(u!==0)return!0}}}else if(v===null&&p===null&&(m===null||m===1||m===-1))return!0;throw Error(Y+"Invalid BigNumber: "+o)},_.maximum=_.max=function(){return J(arguments,-1)},_.minimum=_.min=function(){return J(arguments,1)},_.random=function(){var o=9007199254740992,a=Math.random()*o&2097151?function(){return oe(Math.random()*o)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(u){var v,p,m,y,h,g=0,x=[],b=new _(s);if(u==null?u=c:R(u,0,V),y=Zr(u/N),E)if(crypto.getRandomValues){for(v=crypto.getRandomValues(new Uint32Array(y*=2));g<y;)h=v[g]*131072+(v[g+1]>>>11),h>=9e15?(p=crypto.getRandomValues(new Uint32Array(2)),v[g]=p[0],v[g+1]=p[1]):(x.push(h%1e14),g+=2);g=y/2}else if(crypto.randomBytes){for(v=crypto.randomBytes(y*=7);g<y;)h=(v[g]&31)*281474976710656+v[g+1]*1099511627776+v[g+2]*4294967296+v[g+3]*16777216+(v[g+4]<<16)+(v[g+5]<<8)+v[g+6],h>=9e15?crypto.randomBytes(7).copy(v,g):(x.push(h%1e14),g+=7);g=y/7}else throw E=!1,Error(Y+"crypto unavailable");if(!E)for(;g<y;)h=a(),h<9e15&&(x[g++]=h%1e14);for(y=x[--g],u%=N,y&&u&&(h=Yr[N-u],x[g]=oe(y/h)*h);x[g]===0;x.pop(),g--);if(g<0)x=[m=0];else{for(m=-1;x[0]===0;x.splice(0,1),m-=N);for(g=1,h=x[0];h>=10;h/=10,g++);g<N&&(m-=N-g)}return b.e=m,b.c=x,b}}(),_.sum=function(){for(var o=1,a=arguments,u=new _(a[0]);o<a.length;)u=u.plus(a[o++]);return u},r=function(){var o="0123456789";function a(u,v,p,m){for(var y,h=[0],g,x=0,b=u.length;x<b;){for(g=h.length;g--;h[g]*=v);for(h[0]+=m.indexOf(u.charAt(x++)),y=0;y<h.length;y++)h[y]>p-1&&(h[y+1]==null&&(h[y+1]=0),h[y+1]+=h[y]/p|0,h[y]%=p)}return h.reverse()}return function(u,v,p,m,y){var h,g,x,b,A,T,C,I,$=u.indexOf("."),z=c,F=f;for($>=0&&(b=q,q=0,u=u.replace(".",""),I=new _(v),T=I.pow(u.length-$),q=b,I.c=a(be(se(T.c),T.e,"0"),10,p,o),I.e=I.c.length),C=a(u,v,p,y?(h=k,o):(h=o,k)),x=b=C.length;C[--b]==0;C.pop());if(!C[0])return h.charAt(0);if($<0?--x:(T.c=C,T.e=x,T.s=m,T=e(T,I,z,F,p),C=T.c,A=T.r,x=T.e),g=x+z+1,$=C[g],b=p/2,A=A||g<0||C[g+1]!=null,A=F<4?($!=null||A)&&(F==0||F==(T.s<0?3:2)):$>b||$==b&&(F==4||A||F==6&&C[g-1]&1||F==(T.s<0?8:7)),g<1||!C[0])u=A?be(h.charAt(1),-z,h.charAt(0)):h.charAt(0);else{if(C.length=g,A)for(--p;++C[--g]>p;)C[g]=0,g||(++x,C=[1].concat(C));for(b=C.length;!C[--b];);for($=0,u="";$<=b;u+=h.charAt(C[$++]));u=be(u,x,h.charAt(0))}return u}}(),e=function(){function o(v,p,m){var y,h,g,x,b=0,A=v.length,T=p%we,C=p/we|0;for(v=v.slice();A--;)g=v[A]%we,x=v[A]/we|0,y=C*g+x*T,h=T*g+y%we*we+b,b=(h/m|0)+(y/we|0)+C*x,v[A]=h%m;return b&&(v=[b].concat(v)),v}function a(v,p,m,y){var h,g;if(m!=y)g=m>y?1:-1;else for(h=g=0;h<m;h++)if(v[h]!=p[h]){g=v[h]>p[h]?1:-1;break}return g}function u(v,p,m,y){for(var h=0;m--;)v[m]-=h,h=v[m]<p[m]?1:0,v[m]=h*y+v[m]-p[m];for(;!v[0]&&v.length>1;v.splice(0,1));}return function(v,p,m,y,h){var g,x,b,A,T,C,I,$,z,F,D,K,bt,Wt,Zt,pe,Ue,ne=v.s==p.s?1:-1,W=v.c,U=p.c;if(!W||!W[0]||!U||!U[0])return new _(!v.s||!p.s||(W?U&&W[0]==U[0]:!U)?NaN:W&&W[0]==0||!U?ne*0:ne/0);for($=new _(ne),z=$.c=[],x=v.e-p.e,ne=m+x+1,h||(h=fe,x=ae(v.e/N)-ae(p.e/N),ne=ne/N|0),b=0;U[b]==(W[b]||0);b++);if(U[b]>(W[b]||0)&&x--,ne<0)z.push(1),A=!0;else{for(Wt=W.length,pe=U.length,b=0,ne+=2,T=oe(h/(U[0]+1)),T>1&&(U=o(U,T,h),W=o(W,T,h),pe=U.length,Wt=W.length),bt=pe,F=W.slice(0,pe),D=F.length;D<pe;F[D++]=0);Ue=U.slice(),Ue=[0].concat(Ue),Zt=U[0],U[1]>=h/2&&Zt++;do{if(T=0,g=a(U,F,pe,D),g<0){if(K=F[0],pe!=D&&(K=K*h+(F[1]||0)),T=oe(K/Zt),T>1)for(T>=h&&(T=h-1),C=o(U,T,h),I=C.length,D=F.length;a(C,F,I,D)==1;)T--,u(C,pe<I?Ue:U,I,h),I=C.length,g=1;else T==0&&(g=T=1),C=U.slice(),I=C.length;if(I<D&&(C=[0].concat(C)),u(F,C,D,h),D=F.length,g==-1)for(;a(U,F,pe,D)<1;)T++,u(F,pe<D?Ue:U,D,h),D=F.length}else g===0&&(T++,F=[0]);z[b++]=T,F[0]?F[D++]=W[bt]||0:(F=[W[bt]],D=1)}while((bt++<Wt||F[0]!=null)&&ne--);A=F[0]!=null,z[0]||z.splice(0,1)}if(h==fe){for(b=1,ne=z[0];ne>=10;ne/=10,b++);G($,m+($.e=b+x*N-1)+1,y,A)}else $.e=x,$.r=+A;return $}}();function Q(o,a,u,v){var p,m,y,h,g;if(u==null?u=f:R(u,0,8),!o.c)return o.toString();if(p=o.c[0],y=o.e,a==null)g=se(o.c),g=v==1||v==2&&(y<=d||y>=w)?Rt(g,y):be(g,y,"0");else if(o=G(new _(o),a,u),m=o.e,g=se(o.c),h=g.length,v==1||v==2&&(a<=m||m<=d)){for(;h<a;g+="0",h++);g=Rt(g,m)}else if(a-=y,g=be(g,m,"0"),m+1>h){if(--a>0)for(g+=".";a--;g+="0");}else if(a+=m-h,a>0)for(m+1==h&&(g+=".");a--;g+="0");return o.s<0&&p?"-"+g:g}function J(o,a){for(var u,v,p=1,m=new _(o[0]);p<o.length;p++)v=new _(o[p]),(!v.s||(u=Ee(m,v))===a||u===0&&m.s===a)&&(m=v);return m}function H(o,a,u){for(var v=1,p=a.length;!a[--p];a.pop());for(p=a[0];p>=10;p/=10,v++);return(u=v+u*N-1)>S?o.c=o.e=null:u<O?o.c=[o.e=0]:(o.e=u,o.c=a),o}n=function(){var o=/^(-?)0([xbo])(?=\w[\w.]*$)/i,a=/^([^.]+)\.$/,u=/^\.([^.]+)$/,v=/^-?(Infinity|NaN)$/,p=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(m,y,h,g){var x,b=h?y:y.replace(p,"");if(v.test(b))m.s=isNaN(b)?null:b<0?-1:1;else{if(!h&&(b=b.replace(o,function(A,T,C){return x=(C=C.toLowerCase())=="x"?16:C=="b"?2:8,!g||g==x?T:A}),g&&(x=g,b=b.replace(a,"$1").replace(u,"0.$1")),y!=b))return new _(b,x);if(_.DEBUG)throw Error(Y+"Not a"+(g?" base "+g:"")+" number: "+y);m.s=null}m.c=m.e=null}}();function G(o,a,u,v){var p,m,y,h,g,x,b,A=o.c,T=Yr;if(A){e:{for(p=1,h=A[0];h>=10;h/=10,p++);if(m=a-p,m<0)m+=N,y=a,g=A[x=0],b=oe(g/T[p-y-1]%10);else if(x=Zr((m+1)/N),x>=A.length)if(v){for(;A.length<=x;A.push(0));g=b=0,p=1,m%=N,y=m-N+1}else break e;else{for(g=h=A[x],p=1;h>=10;h/=10,p++);m%=N,y=m-N+p,b=y<0?0:oe(g/T[p-y-1]%10)}if(v=v||a<0||A[x+1]!=null||(y<0?g:g%T[p-y-1]),v=u<4?(b||v)&&(u==0||u==(o.s<0?3:2)):b>5||b==5&&(u==4||v||u==6&&(m>0?y>0?g/T[p-y]:0:A[x-1])%10&1||u==(o.s<0?8:7)),a<1||!A[0])return A.length=0,v?(a-=o.e+1,A[0]=T[(N-a%N)%N],o.e=-a||0):A[0]=o.e=0,o;if(m==0?(A.length=x,h=1,x--):(A.length=x+1,h=T[N-m],A[x]=y>0?oe(g/T[p-y]%T[y])*h:0),v)for(;;)if(x==0){for(m=1,y=A[0];y>=10;y/=10,m++);for(y=A[0]+=h,h=1;y>=10;y/=10,h++);m!=h&&(o.e++,A[0]==fe&&(A[0]=1));break}else{if(A[x]+=h,A[x]!=fe)break;A[x--]=0,h=1}for(m=A.length;A[--m]===0;A.pop());}o.e>S?o.c=o.e=null:o.e<O&&(o.c=[o.e=0])}return o}function ee(o){var a,u=o.e;return u===null?o.toString():(a=se(o.c),a=u<=d||u>=w?Rt(a,u):be(a,u,"0"),o.s<0?"-"+a:a)}return i.absoluteValue=i.abs=function(){var o=new _(this);return o.s<0&&(o.s=1),o},i.comparedTo=function(o,a){return Ee(this,new _(o,a))},i.decimalPlaces=i.dp=function(o,a){var u,v,p,m=this;if(o!=null)return R(o,0,V),a==null?a=f:R(a,0,8),G(new _(m),o+m.e+1,a);if(!(u=m.c))return null;if(v=((p=u.length-1)-ae(this.e/N))*N,p=u[p])for(;p%10==0;p/=10,v--);return v<0&&(v=0),v},i.dividedBy=i.div=function(o,a){return e(this,new _(o,a),c,f)},i.dividedToIntegerBy=i.idiv=function(o,a){return e(this,new _(o,a),0,1)},i.exponentiatedBy=i.pow=function(o,a){var u,v,p,m,y,h,g,x,b,A=this;if(o=new _(o),o.c&&!o.isInteger())throw Error(Y+"Exponent not an integer: "+ee(o));if(a!=null&&(a=new _(a)),h=o.e>14,!A.c||!A.c[0]||A.c[0]==1&&!A.e&&A.c.length==1||!o.c||!o.c[0])return b=new _(Math.pow(+ee(A),h?o.s*(2-jt(o)):+ee(o))),a?b.mod(a):b;if(g=o.s<0,a){if(a.c?!a.c[0]:!a.s)return new _(NaN);v=!g&&A.isInteger()&&a.isInteger(),v&&(A=A.mod(a))}else{if(o.e>9&&(A.e>0||A.e<-1||(A.e==0?A.c[0]>1||h&&A.c[1]>=24e7:A.c[0]<8e13||h&&A.c[0]<=9999975e7)))return m=A.s<0&&jt(o)?-0:0,A.e>-1&&(m=1/m),new _(g?1/m:m);q&&(m=Zr(q/N+2))}for(h?(u=new _(.5),g&&(o.s=1),x=jt(o)):(p=Math.abs(+ee(o)),x=p%2),b=new _(s);;){if(x){if(b=b.times(A),!b.c)break;m?b.c.length>m&&(b.c.length=m):v&&(b=b.mod(a))}if(p){if(p=oe(p/2),p===0)break;x=p%2}else if(o=o.times(u),G(o,o.e+1,1),o.e>14)x=jt(o);else{if(p=+ee(o),p===0)break;x=p%2}A=A.times(A),m?A.c&&A.c.length>m&&(A.c.length=m):v&&(A=A.mod(a))}return v?b:(g&&(b=s.div(b)),a?b.mod(a):m?G(b,q,f,y):b)},i.integerValue=function(o){var a=new _(this);return o==null?o=f:R(o,0,8),G(a,a.e+1,o)},i.isEqualTo=i.eq=function(o,a){return Ee(this,new _(o,a))===0},i.isFinite=function(){return!!this.c},i.isGreaterThan=i.gt=function(o,a){return Ee(this,new _(o,a))>0},i.isGreaterThanOrEqualTo=i.gte=function(o,a){return(a=Ee(this,new _(o,a)))===1||a===0},i.isInteger=function(){return!!this.c&&ae(this.e/N)>this.c.length-2},i.isLessThan=i.lt=function(o,a){return Ee(this,new _(o,a))<0},i.isLessThanOrEqualTo=i.lte=function(o,a){return(a=Ee(this,new _(o,a)))===-1||a===0},i.isNaN=function(){return!this.s},i.isNegative=function(){return this.s<0},i.isPositive=function(){return this.s>0},i.isZero=function(){return!!this.c&&this.c[0]==0},i.minus=function(o,a){var u,v,p,m,y=this,h=y.s;if(o=new _(o,a),a=o.s,!h||!a)return new _(NaN);if(h!=a)return o.s=-a,y.plus(o);var g=y.e/N,x=o.e/N,b=y.c,A=o.c;if(!g||!x){if(!b||!A)return b?(o.s=-a,o):new _(A?y:NaN);if(!b[0]||!A[0])return A[0]?(o.s=-a,o):new _(b[0]?y:f==3?-0:0)}if(g=ae(g),x=ae(x),b=b.slice(),h=g-x){for((m=h<0)?(h=-h,p=b):(x=g,p=A),p.reverse(),a=h;a--;p.push(0));p.reverse()}else for(v=(m=(h=b.length)<(a=A.length))?h:a,h=a=0;a<v;a++)if(b[a]!=A[a]){m=b[a]<A[a];break}if(m&&(p=b,b=A,A=p,o.s=-o.s),a=(v=A.length)-(u=b.length),a>0)for(;a--;b[u++]=0);for(a=fe-1;v>h;){if(b[--v]<A[v]){for(u=v;u&&!b[--u];b[u]=a);--b[u],b[v]+=fe}b[v]-=A[v]}for(;b[0]==0;b.splice(0,1),--x);return b[0]?H(o,b,x):(o.s=f==3?-1:1,o.c=[o.e=0],o)},i.modulo=i.mod=function(o,a){var u,v,p=this;return o=new _(o,a),!p.c||!o.s||o.c&&!o.c[0]?new _(NaN):!o.c||p.c&&!p.c[0]?new _(p):(M==9?(v=o.s,o.s=1,u=e(p,o,0,3),o.s=v,u.s*=v):u=e(p,o,0,M),o=p.minus(u.times(o)),!o.c[0]&&M==1&&(o.s=p.s),o)},i.multipliedBy=i.times=function(o,a){var u,v,p,m,y,h,g,x,b,A,T,C,I,$,z,F=this,D=F.c,K=(o=new _(o,a)).c;if(!D||!K||!D[0]||!K[0])return!F.s||!o.s||D&&!D[0]&&!K||K&&!K[0]&&!D?o.c=o.e=o.s=null:(o.s*=F.s,!D||!K?o.c=o.e=null:(o.c=[0],o.e=0)),o;for(v=ae(F.e/N)+ae(o.e/N),o.s*=F.s,g=D.length,A=K.length,g<A&&(I=D,D=K,K=I,p=g,g=A,A=p),p=g+A,I=[];p--;I.push(0));for($=fe,z=we,p=A;--p>=0;){for(u=0,T=K[p]%z,C=K[p]/z|0,y=g,m=p+y;m>p;)x=D[--y]%z,b=D[y]/z|0,h=C*x+b*T,x=T*x+h%z*z+I[m]+u,u=(x/$|0)+(h/z|0)+C*b,I[m--]=x%$;I[m]=u}return u?++v:I.splice(0,1),H(o,I,v)},i.negated=function(){var o=new _(this);return o.s=-o.s||null,o},i.plus=function(o,a){var u,v=this,p=v.s;if(o=new _(o,a),a=o.s,!p||!a)return new _(NaN);if(p!=a)return o.s=-a,v.minus(o);var m=v.e/N,y=o.e/N,h=v.c,g=o.c;if(!m||!y){if(!h||!g)return new _(p/0);if(!h[0]||!g[0])return g[0]?o:new _(h[0]?v:p*0)}if(m=ae(m),y=ae(y),h=h.slice(),p=m-y){for(p>0?(y=m,u=g):(p=-p,u=h),u.reverse();p--;u.push(0));u.reverse()}for(p=h.length,a=g.length,p-a<0&&(u=g,g=h,h=u,a=p),p=0;a;)p=(h[--a]=h[a]+g[a]+p)/fe|0,h[a]=fe===h[a]?0:h[a]%fe;return p&&(h=[p].concat(h),++y),H(o,h,y)},i.precision=i.sd=function(o,a){var u,v,p,m=this;if(o!=null&&o!==!!o)return R(o,1,V),a==null?a=f:R(a,0,8),G(new _(m),o,a);if(!(u=m.c))return null;if(p=u.length-1,v=p*N+1,p=u[p]){for(;p%10==0;p/=10,v--);for(p=u[0];p>=10;p/=10,v++);}return o&&m.e+1>v&&(v=m.e+1),v},i.shiftedBy=function(o){return R(o,-Jr,Jr),this.times("1e"+o)},i.squareRoot=i.sqrt=function(){var o,a,u,v,p,m=this,y=m.c,h=m.s,g=m.e,x=c+4,b=new _("0.5");if(h!==1||!y||!y[0])return new _(!h||h<0&&(!y||y[0])?NaN:y?m:1/0);if(h=Math.sqrt(+ee(m)),h==0||h==1/0?(a=se(y),(a.length+g)%2==0&&(a+="0"),h=Math.sqrt(+a),g=ae((g+1)/2)-(g<0||g%2),h==1/0?a="5e"+g:(a=h.toExponential(),a=a.slice(0,a.indexOf("e")+1)+g),u=new _(a)):u=new _(h+""),u.c[0]){for(g=u.e,h=g+x,h<3&&(h=0);;)if(p=u,u=b.times(p.plus(e(m,p,x,1))),se(p.c).slice(0,h)===(a=se(u.c)).slice(0,h))if(u.e<g&&--h,a=a.slice(h-3,h+1),a=="9999"||!v&&a=="4999"){if(!v&&(G(p,p.e+c+2,0),p.times(p).eq(m))){u=p;break}x+=4,h+=4,v=1}else{(!+a||!+a.slice(1)&&a.charAt(0)=="5")&&(G(u,u.e+c+2,1),o=!u.times(u).eq(m));break}}return G(u,u.e+c+1,f,o)},i.toExponential=function(o,a){return o!=null&&(R(o,0,V),o++),Q(this,o,a,1)},i.toFixed=function(o,a){return o!=null&&(R(o,0,V),o=o+this.e+1),Q(this,o,a)},i.toFormat=function(o,a,u){var v,p=this;if(u==null)o!=null&&a&&typeof a=="object"?(u=a,a=null):o&&typeof o=="object"?(u=o,o=a=null):u=L;else if(typeof u!="object")throw Error(Y+"Argument not an object: "+u);if(v=p.toFixed(o,a),p.c){var m,y=v.split("."),h=+u.groupSize,g=+u.secondaryGroupSize,x=u.groupSeparator||"",b=y[0],A=y[1],T=p.s<0,C=T?b.slice(1):b,I=C.length;if(g&&(m=h,h=g,g=m,I-=m),h>0&&I>0){for(m=I%h||h,b=C.substr(0,m);m<I;m+=h)b+=x+C.substr(m,h);g>0&&(b+=x+C.slice(m)),T&&(b="-"+b)}v=A?b+(u.decimalSeparator||"")+((g=+u.fractionGroupSize)?A.replace(new RegExp("\\d{"+g+"}\\B","g"),"$&"+(u.fractionGroupSeparator||"")):A):b}return(u.prefix||"")+v+(u.suffix||"")},i.toFraction=function(o){var a,u,v,p,m,y,h,g,x,b,A,T,C=this,I=C.c;if(o!=null&&(h=new _(o),!h.isInteger()&&(h.c||h.s!==1)||h.lt(s)))throw Error(Y+"Argument "+(h.isInteger()?"out of range: ":"not an integer: ")+ee(h));if(!I)return new _(C);for(a=new _(s),x=u=new _(s),v=g=new _(s),T=se(I),m=a.e=T.length-C.e-1,a.c[0]=Yr[(y=m%N)<0?N+y:y],o=!o||h.comparedTo(a)>0?m>0?a:x:h,y=S,S=1/0,h=new _(T),g.c[0]=0;b=e(h,a,0,1),p=u.plus(b.times(v)),p.comparedTo(o)!=1;)u=v,v=p,x=g.plus(b.times(p=x)),g=p,a=h.minus(b.times(p=a)),h=p;return p=e(o.minus(u),v,0,1),g=g.plus(p.times(x)),u=u.plus(p.times(v)),g.s=x.s=C.s,m=m*2,A=e(x,v,m,f).minus(C).abs().comparedTo(e(g,u,m,f).minus(C).abs())<1?[x,v]:[g,u],S=y,A},i.toNumber=function(){return+ee(this)},i.toPrecision=function(o,a){return o!=null&&R(o,1,V),Q(this,o,a,2)},i.toString=function(o){var a,u=this,v=u.s,p=u.e;return p===null?v?(a="Infinity",v<0&&(a="-"+a)):a="NaN":(o==null?a=p<=d||p>=w?Rt(se(u.c),p):be(se(u.c),p,"0"):o===10&&j?(u=G(new _(u),c+p+1,f),a=be(se(u.c),u.e,"0")):(R(o,2,k.length,"Base"),a=r(be(se(u.c),p,"0"),10,o,v,!0)),v<0&&u.c[0]&&(a="-"+a)),a},i.valueOf=i.toJSON=function(){return ee(this)},i._isBigNumber=!0,i[Symbol.toStringTag]="BigNumber",i[Symbol.for("nodejs.util.inspect.custom")]=i.valueOf,t!=null&&_.set(t),_}function ae(t){var e=t|0;return t>0||t===e?e:e-1}function se(t){for(var e,r,n=1,i=t.length,s=t[0]+"";n<i;){for(e=t[n++]+"",r=N-e.length;r--;e="0"+e);s+=e}for(i=s.length;s.charCodeAt(--i)===48;);return s.slice(0,i+1||1)}function Ee(t,e){var r,n,i=t.c,s=e.c,c=t.s,f=e.s,d=t.e,w=e.e;if(!c||!f)return null;if(r=i&&!i[0],n=s&&!s[0],r||n)return r?n?0:-f:c;if(c!=f)return c;if(r=c<0,n=d==w,!i||!s)return n?0:!i^r?1:-1;if(!n)return d>w^r?1:-1;for(f=(d=i.length)<(w=s.length)?d:w,c=0;c<f;c++)if(i[c]!=s[c])return i[c]>s[c]^r?1:-1;return d==w?0:d>w^r?1:-1}function R(t,e,r,n){if(t<e||t>r||t!==oe(t))throw Error(Y+(n||"Argument")+(typeof t=="number"?t<e||t>r?" out of range: ":" not an integer: ":" not a primitive number: ")+String(t))}function jt(t){var e=t.c.length-1;return ae(t.e/N)==e&&t.c[e]%2!=0}function Rt(t,e){return(t.length>1?t.charAt(0)+"."+t.slice(1):t)+(e<0?"e":"e+")+e}function be(t,e,r){var n,i;if(e<0){for(i=r+".";++e;i+=r);t=i+t}else if(n=t.length,++e>n){for(i=r,e-=n;--e;i+=r);t+=i}else e<n&&(t=t.slice(0,e)+"."+t.slice(e));return t}var P=hu();var $t;(function(t){t[t.up=P.ROUND_UP]="up",t[t.down=P.ROUND_DOWN]="down",t[t.truncate=P.ROUND_DOWN]="truncate",t[t.halfUp=P.ROUND_HALF_UP]="halfUp",t[t.default=P.ROUND_HALF_UP]="default",t[t.halfDown=P.ROUND_HALF_DOWN]="halfDown",t[t.halfEven=P.ROUND_HALF_EVEN]="halfEven",t[t.banker=P.ROUND_HALF_EVEN]="banker",t[t.ceiling=P.ROUND_CEIL]="ceiling",t[t.ceil=P.ROUND_CEIL]="ceil",t[t.floor=P.ROUND_FLOOR]="floor"})($t||($t={}));function at(t){var e;return(e=$t[t])!==null&&e!==void 0?e:$t.default}var Cu=de(qu());function Sy(t){return t.isZero()?1:Math.floor(Math.log10(t.abs().toNumber())+1)}function _y(t,{precision:e,significant:r}){return r&&e!==null&&e>0?e-Sy(t):e}function Oe(t,e){let r=_y(t,e);if(r===null)return t.toString();let n=at(e.roundMode);if(r>=0)return t.toFixed(r,n);let i=Math.pow(10,Math.abs(r));return t=new P(t.div(i).toFixed(0,n)).times(i),t.toString()}function Ey(t,{formattedNumber:e,unit:r}){return t.replace("%n",e).replace("%u",r)}function Ty({significand:t,whole:e,precision:r}){if(e==="0"||r===null)return t;let n=Math.max(0,r-e.length);return(t??"").substr(0,n)}function Te(t,e){var r,n,i;let s=new P(t);if(e.raise&&!s.isFinite())throw new Error(`"${t}" is not a valid numeric value`);let c=Oe(s,e),f=new P(c),d=f.lt(0),w=f.isZero(),[O,S]=c.split("."),E=[],M,q=(r=e.format)!==null&&r!==void 0?r:"%n",L=(n=e.negativeFormat)!==null&&n!==void 0?n:`-${q}`,k=d&&!w?L:q;for(O=O.replace("-","");O.length>0;)E.unshift(O.substr(Math.max(0,O.length-3),3)),O=O.substr(0,O.length-3);return O=E.join(""),M=E.join(e.delimiter),e.significant?S=Ty({whole:O,significand:S,precision:e.precision}):S=S??(0,Cu.default)("0",(i=e.precision)!==null&&i!==void 0?i:0),e.stripInsignificantZeros&&S&&(S=S.replace(/0+$/,"")),s.isNaN()&&(M=t.toString()),S&&s.isFinite()&&(M+=(e.separator||".")+S),Ey(k,{formattedNumber:M,unit:e.unit})}function he(t,e,r){let n="";return(e instanceof String||typeof e=="string")&&(n=e),e instanceof Array&&(n=e.join(t.defaultSeparator)),r.scope&&(n=[r.scope,n].join(t.defaultSeparator)),n}function ce(t){var e,r;if(t===null)return"null";let n=typeof t;return n!=="object"?n:((r=(e=t?.constructor)===null||e===void 0?void 0:e.name)===null||r===void 0?void 0:r.toLowerCase())||"object"}function ct(t,e,r){r=Object.keys(r).reduce((i,s)=>(i[t.transformKey(s)]=r[s],i),{});let n=e.match(t.placeholder);if(!n)return e;for(;n.length;){let i,s=n.shift(),c=s.replace(t.placeholder,"$1");Z(r[c])?i=r[c].toString().replace(/\$/gm,"_#$#_"):c in r?i=t.nullPlaceholder(t,s,e,r):i=t.missingPlaceholder(t,s,e,r);let f=new RegExp(s.replace(/\{/gm,"\\{").replace(/\}/gm,"\\}"),"g");e=e.replace(f,i)}return e.replace(/_#\$#_/g,"$")}function X(t,e,r={}){r=Object.assign({},r);let n="locale"in r?r.locale:t.locale,i=ce(n),s=t.locales.get(i==="string"?n:typeof n).slice(),c=he(t,e,r).split(t.defaultSeparator).map(d=>t.transformKey(d)),f=s.map(d=>c.reduce((w,O)=>w&&w[O],t.translations[d]));return f.push(r.defaultValue),f.find(d=>Z(d))}function Qr(t,e){let r=new P(t);if(!r.isFinite())return t.toString();if(!e.delimiterPattern.global)throw new Error(`options.delimiterPattern must be a global regular expression; received ${e.delimiterPattern}`);let[n,i]=r.toString().split(".");return n=n.replace(e.delimiterPattern,s=>`${s}${e.delimiter}`),[n,i].filter(Boolean).join(e.separator)}var Nf=de(Ef()),Ff=de(Mf());var dn={0:"unit",1:"ten",2:"hundred",3:"thousand",6:"million",9:"billion",12:"trillion",15:"quadrillion","-1":"deci","-2":"centi","-3":"mili","-6":"micro","-9":"nano","-12":"pico","-15":"femto"},_A=(0,Ff.default)(Object.values(dn),Object.keys(dn).map(t=>parseInt(t,10)));function gn(t,e,r){let n={roundMode:r.roundMode,precision:r.precision,significant:r.significant},i;if(ce(r.units)==="string"){let S=r.units;if(i=X(t,S),!i)throw new Error(`The scope "${t.locale}${t.defaultSeparator}${he(t,S,{})}" couldn't be found`)}else i=r.units;let s=Oe(new P(e),n),c=S=>(0,Nf.default)(Object.keys(S).map(E=>_A[E]),E=>E*-1),f=(S,E)=>{let M=S.isZero()?0:Math.floor(Math.log10(S.abs().toNumber()));return c(E).find(q=>M>=q)||0},d=(S,E)=>{let M=dn[E.toString()];return S[M]||""},w=f(new P(s),i),O=d(i,w);if(s=Oe(new P(s).div(Math.pow(10,w)),n),r.stripInsignificantZeros){let[S,E]=s.split(".");E=(E||"").replace(/0+$/,""),s=S,E&&(s+=`${r.separator}${E}`)}return r.format.replace("%n",s||"0").replace("%u",O).trim()}var If=["byte","kb","mb","gb","tb","pb","eb"];function mn(t,e,r){let n=at(r.roundMode),i=1024,s=new P(e).abs(),c=s.lt(i),f,d=(q,L)=>{let k=L.length-1,j=new P(Math.log(q.toNumber())).div(Math.log(i)).integerValue(P.ROUND_DOWN).toNumber();return Math.min(k,j)},w=q=>`number.human.storage_units.units.${c?"byte":q[O]}`,O=d(s,If);c?f=s.integerValue():f=new P(Oe(s.div(Math.pow(i,O)),{significant:r.significant,precision:r.precision,roundMode:r.roundMode}));let S=t.translate("number.human.storage_units.format",{defaultValue:"%n %u"}),E=t.translate(w(If),{count:s.integerValue().toNumber()}),M=f.toFixed(r.precision,n);return r.stripInsignificantZeros&&(M=M.replace(/(\..*?)0+$/,"$1").replace(/\.$/,"")),S.replace("%n",M).replace("%u",E)}function $e(t){if(t instanceof Date)return t;if(typeof t=="number"){let n=new Date;return n.setTime(t),n}let e=new String(t).match(/(\d{4})-(\d{2})-(\d{2})(?:[ T](\d{2}):(\d{2}):(\d{2})(?:[.,](\d{1,3}))?)?(Z|\+00:?00)?/);if(e){let n=e.slice(1,8).map(E=>parseInt(E,10)||0);n[1]-=1;let[i,s,c,f,d,w,O]=n;return e[8]?new Date(Date.UTC(i,s,c,f,d,w,O)):new Date(i,s,c,f,d,w,O)}t.match(/([A-Z][a-z]{2}) ([A-Z][a-z]{2}) (\d+) (\d+:\d+:\d+) ([+-]\d+) (\d+)/)&&new Date().setTime(Date.parse([RegExp.$1,RegExp.$2,RegExp.$3,RegExp.$6,RegExp.$4,RegExp.$5].join(" ")));let r=new Date;return r.setTime(Date.parse(t)),r}function Vt({i18n:t,count:e,scope:r,options:n,baseScope:i}){n=Object.assign({},n);let s,c;if(typeof r=="object"&&r?s=r:s=X(t,r,n),!s)return t.missingTranslation.get(r,n);let d=t.pluralization.get(n.locale)(t,e),w=[];for(;d.length;){let O=d.shift();if(Z(s[O])){c=s[O];break}w.push(O)}return Z(c)?(n.count=e,t.interpolate(t,c,n)):t.missingTranslation.get(i.split(t.defaultSeparator).concat([w[0]]),n)}var EA={meridian:{am:"AM",pm:"PM"},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],abbrDayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],monthNames:[null,"January","February","March","April","May","June","July","August","September","October","November","December"],abbrMonthNames:[null,"Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]};function bn(t,e,r={}){let{abbrDayNames:n,dayNames:i,abbrMonthNames:s,monthNames:c,meridian:f,utc:d}=Object.assign(Object.assign({},EA),r);if(isNaN(t.getTime()))throw new Error("strftime() requires a valid date object, but received an invalid date.");let w=d?t.getUTCDay():t.getDay(),O=d?t.getUTCDate():t.getDate(),S=d?t.getUTCFullYear():t.getFullYear(),E=(d?t.getUTCMonth():t.getMonth())+1,M=d?t.getUTCHours():t.getHours(),q=M,L=M>11?"pm":"am",k=d?t.getUTCSeconds():t.getSeconds(),j=d?t.getUTCMinutes():t.getMinutes(),_=d?0:t.getTimezoneOffset(),Q=Math.floor(Math.abs(_/60)),J=Math.abs(_)-Q*60,H=(_>0?"-":"+")+(Q.toString().length<2?"0"+Q:Q)+(J.toString().length<2?"0"+J:J);return q>12?q=q-12:q===0&&(q=12),e=e.replace("%a",n[w]),e=e.replace("%A",i[w]),e=e.replace("%b",s[E]),e=e.replace("%B",c[E]),e=e.replace("%d",O.toString().padStart(2,"0")),e=e.replace("%e",O.toString()),e=e.replace("%-d",O.toString()),e=e.replace("%H",M.toString().padStart(2,"0")),e=e.replace("%-H",M.toString()),e=e.replace("%k",M.toString()),e=e.replace("%I",q.toString().padStart(2,"0")),e=e.replace("%-I",q.toString()),e=e.replace("%l",q.toString()),e=e.replace("%m",E.toString().padStart(2,"0")),e=e.replace("%-m",E.toString()),e=e.replace("%M",j.toString().padStart(2,"0")),e=e.replace("%-M",j.toString()),e=e.replace("%p",f[L]),e=e.replace("%P",f[L].toLowerCase()),e=e.replace("%S",k.toString().padStart(2,"0")),e=e.replace("%-S",k.toString()),e=e.replace("%w",w.toString()),e=e.replace("%y",S.toString().padStart(2,"0").substr(-2)),e=e.replace("%-y",S.toString().padStart(2,"0").substr(-2).replace(/^0+/,"")),e=e.replace("%Y",S.toString()),e=e.replace(/%z/i,H),e}var Rf=de(jf());var re=(t,e,r)=>r>=t&&r<=e;function xn(t,e,r,n={}){let i=n.scope||"datetime.distance_in_words",s=(ee,o=0)=>t.t(ee,{count:o,scope:i});e=$e(e),r=$e(r);let c=e.getTime()/1e3,f=r.getTime()/1e3;c>f&&([e,r,c,f]=[r,e,f,c]);let d=Math.round(f-c),w=Math.round((f-c)/60),S=w/60/24,E=Math.round(w/60),M=Math.round(S),q=Math.round(M/30);if(re(0,1,w))return n.includeSeconds?re(0,4,d)?s("less_than_x_seconds",5):re(5,9,d)?s("less_than_x_seconds",10):re(10,19,d)?s("less_than_x_seconds",20):re(20,39,d)?s("half_a_minute"):re(40,59,d)?s("less_than_x_minutes",1):s("x_minutes",1):w===0?s("less_than_x_minutes",1):s("x_minutes",w);if(re(2,44,w))return s("x_minutes",w);if(re(45,89,w))return s("about_x_hours",1);if(re(90,1439,w))return s("about_x_hours",E);if(re(1440,2519,w))return s("x_days",1);if(re(2520,43199,w))return s("x_days",M);if(re(43200,86399,w))return s("about_x_months",Math.round(w/43200));if(re(86400,525599,w))return s("x_months",q);let L=e.getFullYear();e.getMonth()+1>=3&&(L+=1);let k=r.getFullYear();r.getMonth()+1<3&&(k-=1);let j=L>k?0:(0,Rf.default)(L,k).filter(ee=>new Date(ee,1,29).getMonth()==1).length,_=525600,Q=j*1440,J=w-Q,H=Math.trunc(J/_),G=parseFloat((J/_-H).toPrecision(3));return G<.25?s("about_x_years",H):G<.75?s("over_x_years",H):s("almost_x_years",H+1)}var LA=function(t,e){e instanceof Array&&(e=e.join(t.defaultSeparator));let r=e.split(t.defaultSeparator).slice(-1)[0];return t.missingTranslationPrefix+r.replace("_"," ").replace(/([a-z])([A-Z])/g,(n,i,s)=>`${i} ${s.toLowerCase()}`)},DA=(t,e,r)=>{let n=he(t,e,r),i="locale"in r?r.locale:t.locale,s=ce(i);return`[missing "${[s=="string"?i:s,n].join(t.defaultSeparator)}" translation]`},PA=(t,e,r)=>{let n=he(t,e,r),i=[t.locale,n].join(t.defaultSeparator);throw new Error(`Missing translation: ${i}`)},ut=class{constructor(e){this.i18n=e,this.registry={},this.register("guess",LA),this.register("message",DA),this.register("error",PA)}register(e,r){this.registry[e]=r}get(e,r){var n;return this.registry[(n=r.missingBehavior)!==null&&n!==void 0?n:this.i18n.missingBehavior](this.i18n,e,r)}};var BA=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(c){c(s)})}return new(r||(r=Promise))(function(s,c){function f(O){try{w(n.next(O))}catch(S){c(S)}}function d(O){try{w(n.throw(O))}catch(S){c(S)}}function w(O){O.done?s(O.value):i(O.value).then(f,d)}w((n=n.apply(t,e||[])).next())})},yn={defaultLocale:"en",locale:"en",defaultSeparator:".",placeholder:/(?:\{\{|%\{)(.*?)(?:\}\}?)/gm,enableFallback:!1,missingBehavior:"message",missingTranslationPrefix:"",missingPlaceholder:(t,e)=>`[missing "${e}" value]`,nullPlaceholder:(t,e,r,n)=>t.missingPlaceholder(t,e,r,n),transformKey:t=>t},lt=class{constructor(e={},r={}){this._locale=yn.locale,this._defaultLocale=yn.defaultLocale,this._version=0,this.onChangeHandlers=[],this.translations={},this.t=this.translate,this.p=this.pluralize,this.l=this.localize,this.distanceOfTimeInWords=this.timeAgoInWords;let{locale:n,enableFallback:i,missingBehavior:s,missingTranslationPrefix:c,missingPlaceholder:f,nullPlaceholder:d,defaultLocale:w,defaultSeparator:O,placeholder:S,transformKey:E}=Object.assign(Object.assign({},yn),r);this.locale=n,this.defaultLocale=w,this.defaultSeparator=O,this.enableFallback=i,this.locale=n,this.missingBehavior=s,this.missingTranslationPrefix=c,this.missingPlaceholder=f,this.nullPlaceholder=d,this.placeholder=S,this.pluralization=new ot(this),this.locales=new st(this),this.missingTranslation=new ut(this),this.transformKey=E,this.interpolate=ct,this.store(e)}store(e){(0,zf.default)(this.translations,e),this.hasChanged()}get locale(){return this._locale||this.defaultLocale||"en"}set locale(e){if(typeof e!="string")throw new Error(`Expected newLocale to be a string; got ${ce(e)}`);let r=this._locale!==e;this._locale=e,r&&this.hasChanged()}get defaultLocale(){return this._defaultLocale||"en"}set defaultLocale(e){if(typeof e!="string")throw new Error(`Expected newLocale to be a string; got ${ce(e)}`);let r=this._defaultLocale!==e;this._defaultLocale=e,r&&this.hasChanged()}translate(e,r){r=Object.assign({},r);let n=Wr(this,e,r),i;return n.some(c=>(Z(c.scope)?i=X(this,c.scope,r):Z(c.message)&&(i=c.message),i!=null))?(typeof i=="string"?i=this.interpolate(this,i,r):typeof i=="object"&&i&&Z(r.count)&&(i=Vt({i18n:this,count:r.count||0,scope:i,options:r,baseScope:he(this,e,r)})),r&&i instanceof Array&&(i=i.map(c=>typeof c=="string"?ct(this,c,r):c)),i):this.missingTranslation.get(e,r)}pluralize(e,r,n){return Vt({i18n:this,count:e,scope:r,options:Object.assign({},n),baseScope:he(this,r,n??{})})}localize(e,r,n){if(n=Object.assign({},n),r==null)return"";switch(e){case"currency":return this.numberToCurrency(r);case"number":return Te(r,Object.assign({delimiter:",",precision:3,separator:".",significant:!1,stripInsignificantZeros:!1},X(this,"number.format")));case"percentage":return this.numberToPercentage(r);default:{let i;return e.match(/^(date|time)/)?i=this.toTime(e,r):i=r.toString(),ct(this,i,n)}}}toTime(e,r){let n=$e(r),i=X(this,e);return n.toString().match(/invalid/i)||!i?n.toString():this.strftime(n,i)}numberToCurrency(e,r={}){return Te(e,Object.assign(Object.assign(Object.assign({delimiter:",",format:"%u%n",precision:2,separator:".",significant:!1,stripInsignificantZeros:!1,unit:"$"},te(this.get("number.format"))),te(this.get("number.currency.format"))),r))}numberToPercentage(e,r={}){return Te(e,Object.assign(Object.assign(Object.assign({delimiter:"",format:"%n%",precision:3,stripInsignificantZeros:!1,separator:".",significant:!1},te(this.get("number.format"))),te(this.get("number.percentage.format"))),r))}numberToHumanSize(e,r={}){return mn(this,e,Object.assign(Object.assign(Object.assign({delimiter:"",precision:3,significant:!0,stripInsignificantZeros:!0,units:{billion:"Billion",million:"Million",quadrillion:"Quadrillion",thousand:"Thousand",trillion:"Trillion",unit:""}},te(this.get("number.human.format"))),te(this.get("number.human.storage_units"))),r))}numberToHuman(e,r={}){return gn(this,e,Object.assign(Object.assign(Object.assign({delimiter:"",separator:".",precision:3,significant:!0,stripInsignificantZeros:!0,format:"%n %u",roundMode:"default",units:{billion:"Billion",million:"Million",quadrillion:"Quadrillion",thousand:"Thousand",trillion:"Trillion",unit:""}},te(this.get("number.human.format"))),te(this.get("number.human.decimal_units"))),r))}numberToRounded(e,r){return Te(e,Object.assign({unit:"",precision:3,significant:!1,separator:".",delimiter:"",stripInsignificantZeros:!1},r))}numberToDelimited(e,r={}){return Qr(e,Object.assign({delimiterPattern:/(\d)(?=(\d\d\d)+(?!\d))/g,delimiter:",",separator:"."},r))}withLocale(e,r){return BA(this,void 0,void 0,function*(){let n=this.locale;try{this.locale=e,yield r()}finally{this.locale=n}})}strftime(e,r,n={}){return bn(e,r,Object.assign(Object.assign(Object.assign({},te(X(this,"date"))),{meridian:{am:X(this,"time.am")||"AM",pm:X(this,"time.pm")||"PM"}}),n))}update(e,r,n={strict:!1}){if(n.strict&&!(0,Uf.default)(this.translations,e))throw new Error(`The path "${e}" is not currently defined`);let i=(0,$f.default)(this.translations,e),s=ce(i),c=ce(r);if(n.strict&&s!==c)throw new Error(`The current type for "${e}" is "${s}", but you're trying to override it with "${c}"`);let f;c==="object"?f=Object.assign(Object.assign({},i),r):f=r;let d=e.split(this.defaultSeparator),w=d.pop(),O=this.translations;for(let S of d)O[S]||(O[S]={}),O=O[S];O[w]=f,this.hasChanged()}toSentence(e,r={}){let{wordsConnector:n,twoWordsConnector:i,lastWordConnector:s}=Object.assign(Object.assign({wordsConnector:", ",twoWordsConnector:" and ",lastWordConnector:", and "},te(X(this,"support.array"))),r),c=e.length;switch(c){case 0:return"";case 1:return`${e[0]}`;case 2:return e.join(i);default:return[e.slice(0,c-1).join(n),s,e[c-1]].join("")}}timeAgoInWords(e,r,n={}){return xn(this,e,r,n)}onChange(e){return this.onChangeHandlers.push(e),()=>{this.onChangeHandlers.splice(this.onChangeHandlers.indexOf(e),1)}}get version(){return this._version}formatNumber(e,r={}){return r=Object.assign(Object.assign({delimiter:",",precision:3,separator:".",unit:"",format:"%u%n",significant:!1,stripInsignificantZeros:!1},te(this.get("number.format"))),r),Te(e,r)}get(e){return X(this,e)}runCallbacks(){this.onChangeHandlers.forEach(e=>e(this))}hasChanged(){this._version+=1,this.runCallbacks()}};var Vf={page_not_found:{"404":"404",title:"Page not found :(",description:"The requested page could not be found."},menu:{import:"Import",export:"Export",clear:"Clear"},character:{title:"Character",inputs:{player_name:"Player name",character:{name:"Name",race:"Race",class:"Class",level:"Level",background:"Background",alignment:"Alignment",experience_points:"XP"}}},stats:{hp:{title:"Hit points",current:"Current",temporary:"Temp",maximum:"Max"},hit_dice:{title:"Hit dice",label:"Dice",spent:"Spent",maximum:"Max"},death_saves:{title:"Death saves",successes:"Successes:",failures:"Failures:"},armor_class:"Armor class",initiative:"Initiative",speed:"Speed",passive_perception:"Passive perception",proficiency_bonus:"Proficiency bonus",inspiration:"Heroic inspiration"},specs:{modifier:"Modifier",score:"Score",saving_throw:"Saving throw",names:{strength:"Strength",dexterity:"Dexterity",constitution:"Constitution",intelligence:"Intelligence",wisdom:"Wisdom",charisma:"Charisma"},abilities:{names:{athletics:"Athletics",acrobatics:"Acrobatics",sleight_of_hand:"Sleight of hand",stealth:"Stealth",arcana:"Arcana",history:"History",investigation:"Investigation",nature:"Nature",religion:"Religion",animal_handling:"Animal handling",insight:"Insight",medicine:"Medicine",perception:"Perception",survival:"Survival",deception:"Deception",intimidation:"Intimidation",performance:"Performance",persuasion:"Persuasion"}}},weapons:{title:"Weapons",items:{name:"Name",attack_bonus:"Atk bonus",damage:"Damage",damage_type:"Damage type"},weapons_amount:"Weapons amount",notes:{title:"Weapon notes"}},spellcasting:{stats:{title:"Spellcasting",spellcasting_ability:"Ability",spellcasting_modifier:"Modifier",spell_save_dc:"Save DC",spell_atack_bonus:"Atk bonus"},spell_slots:{title:"Spell slots",level:"Level",total:"Total"},spells:{title:"Spells & Cantrips",items:{level:"Level",name:"Name",concentration:"Concentration",ritual:"Ritual",components:{title:"Materials",verbal:"V",somatic:"S",material:"M"},notes:"Notes"},spells_amount:"Spells amount"}},proficiencies:{title:"Proficiencies",armor_training:{title:"Armor training",light:"Light",medium:"Medium",heavy:"Heavy",shields:"Shields"},weapons:"Weapons",tools:"Tools",languages:"Languages"},inventory:{title:"Inventory",weight:"Weight",max_weight:"Max weight"},coins:{title:"Coins",types:{cp:"CP",sp:"SP",ep:"EP",gp:"GP",pp:"PP"}},features_traits_feats:{title:"Features, traits & feats"},backstory_and_appearance:{title:"Backstory and appearance",appearance:"Appearance",backstory:"Backstory"},notes:{title:"For notes"}};var Kf={page_not_found:{"404":"404",title:"\u0421\u0442\u043E\u0440\u0456\u043D\u043A\u0443 \u043D\u0435 \u0437\u043D\u0430\u0439\u0434\u0435\u043D\u043E :(",description:"\u0417\u0430\u043F\u0438\u0442\u0430\u043D\u0443 \u0441\u0442\u043E\u0440\u0456\u043D\u043A\u0443 \u043D\u0435 \u0437\u043D\u0430\u0439\u0434\u0435\u043D\u043E."},menu:{import:"\u0406\u043C\u043F\u043E\u0440\u0442\u0443\u0432\u0430\u0442\u0438",export:"\u0415\u043A\u0441\u043F\u043E\u0440\u0442\u0443\u0432\u0430\u0442\u0438",clear:"\u041E\u0447\u0438\u0441\u0442\u0438\u0442\u0438"},character:{title:"\u041F\u0435\u0440\u0441\u043E\u043D\u0430\u0436",inputs:{player_name:"\u0406\u043C\u2019\u044F \u0433\u0440\u0430\u0432\u0446\u044F",character:{name:"\u0406\u043C\u2019\u044F",race:"\u0420\u0430\u0441\u0430",class:"\u041A\u043B\u0430\u0441",level:"\u0420\u0456\u0432\u0435\u043D\u044C",background:"\u041F\u0435\u0440\u0435\u0434\u0456\u0441\u0442\u043E\u0440\u0456\u044F",alignment:"\u0421\u0432\u0456\u0442\u043E\u0433\u043B\u044F\u0434",experience_points:"\u0414\u043E\u0441\u0432\u0456\u0434"}}},stats:{hp:{title:"\u041E\u0447\u043A\u0438 \u0437\u0434\u043E\u0440\u043E\u0432\u2019\u044F",current:"\u041F\u043E\u0442\u043E\u0447\u043D\u0456",temporary:"\u0422\u0438\u043C\u0447\u0430\u0441\u043E\u0432\u0456",maximum:"\u041C\u0430\u043A\u0441\u0438\u043C\u0443\u043C"},hit_dice:{title:"\u041A\u0456\u0441\u0442\u043A\u0438 \u0437\u0434\u043E\u0440\u043E\u0432\u2019\u044F",label:"\u041A\u0456\u0441\u0442\u043A\u0438",spent:"\u0412\u0438\u0442\u0440\u0430\u0447\u0435\u043D\u043E",maximum:"\u041C\u0430\u043A\u0441\u0438\u043C\u0443\u043C"},death_saves:{title:"\u0420\u044F\u0442\u043A\u0438\u0434\u043A\u0438 \u0432\u0456\u0434 \u0441\u043C\u0435\u0440\u0442\u0456",successes:"\u0423\u0441\u043F\u0456\u0445\u0438:",failures:"\u041D\u0435\u0432\u0434\u0430\u0447\u0456:"},armor_class:"\u041A\u043B\u0430\u0441 \u0431\u0440\u043E\u043D\u0456",initiative:"\u0406\u043D\u0456\u0446\u0456\u0430\u0442\u0438\u0432\u0430",speed:"\u0428\u0432\u0438\u0434\u043A\u0456\u0441\u0442\u044C",passive_perception:"\u041F\u0430\u0441\u0438\u0432\u043D\u0430 \u0443\u0432\u0430\u0436\u043D\u0456\u0441\u0442\u044C",proficiency_bonus:"\u0411\u043E\u043D\u0443\u0441 \u043C\u0430\u0439\u0441\u0442\u0435\u0440\u043D\u043E\u0441\u0442\u0456",inspiration:"\u0413\u0435\u0440\u043E\u0457\u0447\u043D\u0435 \u043D\u0430\u0442\u0445\u043D\u0435\u043D\u043D\u044F"},specs:{modifier:"\u041C\u043E\u0434\u0438\u0444\u0456\u043A\u0430\u0442\u043E\u0440",score:"\u0417\u043D\u0430\u0447\u0435\u043D\u043D\u044F",saving_throw:"\u0420\u044F\u0442\u043A\u0438\u0434\u043E\u043A",names:{strength:"\u0421\u0438\u043B\u0430",dexterity:"\u0421\u043F\u0440\u0438\u0442\u043D\u0456\u0441\u0442\u044C",constitution:"\u0412\u0438\u0442\u0440\u0438\u0432\u0430\u043B\u0456\u0441\u0442\u044C",intelligence:"\u0406\u043D\u0442\u0435\u043B\u0435\u043A\u0442",wisdom:"\u041C\u0443\u0434\u0440\u0456\u0441\u0442\u044C",charisma:"\u0425\u0430\u0440\u0438\u0437\u043C\u0430"},abilities:{names:{athletics:"\u0410\u0442\u043B\u0435\u0442\u0438\u043A\u0430",acrobatics:"\u0410\u043A\u0440\u043E\u0431\u0430\u0442\u0438\u043A\u0430",sleight_of_hand:"\u0421\u043F\u0440\u0438\u0442\u043D\u0456\u0441\u0442\u044C \u0440\u0443\u043A",stealth:"\u041D\u0435\u043F\u043E\u043C\u0456\u0442\u043D\u0456\u0441\u0442\u044C",arcana:"\u041C\u0430\u0433\u0456\u044F",history:"\u0406\u0441\u0442\u043E\u0440\u0456\u044F",investigation:"\u0420\u043E\u0437\u0441\u043B\u0456\u0434\u0443\u0432\u0430\u043D\u043D\u044F",nature:"\u041F\u0440\u0438\u0440\u043E\u0434\u0430",religion:"\u0420\u0435\u043B\u0456\u0433\u0456\u044F",animal_handling:"\u0414\u043E\u0433\u043B\u044F\u0434 \u0437\u0430 \u0442\u0432\u0430\u0440\u0438\u043D\u0430\u043C\u0438",insight:"\u041A\u043C\u0456\u0442\u043B\u0438\u0432\u0456\u0441\u0442\u044C",medicine:"\u041C\u0435\u0434\u0438\u0446\u0438\u043D\u0430",perception:"\u0423\u0432\u0430\u0436\u043D\u0456\u0441\u0442\u044C",survival:"\u0412\u0438\u0436\u0438\u0432\u0430\u043D\u043D\u044F",deception:"\u041E\u0431\u043C\u0430\u043D",intimidation:"\u0417\u0430\u043B\u044F\u043A\u0443\u0432\u0430\u043D\u043D\u044F",performance:"\u0412\u0438\u0441\u0442\u0443\u043F",persuasion:"\u041F\u0435\u0440\u0435\u043A\u043E\u043D\u0430\u043D\u043D\u044F"}}},weapons:{title:"\u0417\u0431\u0440\u043E\u044F",items:{name:"\u041D\u0430\u0437\u0432\u0430",attack_bonus:"\u0411\u043E\u043D\u0443\u0441 \u0430\u0442\u0430\u043A\u0438",damage:"\u0428\u043A\u043E\u0434\u0430",damage_type:"\u0422\u0438\u043F \u0448\u043A\u043E\u0434\u0438"},weapons_amount:"\u041A\u0456\u043B\u044C\u043A\u0456\u0441\u0442\u044C \u0437\u0431\u0440\u043E\u0457",notes:{title:"\u041F\u0440\u0438\u043C\u0456\u0442\u043A\u0438 \u0434\u043E \u0437\u0431\u0440\u043E\u0457"}},spellcasting:{stats:{title:"\u0427\u0430\u043A\u043B\u0443\u043D\u0441\u0442\u0432\u043E",spellcasting_ability:"\u0425\u0430\u0440\u0430\u043A\u0442\u0435\u0440\u0438\u0441\u0442\u0438\u043A\u0430",spellcasting_modifier:"\u041C\u043E\u0434\u0438\u0444\u0456\u043A\u0430\u0442\u043E\u0440",spell_save_dc:"C\u043A \u0440\u044F\u0442\u043A\u0438\u0434\u043A\u0443",spell_atack_bonus:"\u0411\u043E\u043D\u0443\u0441 \u0430\u0442\u0430\u043A\u0438"},spell_slots:{title:"\u041A\u043E\u043C\u0456\u0440\u043A\u0438 \u0437\u0430\u043A\u043B\u044F\u0442\u044C",level:"\u0420\u0456\u0432\u0435\u043D\u044C",total:"\u0423\u0441\u044C\u043E\u0433\u043E"},spells:{title:"\u0417\u0430\u043A\u043B\u044F\u0442\u0442\u044F \u0442\u0430 \u0437\u0430\u043C\u043E\u0432\u043B\u044F\u043D\u043D\u044F",items:{level:"\u0420\u0456\u0432\u0435\u043D\u044C",name:"\u041D\u0430\u0437\u0432\u0430",concentration:"\u041A\u043E\u043D\u0446\u0435\u043D\u0442\u0440\u0430\u0446\u0456\u044F",ritual:"\u0420\u0438\u0442\u0443\u0430\u043B",components:{title:"\u041A\u043E\u043C\u043F\u043E\u043D\u0435\u043D\u0442\u0438",verbal:"\u0412",somatic:"\u0421",material:"\u041C"},notes:"\u041F\u0440\u0438\u043C\u0456\u0442\u043A\u0438"},spells_amount:"\u041A\u0456\u043B\u044C\u043A\u0456\u0441\u0442\u044C \u0437\u0430\u043A\u043B\u044F\u0442\u044C"}},proficiencies:{title:"\u0412\u043E\u043B\u043E\u0434\u0456\u043D\u043D\u044F",armor_training:{title:"\u0412\u043E\u043B\u043E\u0434\u0456\u043D\u043D\u044F \u0431\u0440\u043E\u043D\u0435\u044E",light:"\u041B\u0435\u0433\u043A\u0430",medium:"\u0421\u0435\u0440\u0435\u0434\u043D\u044F",heavy:"\u0412\u0430\u0436\u043A\u0430",shields:"\u0429\u0438\u0442\u0438"},weapons:"\u0417\u0431\u0440\u043E\u044F",tools:"\u0406\u043D\u0441\u0442\u0440\u0443\u043C\u0435\u043D\u0442\u0438",languages:"\u041C\u043E\u0432\u0438"},inventory:{title:"\u0406\u043D\u0432\u0435\u043D\u0442\u0430\u0440",weight:"\u0412\u0430\u0433\u0430",max_weight:"\u041C\u0430\u043A\u0441. \u0432\u0430\u0433\u0430"},coins:{title:"\u041C\u043E\u043D\u0435\u0442\u0438",types:{cp:"\u041C\u041C",sp:"\u0421\u041C",ep:"\u0415\u041C",gp:"\u0417\u041C",pp:"\u041F\u041C"}},features_traits_feats:{title:"\u041E\u0441\u043E\u0431\u043B\u0438\u0432\u043E\u0441\u0442\u0456, \u0440\u0438\u0441\u0438 \u0442\u0430 \u0434\u043E\u0441\u044F\u0433\u043D\u0435\u043D\u043D\u044F"},backstory_and_appearance:{title:"\u041F\u0435\u0440\u0435\u0434\u0456\u0441\u0442\u043E\u0440\u0456\u044F \u0442\u0430 \u0437\u043E\u0432\u043D\u0456\u0448\u043D\u0456\u0441\u0442\u044C",appearance:"\u0417\u043E\u0432\u043D\u0456\u0448\u043D\u0456\u0441\u0442\u044C",backstory:"\u041F\u0435\u0440\u0435\u0434\u0456\u0441\u0442\u043E\u0440\u0456\u044F"},notes:{title:"\u041D\u043E\u0442\u0430\u0442\u043A\u0438"}};var Hf={page_not_found:{"404":"404",title:"\u0421\u0442\u0440\u0430\u043D\u0438\u0446\u0430 \u043D\u0435 \u043D\u0430\u0439\u0434\u0435\u043D\u0430 :(",description:"\u0417\u0430\u043F\u0440\u0430\u0448\u0438\u0432\u0430\u0435\u043C\u0430\u044F \u0441\u0442\u0440\u0430\u043D\u0438\u0446\u0430 \u043D\u0435 \u043D\u0430\u0439\u0434\u0435\u043D\u0430."},menu:{import:"\u0418\u043C\u043F\u043E\u0440\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C",export:"\u0415\u043A\u0441\u043F\u043E\u0440\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C",clear:"\u041E\u0447\u0438\u0441\u0442\u0438\u0442\u044C"},character:{title:"\u041F\u0435\u0440\u0441\u043E\u043D\u0430\u0436",inputs:{player_name:"\u0418\u043C\u044F \u0438\u0433\u0440\u043E\u043A\u0430",character:{name:"\u0418\u043C\u044F",race:"\u0420\u0430\u0441\u0430",class:"\u041A\u043B\u0430\u0441\u0441",level:"\u0423\u0440\u043E\u0432\u0435\u043D\u044C",background:"\u041F\u0440\u0435\u0434\u044B\u0441\u0442\u043E\u0440\u0438\u044F",alignment:"\u041C\u0438\u0440\u043E\u0432\u043E\u0437\u0437\u0440\u0435\u043D\u0438\u0435",experience_points:"\u041E\u043F\u044B\u0442"}}},stats:{hp:{title:"\u041E\u0447\u043A\u0438 \u0437\u0434\u043E\u0440\u043E\u0432\u044C\u044F",current:"\u0422\u0435\u043A\u0443\u0449\u0438\u0435",temporary:"\u0412\u0440\u0435\u043C\u0435\u043D\u043D\u044B\u0435",maximum:"\u041C\u0430\u043A\u0441\u0438\u043C\u0443\u043C"},hit_dice:{title:"\u041A\u043E\u0441\u0442\u0438 \u0437\u0434\u043E\u0440\u043E\u0432\u044C\u044F",label:"\u041A\u043E\u0441\u0442\u0438",spent:"\u041F\u043E\u0442\u0440\u0430\u0447\u0435\u043D\u043E",maximum:"\u041C\u0430\u043A\u0441\u0438\u043C\u0443\u043C"},death_saves:{title:"\u0421\u043F\u0430\u0441\u0431\u0440\u043E\u0441\u043A\u0438 \u043E\u0442 \u0441\u043C\u0435\u0440\u0442\u0438",successes:"\u0423\u0441\u043F\u0435\u0445\u0438:",failures:"\u041F\u0440\u043E\u0432\u0430\u043B\u044B:"},armor_class:"\u041A\u043B\u0430\u0441\u0441 \u0434\u043E\u0441\u043F\u0435\u0445\u0430",initiative:"\u0418\u043D\u0438\u0446\u0438\u0430\u0442\u0438\u0432\u0430",speed:"\u0421\u043A\u043E\u0440\u043E\u0441\u0442\u044C",passive_perception:"\u041F\u0430\u0441\u0441\u0438\u0432\u043D\u043E\u0435 \u0432\u043E\u0441\u043F\u0440\u0438\u044F\u0442\u0438\u0435",proficiency_bonus:"\u0411\u043E\u043D\u0443\u0441 \u043C\u0430\u0441\u0442\u0435\u0440\u0441\u0442\u0432\u0430",inspiration:"\u0413\u0435\u0440\u043E\u0438\u0447\u0435\u0441\u043A\u043E\u0435 \u0432\u0434\u043E\u0445\u043D\u043E\u0432\u0435\u043D\u0438\u0435"},specs:{modifier:"\u041C\u043E\u0434\u0438\u0444\u0438\u043A\u0430\u0442\u043E\u0440",score:"\u0417\u043D\u0430\u0447\u0435\u043D\u0438\u0435",saving_throw:"\u0421\u043F\u0430\u0441\u0431\u0440\u043E\u0441\u043E\u043A",names:{strength:"\u0421\u0438\u043B\u0430",dexterity:"\u041B\u043E\u0432\u043A\u043E\u0441\u0442\u044C",constitution:"\u0422\u0435\u043B\u043E\u0441\u043B\u043E\u0436\u0435\u043D\u0438\u0435",intelligence:"\u0418\u043D\u0442\u0435\u043B\u043B\u0435\u043A\u0442",wisdom:"\u041C\u0443\u0434\u0440\u043E\u0441\u0442\u044C",charisma:"\u0425\u0430\u0440\u0438\u0437\u043C\u0430"},abilities:{names:{athletics:"\u0410\u0442\u043B\u0435\u0442\u0438\u043A\u0430",acrobatics:"\u0410\u043A\u0440\u043E\u0431\u0430\u0442\u0438\u043A\u0430",sleight_of_hand:"\u041B\u043E\u0432\u043A\u043E\u0441\u0442\u044C \u0440\u0443\u043A",stealth:"\u0421\u043A\u0440\u044B\u0442\u043D\u043E\u0441\u0442\u044C",arcana:"\u041C\u0430\u0433\u0438\u044F",history:"\u0418\u0441\u0442\u043E\u0440\u0438\u044F",investigation:"\u0420\u0430\u0441\u0441\u043B\u0435\u0434\u043E\u0432\u0430\u043D\u0438\u0435",nature:"\u041F\u0440\u0438\u0440\u043E\u0434\u0430",religion:"\u0420\u0435\u043B\u0438\u0433\u0438\u044F",animal_handling:"\u0423\u0445\u043E\u0434 \u0437\u0430 \u0436\u0438\u0432\u043E\u0442\u043D\u044B\u043C\u0438",insight:"\u041F\u0440\u043E\u043D\u0438\u0446\u0430\u0442\u0435\u043B\u044C\u043D\u043E\u0441\u0442\u044C",medicine:"\u041C\u0435\u0434\u0438\u0446\u0438\u043D\u0430",perception:"\u0412\u043E\u0441\u043F\u0440\u0438\u044F\u0442\u0438\u0435",survival:"\u0412\u044B\u0436\u0438\u0432\u0430\u043D\u0438\u0435",deception:"\u041E\u0431\u043C\u0430\u043D",intimidation:"\u0417\u0430\u043F\u0443\u0433\u0438\u0432\u0430\u043D\u0438\u0435",performance:"\u0412\u044B\u0441\u0442\u0443\u043F\u043B\u0435\u043D\u0438\u0435",persuasion:"\u0423\u0431\u0435\u0436\u0434\u0435\u043D\u0438\u0435"}}},weapons:{title:"\u041E\u0440\u0443\u0436\u0438\u0435",items:{name:"\u041D\u0430\u0437\u0432\u0430\u043D\u0438\u0435",attack_bonus:"\u0411\u043E\u043D\u0443\u0441 \u0430\u0442\u0430\u043A\u0438",damage:"\u0423\u0440\u043E\u043D",damage_type:"\u0422\u0438\u043F \u0443\u0440\u043E\u043D\u0430"},weapons_amount:"\u041A\u043E\u043B\u0438\u0447\u0435\u0441\u0442\u0432\u043E \u043E\u0440\u0443\u0436\u0438\u044F",notes:{title:"\u041F\u0440\u0438\u043C\u0435\u0447\u0430\u043D\u0438\u044F \u043A \u043E\u0440\u0443\u0436\u0438\u044E"}},spellcasting:{stats:{title:"\u041C\u0430\u0433\u0438\u044F",spellcasting_ability:"\u0425\u0430\u0440\u0430\u043A\u0442\u0435\u0440\u0438\u0441\u0442\u0438\u043A\u0430",spellcasting_modifier:"\u041C\u043E\u0434\u0438\u0444\u0438\u043A\u0430\u0442\u043E\u0440",spell_save_dc:"\u0421\u043B \u0441\u043F\u0430\u0441\u0431\u0440\u043E\u0441\u043A\u0430",spell_atack_bonus:"\u0411\u043E\u043D\u0443\u0441 \u0430\u0442\u0430\u043A\u0438"},spell_slots:{title:"\u042F\u0447\u0435\u0439\u043A\u0438 \u0437\u0430\u043A\u043B\u0438\u043D\u0430\u043D\u0438\u0439",level:"\u0423\u0440\u043E\u0432\u0435\u043D\u044C",total:"\u0412\u0441\u0435\u0433\u043E"},spells:{title:"\u0417\u0430\u043A\u043B\u0438\u043D\u0430\u043D\u0438\u044F \u0438 \u0437\u0430\u0433\u043E\u0432\u043E\u0440\u044B",items:{level:"\u0423\u0440\u043E\u0432\u0435\u043D\u044C",name:"\u041D\u0430\u0437\u0432\u0430\u043D\u0438\u0435",concentration:"\u041A\u043E\u043D\u0446\u0435\u043D\u0442\u0440\u0430\u0446\u0438\u044F",ritual:"\u0420\u0438\u0442\u0443\u0430\u043B",components:{title:"\u041A\u043E\u043C\u043F\u043E\u043D\u0435\u043D\u0442\u044B",verbal:"\u0412",somatic:"\u0421",material:"\u041C"},notes:"\u041F\u0440\u0438\u043C\u0435\u0447\u0430\u043D\u0438\u044F"},spells_amount:"\u041A\u043E\u043B\u0438\u0447\u0435\u0441\u0442\u0432\u043E \u0437\u0430\u043A\u043B\u0438\u043D\u0430\u043D\u0438\u0439"}},proficiencies:{title:"\u0412\u043B\u0430\u0434\u0435\u043D\u0438\u044F",armor_training:{title:"\u0412\u043B\u0430\u0434\u0435\u043D\u0438\u0435 \u0434\u043E\u0441\u043F\u0435\u0445\u0430\u043C\u0438",light:"\u041B\u0451\u0433\u043A\u0438\u0435",medium:"\u0421\u0440\u0435\u0434\u043D\u0438\u0435",heavy:"\u0422\u044F\u0436\u0451\u043B\u044B\u0435",shields:"\u0429\u0438\u0442\u044B"},weapons:"\u041E\u0440\u0443\u0436\u0438\u0435",tools:"\u0418\u043D\u0441\u0442\u0440\u0443\u043C\u0435\u043D\u0442\u044B",languages:"\u042F\u0437\u044B\u043A\u0438"},inventory:{title:"\u0418\u043D\u0432\u0435\u043D\u0442\u0430\u0440\u044C",weight:"\u0412\u0435\u0441",max_weight:"\u041C\u0430\u043A\u0441. \u0432\u0435\u0441"},coins:{title:"\u041C\u043E\u043D\u0435\u0442\u044B",types:{cp:"\u041C\u041C",sp:"\u0421\u041C",ep:"\u042D\u041C",gp:"\u0417\u041C",pp:"\u041F\u041C"}},features_traits_feats:{title:"\u0427\u0435\u0440\u0442\u044B, \u043E\u0441\u043E\u0431\u0435\u043D\u043D\u043E\u0441\u0442\u0438 \u0438 \u043F\u043E\u0434\u0432\u0438\u0433\u0438"},backstory_and_appearance:{title:"\u041F\u0440\u0435\u0434\u044B\u0441\u0442\u043E\u0440\u0438\u044F \u0438 \u0432\u043D\u0435\u0448\u043D\u043E\u0441\u0442\u044C",appearance:"\u0412\u043D\u0435\u0448\u043D\u043E\u0441\u0442\u044C",backstory:"\u041F\u0440\u0435\u0434\u044B\u0441\u0442\u043E\u0440\u0438\u044F"},notes:{title:"\u0417\u0430\u043C\u0435\u0442\u043A\u0438"}};var ue=class extends ve{};var UA={expires:400,suffix:!0};function Kt(t){return t.replace(/(?:[_-])([a-z0-9])/g,(e,r)=>r.toUpperCase())}var Ht=(t,e={})=>{let{expires:r,suffix:n,prefix:i}=Object.assign({},UA,e),s=w=>Kt(i?`${i}_${w}`:w),c=w=>n?`${Kt(w)}Cookie`:Kt(w),f=w=>{let O=s(w),S=c(w);Object.defineProperty(t,S,{get(){let M=document.cookie.split(";").map(q=>q.trim()).find(q=>q.startsWith(O+"="));return M?M.split("=")[1]:void 0},set(E){if(E===null)return KA(O);let M=typeof E=="string"?E:E.value,q=zA(O+"="+M);VA(q,r)}})};t.constructor.cookieNames?.forEach(w=>{f(w)})};function zA(t){let[e,r]=t.split("=");return{name:e,value:r}}function VA(t,e){let{name:r,value:n,expires:i=e}=t,s=new Date(new Date().getTime()+i*24*60*60*1e3).toUTCString();document.cookie=`${r}=${n};expires=${s};`}function KA(t){document.cookie=`${t}=; expires=Thu, 01 Jan 1970 00:00:00 UTC;`}var Gt=["en","ua","ru"],ft=class extends ue{static targets=["toggle","translation"];static classes=["toggled"];static cookieNames=["locale"];connect(){Ht(this),this.i18n=new lt({en:Vf,ua:Kf,ru:Hf}),this._setLocale(this.localeCookie||Gt[0]),this._toggleLocale()}toggle(){let t=Gt.indexOf(this.localeCookie),e=t+1<Gt.length?t+1:0;this._setLocale(Gt[e]),this.toggleTarget.classList.toggle(this.toggledClass,!this.toggleTarget.classList.contains(this.toggledClass)),this._toggleLocale()}_setLocale(t){this.localeCookie=t,this.i18n.locale=t}_toggleLocale(){this.translationTargets.forEach(t=>{t.innerHTML=this.i18n.t(t.dataset.t)})}};var ht=class extends ue{static targets=["state"];static values={states:Array,id:String,currectState:String};static classes=["hidden"];connect(){this._toggleState(this.statesValue[0])}toggle(){let t=this.statesValue.indexOf(this.currentState),e=this.statesValue[t+1<this.statesValue.length?t+1:0];this._toggleState(e),this._dispatchChangeEvent()}load({detail:{state:t}}){let e=t[this.idValue]||this.statesValue[0];this._toggleState(e)}_toggleState(t){this.currentState=t;let e=this.statesValue.indexOf(this.currentState);this.stateTargets.forEach((r,n)=>{r.classList.toggle(this.hiddenClass,e!==n)})}_dispatchChangeEvent(){this.dispatch("change",{detail:{value:this.currentState,id:this.idValue}})}};var pt=class extends ue{static targets=["input","item"];static classes=["hidden"];static values={id:String};update(){this._updateItems(this.inputTarget.value),this._dispatchChangeEvent()}load({detail:{state:t}}){let e=t[this.idValue];this.inputTarget.value=e,this._updateItems(e)}_updateItems(t){let e=Number(t);this.itemTargets.forEach((r,n)=>{r.classList.toggle(this.hiddenClass,n>=e)})}_dispatchChangeEvent(){this.dispatch("change",{detail:{id:this.idValue,value:this.inputTarget.value}})}};var Jf=de(Gf()),Wf="state",HA="character.json",GA="application/json;charset=utf-8",Zf={weapons_amount:4,spells_amount:6},dt=class extends ue{static targets=["input","importInput"];connect(){this._load()}save({target:t,detail:e}){let r=e||t;this.state[r.id]=r.value,this.storedState=JSON.stringify(this.state)}export(){let t=new Blob([JSON.stringify(this.state,void 0,2)],{type:GA});(0,Jf.saveAs)(t,HA)}async import(t){let e=t.currentTarget.files[0];e!==void 0&&(this.storedState=await e.text(),this._load(),this.importInputTarget.value=null)}clear(){this.storedState=JSON.stringify(Zf),this._load()}_load(){this.state={...Zf,...this.storedState?JSON.parse(this.storedState):{}},this.inputTargets.forEach(t=>{t.value=this.state[t.id]||""}),setTimeout(()=>this.dispatch("loaded",{detail:{state:this.state},bubbles:!0}))}get storedState(){return window.localStorage.getItem(Wf)}set storedState(t){window.localStorage.setItem(Wf,t)}};var gt={enabled:"true",disabled:"false"},WA="meta[name=theme-color]",Yf={dark:"#27272a",light:"#f5f5f5"},mt=class extends ue{static targets=["body","toggle"];static classes=["darkMode","darkModeEnabled"];static cookieNames=["darkMode"];connect(){Ht(this),this.darkModeCookie===void 0&&(this.darkModeCookie=gt.enabled),this._toggleDarkMode()}toggle(){this.darkModeCookie=this.darkModeCookie===gt.enabled?gt.disabled:gt.enabled,this._toggleDarkMode()}_toggleDarkMode(){let t=this.darkModeCookie===gt.enabled;this.bodyTarget.classList.toggle(this.darkModeClass,t),this.toggleTarget.classList.toggle(this.darkModeEnabledClass,t);let e=document.querySelector(WA);e.content=t?Yf.dark:Yf.light}};window.Stimulus=At.start();window.Stimulus.register("theme",mt);window.Stimulus.register("i18n",ft);window.Stimulus.register("multi-toggle",ht);window.Stimulus.register("pagination",pt);window.Stimulus.register("state",dt);"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("sw.js",{scope:"/dcs/"})});})();
