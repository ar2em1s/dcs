(()=>{var ef=Object.create;var Sn=Object.defineProperty;var tf=Object.getOwnPropertyDescriptor;var rf=Object.getOwnPropertyNames;var nf=Object.getPrototypeOf,sf=Object.prototype.hasOwnProperty;var h=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var of=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of rf(e))!sf.call(t,s)&&s!==r&&Sn(t,s,{get:()=>e[s],enumerable:!(n=tf(e,s))||n.enumerable});return t};var ge=(t,e,r)=>(r=t!=null?ef(nf(t)):{},of(e||!t||!t.__esModule?Sn(r,"default",{value:t,enumerable:!0}):r,t));var se=h((eA,Bn)=>{var Jf=Array.isArray;Bn.exports=Jf});var yr=h((tA,$n)=>{var Yf=typeof global=="object"&&global&&global.Object===Object&&global;$n.exports=Yf});var he=h((rA,Rn)=>{var Xf=yr(),Qf=typeof self=="object"&&self&&self.Object===Object&&self,ed=Xf||Qf||Function("return this")();Rn.exports=ed});var qe=h((nA,Un)=>{var td=he(),rd=td.Symbol;Un.exports=rd});var Hn=h((sA,Kn)=>{var Vn=qe(),zn=Object.prototype,nd=zn.hasOwnProperty,sd=zn.toString,Ge=Vn?Vn.toStringTag:void 0;function id(t){var e=nd.call(t,Ge),r=t[Ge];try{t[Ge]=void 0;var n=!0}catch{}var s=sd.call(t);return n&&(e?t[Ge]=r:delete t[Ge]),s}Kn.exports=id});var Wn=h((iA,Gn)=>{var od=Object.prototype,ad=od.toString;function cd(t){return ad.call(t)}Gn.exports=cd});var Ee=h((oA,Yn)=>{var Zn=qe(),ud=Hn(),ld=Wn(),hd="[object Null]",fd="[object Undefined]",Jn=Zn?Zn.toStringTag:void 0;function dd(t){return t==null?t===void 0?fd:hd:Jn&&Jn in Object(t)?ud(t):ld(t)}Yn.exports=dd});var xe=h((aA,Xn)=>{function pd(t){return t!=null&&typeof t=="object"}Xn.exports=pd});var Ne=h((cA,Qn)=>{var gd=Ee(),md=xe(),bd="[object Symbol]";function vd(t){return typeof t=="symbol"||md(t)&&gd(t)==bd}Qn.exports=vd});var _t=h((uA,es)=>{var xd=se(),yd=Ne(),wd=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Od=/^\w*$/;function Ed(t,e){if(xd(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||yd(t)?!0:Od.test(t)||!wd.test(t)||e!=null&&t in Object(e)}es.exports=Ed});var me=h((lA,ts)=>{function Ad(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}ts.exports=Ad});var Tt=h((hA,rs)=>{var Sd=Ee(),_d=me(),Td="[object AsyncFunction]",Cd="[object Function]",qd="[object GeneratorFunction]",Nd="[object Proxy]";function Md(t){if(!_d(t))return!1;var e=Sd(t);return e==Cd||e==qd||e==Td||e==Nd}rs.exports=Md});var ss=h((fA,ns)=>{var Fd=he(),Pd=Fd["__core-js_shared__"];ns.exports=Pd});var as=h((dA,os)=>{var wr=ss(),is=function(){var t=/[^.]+$/.exec(wr&&wr.keys&&wr.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function kd(t){return!!is&&is in t}os.exports=kd});var Or=h((pA,cs)=>{var Ld=Function.prototype,Id=Ld.toString;function Dd(t){if(t!=null){try{return Id.call(t)}catch{}try{return t+""}catch{}}return""}cs.exports=Dd});var ls=h((gA,us)=>{var jd=Tt(),Bd=as(),$d=me(),Rd=Or(),Ud=/[\\^$.*+?()[\]{}|]/g,Vd=/^\[object .+?Constructor\]$/,zd=Function.prototype,Kd=Object.prototype,Hd=zd.toString,Gd=Kd.hasOwnProperty,Wd=RegExp("^"+Hd.call(Gd).replace(Ud,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Zd(t){if(!$d(t)||Bd(t))return!1;var e=jd(t)?Wd:Vd;return e.test(Rd(t))}us.exports=Zd});var fs=h((mA,hs)=>{function Jd(t,e){return t?.[e]}hs.exports=Jd});var ye=h((bA,ds)=>{var Yd=ls(),Xd=fs();function Qd(t,e){var r=Xd(t,e);return Yd(r)?r:void 0}ds.exports=Qd});var We=h((vA,ps)=>{var ep=ye(),tp=ep(Object,"create");ps.exports=tp});var bs=h((xA,ms)=>{var gs=We();function rp(){this.__data__=gs?gs(null):{},this.size=0}ms.exports=rp});var xs=h((yA,vs)=>{function np(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}vs.exports=np});var ws=h((wA,ys)=>{var sp=We(),ip="__lodash_hash_undefined__",op=Object.prototype,ap=op.hasOwnProperty;function cp(t){var e=this.__data__;if(sp){var r=e[t];return r===ip?void 0:r}return ap.call(e,t)?e[t]:void 0}ys.exports=cp});var Es=h((OA,Os)=>{var up=We(),lp=Object.prototype,hp=lp.hasOwnProperty;function fp(t){var e=this.__data__;return up?e[t]!==void 0:hp.call(e,t)}Os.exports=fp});var Ss=h((EA,As)=>{var dp=We(),pp="__lodash_hash_undefined__";function gp(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=dp&&e===void 0?pp:e,this}As.exports=gp});var Ts=h((AA,_s)=>{var mp=bs(),bp=xs(),vp=ws(),xp=Es(),yp=Ss();function Me(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Me.prototype.clear=mp;Me.prototype.delete=bp;Me.prototype.get=vp;Me.prototype.has=xp;Me.prototype.set=yp;_s.exports=Me});var qs=h((SA,Cs)=>{function wp(){this.__data__=[],this.size=0}Cs.exports=wp});var Fe=h((_A,Ns)=>{function Op(t,e){return t===e||t!==t&&e!==e}Ns.exports=Op});var Ze=h((TA,Ms)=>{var Ep=Fe();function Ap(t,e){for(var r=t.length;r--;)if(Ep(t[r][0],e))return r;return-1}Ms.exports=Ap});var Ps=h((CA,Fs)=>{var Sp=Ze(),_p=Array.prototype,Tp=_p.splice;function Cp(t){var e=this.__data__,r=Sp(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():Tp.call(e,r,1),--this.size,!0}Fs.exports=Cp});var Ls=h((qA,ks)=>{var qp=Ze();function Np(t){var e=this.__data__,r=qp(e,t);return r<0?void 0:e[r][1]}ks.exports=Np});var Ds=h((NA,Is)=>{var Mp=Ze();function Fp(t){return Mp(this.__data__,t)>-1}Is.exports=Fp});var Bs=h((MA,js)=>{var Pp=Ze();function kp(t,e){var r=this.__data__,n=Pp(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}js.exports=kp});var Je=h((FA,$s)=>{var Lp=qs(),Ip=Ps(),Dp=Ls(),jp=Ds(),Bp=Bs();function Pe(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Pe.prototype.clear=Lp;Pe.prototype.delete=Ip;Pe.prototype.get=Dp;Pe.prototype.has=jp;Pe.prototype.set=Bp;$s.exports=Pe});var Ct=h((PA,Rs)=>{var $p=ye(),Rp=he(),Up=$p(Rp,"Map");Rs.exports=Up});var zs=h((kA,Vs)=>{var Us=Ts(),Vp=Je(),zp=Ct();function Kp(){this.size=0,this.__data__={hash:new Us,map:new(zp||Vp),string:new Us}}Vs.exports=Kp});var Hs=h((LA,Ks)=>{function Hp(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}Ks.exports=Hp});var Ye=h((IA,Gs)=>{var Gp=Hs();function Wp(t,e){var r=t.__data__;return Gp(e)?r[typeof e=="string"?"string":"hash"]:r.map}Gs.exports=Wp});var Zs=h((DA,Ws)=>{var Zp=Ye();function Jp(t){var e=Zp(this,t).delete(t);return this.size-=e?1:0,e}Ws.exports=Jp});var Ys=h((jA,Js)=>{var Yp=Ye();function Xp(t){return Yp(this,t).get(t)}Js.exports=Xp});var Qs=h((BA,Xs)=>{var Qp=Ye();function eg(t){return Qp(this,t).has(t)}Xs.exports=eg});var ti=h(($A,ei)=>{var tg=Ye();function rg(t,e){var r=tg(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}ei.exports=rg});var qt=h((RA,ri)=>{var ng=zs(),sg=Zs(),ig=Ys(),og=Qs(),ag=ti();function ke(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}ke.prototype.clear=ng;ke.prototype.delete=sg;ke.prototype.get=ig;ke.prototype.has=og;ke.prototype.set=ag;ri.exports=ke});var ii=h((UA,si)=>{var ni=qt(),cg="Expected a function";function Er(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(cg);var r=function(){var n=arguments,s=e?e.apply(this,n):n[0],i=r.cache;if(i.has(s))return i.get(s);var c=t.apply(this,n);return r.cache=i.set(s,c)||i,c};return r.cache=new(Er.Cache||ni),r}Er.Cache=ni;si.exports=Er});var ai=h((VA,oi)=>{var ug=ii(),lg=500;function hg(t){var e=ug(t,function(n){return r.size===lg&&r.clear(),n}),r=e.cache;return e}oi.exports=hg});var ui=h((zA,ci)=>{var fg=ai(),dg=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,pg=/\\(\\)?/g,gg=fg(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(dg,function(r,n,s,i){e.push(s?i.replace(pg,"$1"):n||r)}),e});ci.exports=gg});var Ar=h((KA,li)=>{function mg(t,e){for(var r=-1,n=t==null?0:t.length,s=Array(n);++r<n;)s[r]=e(t[r],r,t);return s}li.exports=mg});var mi=h((HA,gi)=>{var hi=qe(),bg=Ar(),vg=se(),xg=Ne(),yg=1/0,fi=hi?hi.prototype:void 0,di=fi?fi.toString:void 0;function pi(t){if(typeof t=="string")return t;if(vg(t))return bg(t,pi)+"";if(xg(t))return di?di.call(t):"";var e=t+"";return e=="0"&&1/t==-yg?"-0":e}gi.exports=pi});var Ae=h((GA,bi)=>{var wg=mi();function Og(t){return t==null?"":wg(t)}bi.exports=Og});var Sr=h((WA,vi)=>{var Eg=se(),Ag=_t(),Sg=ui(),_g=Ae();function Tg(t,e){return Eg(t)?t:Ag(t,e)?[t]:Sg(_g(t))}vi.exports=Tg});var Xe=h((ZA,xi)=>{var Cg=Ne(),qg=1/0;function Ng(t){if(typeof t=="string"||Cg(t))return t;var e=t+"";return e=="0"&&1/t==-qg?"-0":e}xi.exports=Ng});var Nt=h((JA,yi)=>{var Mg=Sr(),Fg=Xe();function Pg(t,e){e=Mg(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[Fg(e[r++])];return r&&r==n?t:void 0}yi.exports=Pg});var _r=h((YA,wi)=>{var kg=Nt();function Lg(t,e,r){var n=t==null?void 0:kg(t,e);return n===void 0?r:n}wi.exports=Lg});var Ei=h((XA,Oi)=>{var Ig=Object.prototype,Dg=Ig.hasOwnProperty;function jg(t,e){return t!=null&&Dg.call(t,e)}Oi.exports=jg});var Si=h((QA,Ai)=>{var Bg=Ee(),$g=xe(),Rg="[object Arguments]";function Ug(t){return $g(t)&&Bg(t)==Rg}Ai.exports=Ug});var Qe=h((eS,Ci)=>{var _i=Si(),Vg=xe(),Ti=Object.prototype,zg=Ti.hasOwnProperty,Kg=Ti.propertyIsEnumerable,Hg=_i(function(){return arguments}())?_i:function(t){return Vg(t)&&zg.call(t,"callee")&&!Kg.call(t,"callee")};Ci.exports=Hg});var Mt=h((tS,qi)=>{var Gg=9007199254740991,Wg=/^(?:0|[1-9]\d*)$/;function Zg(t,e){var r=typeof t;return e=e??Gg,!!e&&(r=="number"||r!="symbol"&&Wg.test(t))&&t>-1&&t%1==0&&t<e}qi.exports=Zg});var Ft=h((rS,Ni)=>{var Jg=9007199254740991;function Yg(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Jg}Ni.exports=Yg});var Tr=h((nS,Mi)=>{var Xg=Sr(),Qg=Qe(),em=se(),tm=Mt(),rm=Ft(),nm=Xe();function sm(t,e,r){e=Xg(e,t);for(var n=-1,s=e.length,i=!1;++n<s;){var c=nm(e[n]);if(!(i=t!=null&&r(t,c)))break;t=t[c]}return i||++n!=s?i:(s=t==null?0:t.length,!!s&&rm(s)&&tm(c,s)&&(em(t)||Qg(t)))}Mi.exports=sm});var Pi=h((sS,Fi)=>{var im=Ei(),om=Tr();function am(t,e){return t!=null&&om(t,e,im)}Fi.exports=am});var Li=h((iS,ki)=>{var cm=Je();function um(){this.__data__=new cm,this.size=0}ki.exports=um});var Di=h((oS,Ii)=>{function lm(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}Ii.exports=lm});var Bi=h((aS,ji)=>{function hm(t){return this.__data__.get(t)}ji.exports=hm});var Ri=h((cS,$i)=>{function fm(t){return this.__data__.has(t)}$i.exports=fm});var Vi=h((uS,Ui)=>{var dm=Je(),pm=Ct(),gm=qt(),mm=200;function bm(t,e){var r=this.__data__;if(r instanceof dm){var n=r.__data__;if(!pm||n.length<mm-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new gm(n)}return r.set(t,e),this.size=r.size,this}Ui.exports=bm});var Pt=h((lS,zi)=>{var vm=Je(),xm=Li(),ym=Di(),wm=Bi(),Om=Ri(),Em=Vi();function Le(t){var e=this.__data__=new vm(t);this.size=e.size}Le.prototype.clear=xm;Le.prototype.delete=ym;Le.prototype.get=wm;Le.prototype.has=Om;Le.prototype.set=Em;zi.exports=Le});var Cr=h((hS,Ki)=>{var Am=ye(),Sm=function(){try{var t=Am(Object,"defineProperty");return t({},"",{}),t}catch{}}();Ki.exports=Sm});var kt=h((fS,Gi)=>{var Hi=Cr();function _m(t,e,r){e=="__proto__"&&Hi?Hi(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}Gi.exports=_m});var qr=h((dS,Wi)=>{var Tm=kt(),Cm=Fe();function qm(t,e,r){(r!==void 0&&!Cm(t[e],r)||r===void 0&&!(e in t))&&Tm(t,e,r)}Wi.exports=qm});var Ji=h((pS,Zi)=>{function Nm(t){return function(e,r,n){for(var s=-1,i=Object(e),c=n(e),l=c.length;l--;){var p=c[t?l:++s];if(r(i[p],p,i)===!1)break}return e}}Zi.exports=Nm});var Nr=h((gS,Yi)=>{var Mm=Ji(),Fm=Mm();Yi.exports=Fm});var ro=h((et,Ie)=>{var Pm=he(),to=typeof et=="object"&&et&&!et.nodeType&&et,Xi=to&&typeof Ie=="object"&&Ie&&!Ie.nodeType&&Ie,km=Xi&&Xi.exports===to,Qi=km?Pm.Buffer:void 0,eo=Qi?Qi.allocUnsafe:void 0;function Lm(t,e){if(e)return t.slice();var r=t.length,n=eo?eo(r):new t.constructor(r);return t.copy(n),n}Ie.exports=Lm});var Mr=h((mS,no)=>{var Im=he(),Dm=Im.Uint8Array;no.exports=Dm});var oo=h((bS,io)=>{var so=Mr();function jm(t){var e=new t.constructor(t.byteLength);return new so(e).set(new so(t)),e}io.exports=jm});var co=h((vS,ao)=>{var Bm=oo();function $m(t,e){var r=e?Bm(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}ao.exports=$m});var lo=h((xS,uo)=>{function Rm(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}uo.exports=Rm});var po=h((yS,fo)=>{var Um=me(),ho=Object.create,Vm=function(){function t(){}return function(e){if(!Um(e))return{};if(ho)return ho(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}();fo.exports=Vm});var Fr=h((wS,go)=>{function zm(t,e){return function(r){return t(e(r))}}go.exports=zm});var Pr=h((OS,mo)=>{var Km=Fr(),Hm=Km(Object.getPrototypeOf,Object);mo.exports=Hm});var Lt=h((ES,bo)=>{var Gm=Object.prototype;function Wm(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||Gm;return t===r}bo.exports=Wm});var xo=h((AS,vo)=>{var Zm=po(),Jm=Pr(),Ym=Lt();function Xm(t){return typeof t.constructor=="function"&&!Ym(t)?Zm(Jm(t)):{}}vo.exports=Xm});var Se=h((SS,yo)=>{var Qm=Tt(),e0=Ft();function t0(t){return t!=null&&e0(t.length)&&!Qm(t)}yo.exports=t0});var Oo=h((_S,wo)=>{var r0=Se(),n0=xe();function s0(t){return n0(t)&&r0(t)}wo.exports=s0});var Ao=h((TS,Eo)=>{function i0(){return!1}Eo.exports=i0});var It=h((tt,De)=>{var o0=he(),a0=Ao(),To=typeof tt=="object"&&tt&&!tt.nodeType&&tt,So=To&&typeof De=="object"&&De&&!De.nodeType&&De,c0=So&&So.exports===To,_o=c0?o0.Buffer:void 0,u0=_o?_o.isBuffer:void 0,l0=u0||a0;De.exports=l0});var No=h((CS,qo)=>{var h0=Ee(),f0=Pr(),d0=xe(),p0="[object Object]",g0=Function.prototype,m0=Object.prototype,Co=g0.toString,b0=m0.hasOwnProperty,v0=Co.call(Object);function x0(t){if(!d0(t)||h0(t)!=p0)return!1;var e=f0(t);if(e===null)return!0;var r=b0.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&Co.call(r)==v0}qo.exports=x0});var Fo=h((qS,Mo)=>{var y0=Ee(),w0=Ft(),O0=xe(),E0="[object Arguments]",A0="[object Array]",S0="[object Boolean]",_0="[object Date]",T0="[object Error]",C0="[object Function]",q0="[object Map]",N0="[object Number]",M0="[object Object]",F0="[object RegExp]",P0="[object Set]",k0="[object String]",L0="[object WeakMap]",I0="[object ArrayBuffer]",D0="[object DataView]",j0="[object Float32Array]",B0="[object Float64Array]",$0="[object Int8Array]",R0="[object Int16Array]",U0="[object Int32Array]",V0="[object Uint8Array]",z0="[object Uint8ClampedArray]",K0="[object Uint16Array]",H0="[object Uint32Array]",j={};j[j0]=j[B0]=j[$0]=j[R0]=j[U0]=j[V0]=j[z0]=j[K0]=j[H0]=!0;j[E0]=j[A0]=j[I0]=j[S0]=j[D0]=j[_0]=j[T0]=j[C0]=j[q0]=j[N0]=j[M0]=j[F0]=j[P0]=j[k0]=j[L0]=!1;function G0(t){return O0(t)&&w0(t.length)&&!!j[y0(t)]}Mo.exports=G0});var kr=h((NS,Po)=>{function W0(t){return function(e){return t(e)}}Po.exports=W0});var Lo=h((rt,je)=>{var Z0=yr(),ko=typeof rt=="object"&&rt&&!rt.nodeType&&rt,nt=ko&&typeof je=="object"&&je&&!je.nodeType&&je,J0=nt&&nt.exports===ko,Lr=J0&&Z0.process,Y0=function(){try{var t=nt&&nt.require&&nt.require("util").types;return t||Lr&&Lr.binding&&Lr.binding("util")}catch{}}();je.exports=Y0});var Dt=h((MS,jo)=>{var X0=Fo(),Q0=kr(),Io=Lo(),Do=Io&&Io.isTypedArray,eb=Do?Q0(Do):X0;jo.exports=eb});var Ir=h((FS,Bo)=>{function tb(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}Bo.exports=tb});var Dr=h((PS,$o)=>{var rb=kt(),nb=Fe(),sb=Object.prototype,ib=sb.hasOwnProperty;function ob(t,e,r){var n=t[e];(!(ib.call(t,e)&&nb(n,r))||r===void 0&&!(e in t))&&rb(t,e,r)}$o.exports=ob});var Uo=h((kS,Ro)=>{var ab=Dr(),cb=kt();function ub(t,e,r,n){var s=!r;r||(r={});for(var i=-1,c=e.length;++i<c;){var l=e[i],p=n?n(r[l],t[l],l,r,t):void 0;p===void 0&&(p=t[l]),s?cb(r,l,p):ab(r,l,p)}return r}Ro.exports=ub});var zo=h((LS,Vo)=>{function lb(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}Vo.exports=lb});var jr=h((IS,Ko)=>{var hb=zo(),fb=Qe(),db=se(),pb=It(),gb=Mt(),mb=Dt(),bb=Object.prototype,vb=bb.hasOwnProperty;function xb(t,e){var r=db(t),n=!r&&fb(t),s=!r&&!n&&pb(t),i=!r&&!n&&!s&&mb(t),c=r||n||s||i,l=c?hb(t.length,String):[],p=l.length;for(var w in t)(e||vb.call(t,w))&&!(c&&(w=="length"||s&&(w=="offset"||w=="parent")||i&&(w=="buffer"||w=="byteLength"||w=="byteOffset")||gb(w,p)))&&l.push(w);return l}Ko.exports=xb});var Go=h((DS,Ho)=>{function yb(t){var e=[];if(t!=null)for(var r in Object(t))e.push(r);return e}Ho.exports=yb});var Zo=h((jS,Wo)=>{var wb=me(),Ob=Lt(),Eb=Go(),Ab=Object.prototype,Sb=Ab.hasOwnProperty;function _b(t){if(!wb(t))return Eb(t);var e=Ob(t),r=[];for(var n in t)n=="constructor"&&(e||!Sb.call(t,n))||r.push(n);return r}Wo.exports=_b});var Br=h((BS,Jo)=>{var Tb=jr(),Cb=Zo(),qb=Se();function Nb(t){return qb(t)?Tb(t,!0):Cb(t)}Jo.exports=Nb});var Xo=h(($S,Yo)=>{var Mb=Uo(),Fb=Br();function Pb(t){return Mb(t,Fb(t))}Yo.exports=Pb});var sa=h((RS,na)=>{var Qo=qr(),kb=ro(),Lb=co(),Ib=lo(),Db=xo(),ea=Qe(),ta=se(),jb=Oo(),Bb=It(),$b=Tt(),Rb=me(),Ub=No(),Vb=Dt(),ra=Ir(),zb=Xo();function Kb(t,e,r,n,s,i,c){var l=ra(t,r),p=ra(e,r),w=c.get(p);if(w){Qo(t,r,w);return}var O=i?i(l,p,r+"",t,e,c):void 0,A=O===void 0;if(A){var _=ta(p),N=!_&&Bb(p),C=!_&&!N&&Vb(p);O=p,_||N||C?ta(l)?O=l:jb(l)?O=Ib(l):N?(A=!1,O=kb(p,!0)):C?(A=!1,O=Lb(p,!0)):O=[]:Ub(p)||ea(p)?(O=l,ea(l)?O=zb(l):(!Rb(l)||$b(l))&&(O=Db(p))):A=!1}A&&(c.set(p,O),s(O,p,n,i,c),c.delete(p)),Qo(t,r,O)}na.exports=Kb});var aa=h((US,oa)=>{var Hb=Pt(),Gb=qr(),Wb=Nr(),Zb=sa(),Jb=me(),Yb=Br(),Xb=Ir();function ia(t,e,r,n,s){t!==e&&Wb(e,function(i,c){if(s||(s=new Hb),Jb(i))Zb(t,e,c,r,ia,n,s);else{var l=n?n(Xb(t,c),i,c+"",t,e,s):void 0;l===void 0&&(l=i),Gb(t,c,l)}},Yb)}oa.exports=ia});var st=h((VS,ca)=>{function Qb(t){return t}ca.exports=Qb});var la=h((zS,ua)=>{function ev(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}ua.exports=ev});var da=h((KS,fa)=>{var tv=la(),ha=Math.max;function rv(t,e,r){return e=ha(e===void 0?t.length-1:e,0),function(){for(var n=arguments,s=-1,i=ha(n.length-e,0),c=Array(i);++s<i;)c[s]=n[e+s];s=-1;for(var l=Array(e+1);++s<e;)l[s]=n[s];return l[e]=r(c),tv(t,this,l)}}fa.exports=rv});var ga=h((HS,pa)=>{function nv(t){return function(){return t}}pa.exports=nv});var va=h((GS,ba)=>{var sv=ga(),ma=Cr(),iv=st(),ov=ma?function(t,e){return ma(t,"toString",{configurable:!0,enumerable:!1,value:sv(e),writable:!0})}:iv;ba.exports=ov});var ya=h((WS,xa)=>{var av=800,cv=16,uv=Date.now;function lv(t){var e=0,r=0;return function(){var n=uv(),s=cv-(n-r);if(r=n,s>0){if(++e>=av)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}xa.exports=lv});var Oa=h((ZS,wa)=>{var hv=va(),fv=ya(),dv=fv(hv);wa.exports=dv});var $r=h((JS,Ea)=>{var pv=st(),gv=da(),mv=Oa();function bv(t,e){return mv(gv(t,e,pv),t+"")}Ea.exports=bv});var it=h((YS,Aa)=>{var vv=Fe(),xv=Se(),yv=Mt(),wv=me();function Ov(t,e,r){if(!wv(r))return!1;var n=typeof e;return(n=="number"?xv(r)&&yv(e,r.length):n=="string"&&e in r)?vv(r[e],t):!1}Aa.exports=Ov});var _a=h((XS,Sa)=>{var Ev=$r(),Av=it();function Sv(t){return Ev(function(e,r){var n=-1,s=r.length,i=s>1?r[s-1]:void 0,c=s>2?r[2]:void 0;for(i=t.length>3&&typeof i=="function"?(s--,i):void 0,c&&Av(r[0],r[1],c)&&(i=s<3?void 0:i,s=1),e=Object(e);++n<s;){var l=r[n];l&&t(e,l,n,i)}return e})}Sa.exports=Sv});var Ca=h((QS,Ta)=>{var _v=aa(),Tv=_a(),Cv=Tv(function(t,e,r){_v(t,e,r)});Ta.exports=Cv});var Na=h((e_,qa)=>{var qv="__lodash_hash_undefined__";function Nv(t){return this.__data__.set(t,qv),this}qa.exports=Nv});var Fa=h((t_,Ma)=>{function Mv(t){return this.__data__.has(t)}Ma.exports=Mv});var Rr=h((r_,Pa)=>{var Fv=qt(),Pv=Na(),kv=Fa();function jt(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new Fv;++e<r;)this.add(t[e])}jt.prototype.add=jt.prototype.push=Pv;jt.prototype.has=kv;Pa.exports=jt});var La=h((n_,ka)=>{function Lv(t,e,r,n){for(var s=t.length,i=r+(n?1:-1);n?i--:++i<s;)if(e(t[i],i,t))return i;return-1}ka.exports=Lv});var Da=h((s_,Ia)=>{function Iv(t){return t!==t}Ia.exports=Iv});var Ba=h((i_,ja)=>{function Dv(t,e,r){for(var n=r-1,s=t.length;++n<s;)if(t[n]===e)return n;return-1}ja.exports=Dv});var Ra=h((o_,$a)=>{var jv=La(),Bv=Da(),$v=Ba();function Rv(t,e,r){return e===e?$v(t,e,r):jv(t,Bv,r)}$a.exports=Rv});var Va=h((a_,Ua)=>{var Uv=Ra();function Vv(t,e){var r=t==null?0:t.length;return!!r&&Uv(t,e,0)>-1}Ua.exports=Vv});var Ka=h((c_,za)=>{function zv(t,e,r){for(var n=-1,s=t==null?0:t.length;++n<s;)if(r(e,t[n]))return!0;return!1}za.exports=zv});var Ur=h((u_,Ha)=>{function Kv(t,e){return t.has(e)}Ha.exports=Kv});var Vr=h((l_,Ga)=>{var Hv=ye(),Gv=he(),Wv=Hv(Gv,"Set");Ga.exports=Wv});var Za=h((h_,Wa)=>{function Zv(){}Wa.exports=Zv});var Bt=h((f_,Ja)=>{function Jv(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}Ja.exports=Jv});var Xa=h((d_,Ya)=>{var zr=Vr(),Yv=Za(),Xv=Bt(),Qv=1/0,e1=zr&&1/Xv(new zr([,-0]))[1]==Qv?function(t){return new zr(t)}:Yv;Ya.exports=e1});var ec=h((p_,Qa)=>{var t1=Rr(),r1=Va(),n1=Ka(),s1=Ur(),i1=Xa(),o1=Bt(),a1=200;function c1(t,e,r){var n=-1,s=r1,i=t.length,c=!0,l=[],p=l;if(r)c=!1,s=n1;else if(i>=a1){var w=e?null:i1(t);if(w)return o1(w);c=!1,s=s1,p=new t1}else p=e?[]:l;e:for(;++n<i;){var O=t[n],A=e?e(O):O;if(O=r||O!==0?O:0,c&&A===A){for(var _=p.length;_--;)if(p[_]===A)continue e;e&&p.push(A),l.push(O)}else s(p,A,r)||(p!==l&&p.push(A),l.push(O))}return l}Qa.exports=c1});var rc=h((g_,tc)=>{var u1=ec();function l1(t){return t&&t.length?u1(t):[]}tc.exports=l1});var ac=h((y_,oc)=>{function d1(t,e,r){var n=-1,s=t.length;e<0&&(e=-e>s?0:s+e),r=r>s?s:r,r<0&&(r+=s),s=e>r?0:r-e>>>0,e>>>=0;for(var i=Array(s);++n<s;)i[n]=t[n+e];return i}oc.exports=d1});var uc=h((w_,cc)=>{var p1=ac();function g1(t,e,r){var n=t.length;return r=r===void 0?n:r,!e&&r>=n?t:p1(t,e,r)}cc.exports=g1});var Kr=h((O_,lc)=>{var m1="\\ud800-\\udfff",b1="\\u0300-\\u036f",v1="\\ufe20-\\ufe2f",x1="\\u20d0-\\u20ff",y1=b1+v1+x1,w1="\\ufe0e\\ufe0f",O1="\\u200d",E1=RegExp("["+O1+m1+y1+w1+"]");function A1(t){return E1.test(t)}lc.exports=A1});var fc=h((E_,hc)=>{function S1(t){return t.split("")}hc.exports=S1});var yc=h((A_,xc)=>{var dc="\\ud800-\\udfff",_1="\\u0300-\\u036f",T1="\\ufe20-\\ufe2f",C1="\\u20d0-\\u20ff",q1=_1+T1+C1,N1="\\ufe0e\\ufe0f",M1="["+dc+"]",Hr="["+q1+"]",Gr="\\ud83c[\\udffb-\\udfff]",F1="(?:"+Hr+"|"+Gr+")",pc="[^"+dc+"]",gc="(?:\\ud83c[\\udde6-\\uddff]){2}",mc="[\\ud800-\\udbff][\\udc00-\\udfff]",P1="\\u200d",bc=F1+"?",vc="["+N1+"]?",k1="(?:"+P1+"(?:"+[pc,gc,mc].join("|")+")"+vc+bc+")*",L1=vc+bc+k1,I1="(?:"+[pc+Hr+"?",Hr,gc,mc,M1].join("|")+")",D1=RegExp(Gr+"(?="+Gr+")|"+I1+L1,"g");function j1(t){return t.match(D1)||[]}xc.exports=j1});var Oc=h((S_,wc)=>{var B1=fc(),$1=Kr(),R1=yc();function U1(t){return $1(t)?R1(t):B1(t)}wc.exports=U1});var Ac=h((__,Ec)=>{var V1=uc(),z1=Kr(),K1=Oc(),H1=Ae();function G1(t){return function(e){e=H1(e);var r=z1(e)?K1(e):void 0,n=r?r[0]:e.charAt(0),s=r?V1(r,1).join(""):e.slice(1);return n[t]()+s}}Ec.exports=G1});var _c=h((T_,Sc)=>{var W1=Ac(),Z1=W1("toUpperCase");Sc.exports=Z1});var Cc=h((C_,Tc)=>{var J1=Ae(),Y1=_c();function X1(t){return Y1(J1(t).toLowerCase())}Tc.exports=X1});var Nc=h((q_,qc)=>{function Q1(t,e,r,n){var s=-1,i=t==null?0:t.length;for(n&&i&&(r=t[++s]);++s<i;)r=e(r,t[s],s,t);return r}qc.exports=Q1});var Fc=h((N_,Mc)=>{function ex(t){return function(e){return t?.[e]}}Mc.exports=ex});var kc=h((M_,Pc)=>{var tx=Fc(),rx={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},nx=tx(rx);Pc.exports=nx});var Ic=h((F_,Lc)=>{var sx=kc(),ix=Ae(),ox=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ax="\\u0300-\\u036f",cx="\\ufe20-\\ufe2f",ux="\\u20d0-\\u20ff",lx=ax+cx+ux,hx="["+lx+"]",fx=RegExp(hx,"g");function dx(t){return t=ix(t),t&&t.replace(ox,sx).replace(fx,"")}Lc.exports=dx});var jc=h((P_,Dc)=>{var px=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function gx(t){return t.match(px)||[]}Dc.exports=gx});var $c=h((k_,Bc)=>{var mx=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function bx(t){return mx.test(t)}Bc.exports=bx});var iu=h((L_,su)=>{var Kc="\\ud800-\\udfff",vx="\\u0300-\\u036f",xx="\\ufe20-\\ufe2f",yx="\\u20d0-\\u20ff",wx=vx+xx+yx,Hc="\\u2700-\\u27bf",Gc="a-z\\xdf-\\xf6\\xf8-\\xff",Ox="\\xac\\xb1\\xd7\\xf7",Ex="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Ax="\\u2000-\\u206f",Sx=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Wc="A-Z\\xc0-\\xd6\\xd8-\\xde",_x="\\ufe0e\\ufe0f",Zc=Ox+Ex+Ax+Sx,Jc="['\u2019]",Rc="["+Zc+"]",Tx="["+wx+"]",Yc="\\d+",Cx="["+Hc+"]",Xc="["+Gc+"]",Qc="[^"+Kc+Zc+Yc+Hc+Gc+Wc+"]",qx="\\ud83c[\\udffb-\\udfff]",Nx="(?:"+Tx+"|"+qx+")",Mx="[^"+Kc+"]",eu="(?:\\ud83c[\\udde6-\\uddff]){2}",tu="[\\ud800-\\udbff][\\udc00-\\udfff]",Be="["+Wc+"]",Fx="\\u200d",Uc="(?:"+Xc+"|"+Qc+")",Px="(?:"+Be+"|"+Qc+")",Vc="(?:"+Jc+"(?:d|ll|m|re|s|t|ve))?",zc="(?:"+Jc+"(?:D|LL|M|RE|S|T|VE))?",ru=Nx+"?",nu="["+_x+"]?",kx="(?:"+Fx+"(?:"+[Mx,eu,tu].join("|")+")"+nu+ru+")*",Lx="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Ix="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Dx=nu+ru+kx,jx="(?:"+[Cx,eu,tu].join("|")+")"+Dx,Bx=RegExp([Be+"?"+Xc+"+"+Vc+"(?="+[Rc,Be,"$"].join("|")+")",Px+"+"+zc+"(?="+[Rc,Be+Uc,"$"].join("|")+")",Be+"?"+Uc+"+"+Vc,Be+"+"+zc,Ix,Lx,Yc,jx].join("|"),"g");function $x(t){return t.match(Bx)||[]}su.exports=$x});var au=h((I_,ou)=>{var Rx=jc(),Ux=$c(),Vx=Ae(),zx=iu();function Kx(t,e,r){return t=Vx(t),e=r?void 0:e,e===void 0?Ux(t)?zx(t):Rx(t):t.match(e)||[]}ou.exports=Kx});var uu=h((D_,cu)=>{var Hx=Nc(),Gx=Ic(),Wx=au(),Zx="['\u2019]",Jx=RegExp(Zx,"g");function Yx(t){return function(e){return Hx(Wx(Gx(e).replace(Jx,"")),t,"")}}cu.exports=Yx});var hu=h((j_,lu)=>{var Xx=Cc(),Qx=uu(),ey=Qx(function(t,e,r){return e=e.toLowerCase(),t+(r?Xx(e):e)});lu.exports=ey});var mu=h((H_,gu)=>{var ry=9007199254740991,ny=Math.floor;function sy(t,e){var r="";if(!t||e<1||e>ry)return r;do e%2&&(r+=t),e=ny(e/2),e&&(t+=t);while(e);return r}gu.exports=sy});var vu=h((G_,bu)=>{var iy=/\s/;function oy(t){for(var e=t.length;e--&&iy.test(t.charAt(e)););return e}bu.exports=oy});var yu=h((W_,xu)=>{var ay=vu(),cy=/^\s+/;function uy(t){return t&&t.slice(0,ay(t)+1).replace(cy,"")}xu.exports=uy});var Au=h((Z_,Eu)=>{var ly=yu(),wu=me(),hy=Ne(),Ou=NaN,fy=/^[-+]0x[0-9a-f]+$/i,dy=/^0b[01]+$/i,py=/^0o[0-7]+$/i,gy=parseInt;function my(t){if(typeof t=="number")return t;if(hy(t))return Ou;if(wu(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=wu(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=ly(t);var r=dy.test(t);return r||py.test(t)?gy(t.slice(2),r?2:8):fy.test(t)?Ou:+t}Eu.exports=my});var Xr=h((J_,_u)=>{var by=Au(),Su=1/0,vy=17976931348623157e292;function xy(t){if(!t)return t===0?t:0;if(t=by(t),t===Su||t===-Su){var e=t<0?-1:1;return e*vy}return t===t?t:0}_u.exports=xy});var Cu=h((Y_,Tu)=>{var yy=Xr();function wy(t){var e=yy(t),r=e%1;return e===e?r?e-r:e:0}Tu.exports=wy});var Nu=h((X_,qu)=>{var Oy=mu(),Ey=it(),Ay=Cu(),Sy=Ae();function _y(t,e,r){return(r?Ey(t,e,r):e===void 0)?e=1:e=Ay(e),Oy(Sy(t),e)}qu.exports=_y});var en=h((gT,Fu)=>{function My(t,e){for(var r=-1,n=e.length,s=t.length;++r<n;)t[s+r]=e[r];return t}Fu.exports=My});var Iu=h((mT,Lu)=>{var Pu=qe(),Fy=Qe(),Py=se(),ku=Pu?Pu.isConcatSpreadable:void 0;function ky(t){return Py(t)||Fy(t)||!!(ku&&t&&t[ku])}Lu.exports=ky});var Bu=h((bT,ju)=>{var Ly=en(),Iy=Iu();function Du(t,e,r,n,s){var i=-1,c=t.length;for(r||(r=Iy),s||(s=[]);++i<c;){var l=t[i];e>0&&r(l)?e>1?Du(l,e-1,r,n,s):Ly(s,l):n||(s[s.length]=l)}return s}ju.exports=Du});var Ru=h((vT,$u)=>{function Dy(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}$u.exports=Dy});var tn=h((xT,Uu)=>{var jy=Rr(),By=Ru(),$y=Ur(),Ry=1,Uy=2;function Vy(t,e,r,n,s,i){var c=r&Ry,l=t.length,p=e.length;if(l!=p&&!(c&&p>l))return!1;var w=i.get(t),O=i.get(e);if(w&&O)return w==e&&O==t;var A=-1,_=!0,N=r&Uy?new jy:void 0;for(i.set(t,e),i.set(e,t);++A<l;){var C=t[A],L=e[A];if(n)var k=c?n(L,C,A,e,t,i):n(C,L,A,t,e,i);if(k!==void 0){if(k)continue;_=!1;break}if(N){if(!By(e,function(B,S){if(!$y(N,S)&&(C===B||s(C,B,r,n,i)))return N.push(S)})){_=!1;break}}else if(!(C===L||s(C,L,r,n,i))){_=!1;break}}return i.delete(t),i.delete(e),_}Uu.exports=Vy});var zu=h((yT,Vu)=>{function zy(t){var e=-1,r=Array(t.size);return t.forEach(function(n,s){r[++e]=[s,n]}),r}Vu.exports=zy});var Zu=h((wT,Wu)=>{var Ku=qe(),Hu=Mr(),Ky=Fe(),Hy=tn(),Gy=zu(),Wy=Bt(),Zy=1,Jy=2,Yy="[object Boolean]",Xy="[object Date]",Qy="[object Error]",ew="[object Map]",tw="[object Number]",rw="[object RegExp]",nw="[object Set]",sw="[object String]",iw="[object Symbol]",ow="[object ArrayBuffer]",aw="[object DataView]",Gu=Ku?Ku.prototype:void 0,rn=Gu?Gu.valueOf:void 0;function cw(t,e,r,n,s,i,c){switch(r){case aw:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case ow:return!(t.byteLength!=e.byteLength||!i(new Hu(t),new Hu(e)));case Yy:case Xy:case tw:return Ky(+t,+e);case Qy:return t.name==e.name&&t.message==e.message;case rw:case sw:return t==e+"";case ew:var l=Gy;case nw:var p=n&Zy;if(l||(l=Wy),t.size!=e.size&&!p)return!1;var w=c.get(t);if(w)return w==e;n|=Jy,c.set(t,e);var O=Hy(l(t),l(e),n,s,i,c);return c.delete(t),O;case iw:if(rn)return rn.call(t)==rn.call(e)}return!1}Wu.exports=cw});var Yu=h((OT,Ju)=>{var uw=en(),lw=se();function hw(t,e,r){var n=e(t);return lw(t)?n:uw(n,r(t))}Ju.exports=hw});var Qu=h((ET,Xu)=>{function fw(t,e){for(var r=-1,n=t==null?0:t.length,s=0,i=[];++r<n;){var c=t[r];e(c,r,t)&&(i[s++]=c)}return i}Xu.exports=fw});var tl=h((AT,el)=>{function dw(){return[]}el.exports=dw});var sl=h((ST,nl)=>{var pw=Qu(),gw=tl(),mw=Object.prototype,bw=mw.propertyIsEnumerable,rl=Object.getOwnPropertySymbols,vw=rl?function(t){return t==null?[]:(t=Object(t),pw(rl(t),function(e){return bw.call(t,e)}))}:gw;nl.exports=vw});var ol=h((_T,il)=>{var xw=Fr(),yw=xw(Object.keys,Object);il.exports=yw});var cl=h((TT,al)=>{var ww=Lt(),Ow=ol(),Ew=Object.prototype,Aw=Ew.hasOwnProperty;function Sw(t){if(!ww(t))return Ow(t);var e=[];for(var r in Object(t))Aw.call(t,r)&&r!="constructor"&&e.push(r);return e}al.exports=Sw});var Vt=h((CT,ul)=>{var _w=jr(),Tw=cl(),Cw=Se();function qw(t){return Cw(t)?_w(t):Tw(t)}ul.exports=qw});var hl=h((qT,ll)=>{var Nw=Yu(),Mw=sl(),Fw=Vt();function Pw(t){return Nw(t,Fw,Mw)}ll.exports=Pw});var pl=h((NT,dl)=>{var fl=hl(),kw=1,Lw=Object.prototype,Iw=Lw.hasOwnProperty;function Dw(t,e,r,n,s,i){var c=r&kw,l=fl(t),p=l.length,w=fl(e),O=w.length;if(p!=O&&!c)return!1;for(var A=p;A--;){var _=l[A];if(!(c?_ in e:Iw.call(e,_)))return!1}var N=i.get(t),C=i.get(e);if(N&&C)return N==e&&C==t;var L=!0;i.set(t,e),i.set(e,t);for(var k=c;++A<p;){_=l[A];var B=t[_],S=e[_];if(n)var Q=c?n(S,B,_,e,t,i):n(B,S,_,t,e,i);if(!(Q===void 0?B===S||s(B,S,r,n,i):Q)){L=!1;break}k||(k=_=="constructor")}if(L&&!k){var J=t.constructor,H=e.constructor;J!=H&&"constructor"in t&&"constructor"in e&&!(typeof J=="function"&&J instanceof J&&typeof H=="function"&&H instanceof H)&&(L=!1)}return i.delete(t),i.delete(e),L}dl.exports=Dw});var ml=h((MT,gl)=>{var jw=ye(),Bw=he(),$w=jw(Bw,"DataView");gl.exports=$w});var vl=h((FT,bl)=>{var Rw=ye(),Uw=he(),Vw=Rw(Uw,"Promise");bl.exports=Vw});var yl=h((PT,xl)=>{var zw=ye(),Kw=he(),Hw=zw(Kw,"WeakMap");xl.exports=Hw});var Cl=h((kT,Tl)=>{var nn=ml(),sn=Ct(),on=vl(),an=Vr(),cn=yl(),_l=Ee(),$e=Or(),wl="[object Map]",Gw="[object Object]",Ol="[object Promise]",El="[object Set]",Al="[object WeakMap]",Sl="[object DataView]",Ww=$e(nn),Zw=$e(sn),Jw=$e(on),Yw=$e(an),Xw=$e(cn),Ce=_l;(nn&&Ce(new nn(new ArrayBuffer(1)))!=Sl||sn&&Ce(new sn)!=wl||on&&Ce(on.resolve())!=Ol||an&&Ce(new an)!=El||cn&&Ce(new cn)!=Al)&&(Ce=function(t){var e=_l(t),r=e==Gw?t.constructor:void 0,n=r?$e(r):"";if(n)switch(n){case Ww:return Sl;case Zw:return wl;case Jw:return Ol;case Yw:return El;case Xw:return Al}return e});Tl.exports=Ce});var Il=h((LT,Ll)=>{var un=Pt(),Qw=tn(),eO=Zu(),tO=pl(),ql=Cl(),Nl=se(),Ml=It(),rO=Dt(),nO=1,Fl="[object Arguments]",Pl="[object Array]",zt="[object Object]",sO=Object.prototype,kl=sO.hasOwnProperty;function iO(t,e,r,n,s,i){var c=Nl(t),l=Nl(e),p=c?Pl:ql(t),w=l?Pl:ql(e);p=p==Fl?zt:p,w=w==Fl?zt:w;var O=p==zt,A=w==zt,_=p==w;if(_&&Ml(t)){if(!Ml(e))return!1;c=!0,O=!1}if(_&&!O)return i||(i=new un),c||rO(t)?Qw(t,e,r,n,s,i):eO(t,e,p,r,n,s,i);if(!(r&nO)){var N=O&&kl.call(t,"__wrapped__"),C=A&&kl.call(e,"__wrapped__");if(N||C){var L=N?t.value():t,k=C?e.value():e;return i||(i=new un),s(L,k,r,n,i)}}return _?(i||(i=new un),tO(t,e,r,n,s,i)):!1}Ll.exports=iO});var ln=h((IT,Bl)=>{var oO=Il(),Dl=xe();function jl(t,e,r,n,s){return t===e?!0:t==null||e==null||!Dl(t)&&!Dl(e)?t!==t&&e!==e:oO(t,e,r,n,jl,s)}Bl.exports=jl});var Rl=h((DT,$l)=>{var aO=Pt(),cO=ln(),uO=1,lO=2;function hO(t,e,r,n){var s=r.length,i=s,c=!n;if(t==null)return!i;for(t=Object(t);s--;){var l=r[s];if(c&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}for(;++s<i;){l=r[s];var p=l[0],w=t[p],O=l[1];if(c&&l[2]){if(w===void 0&&!(p in t))return!1}else{var A=new aO;if(n)var _=n(w,O,p,t,e,A);if(!(_===void 0?cO(O,w,uO|lO,n,A):_))return!1}}return!0}$l.exports=hO});var hn=h((jT,Ul)=>{var fO=me();function dO(t){return t===t&&!fO(t)}Ul.exports=dO});var zl=h((BT,Vl)=>{var pO=hn(),gO=Vt();function mO(t){for(var e=gO(t),r=e.length;r--;){var n=e[r],s=t[n];e[r]=[n,s,pO(s)]}return e}Vl.exports=mO});var fn=h(($T,Kl)=>{function bO(t,e){return function(r){return r==null?!1:r[t]===e&&(e!==void 0||t in Object(r))}}Kl.exports=bO});var Gl=h((RT,Hl)=>{var vO=Rl(),xO=zl(),yO=fn();function wO(t){var e=xO(t);return e.length==1&&e[0][2]?yO(e[0][0],e[0][1]):function(r){return r===t||vO(r,t,e)}}Hl.exports=wO});var Zl=h((UT,Wl)=>{function OO(t,e){return t!=null&&e in Object(t)}Wl.exports=OO});var Yl=h((VT,Jl)=>{var EO=Zl(),AO=Tr();function SO(t,e){return t!=null&&AO(t,e,EO)}Jl.exports=SO});var Ql=h((zT,Xl)=>{var _O=ln(),TO=_r(),CO=Yl(),qO=_t(),NO=hn(),MO=fn(),FO=Xe(),PO=1,kO=2;function LO(t,e){return qO(t)&&NO(e)?MO(FO(t),e):function(r){var n=TO(r,t);return n===void 0&&n===e?CO(r,t):_O(e,n,PO|kO)}}Xl.exports=LO});var th=h((KT,eh)=>{function IO(t){return function(e){return e?.[t]}}eh.exports=IO});var nh=h((HT,rh)=>{var DO=Nt();function jO(t){return function(e){return DO(e,t)}}rh.exports=jO});var ih=h((GT,sh)=>{var BO=th(),$O=nh(),RO=_t(),UO=Xe();function VO(t){return RO(t)?BO(UO(t)):$O(t)}sh.exports=VO});var ah=h((WT,oh)=>{var zO=Gl(),KO=Ql(),HO=st(),GO=se(),WO=ih();function ZO(t){return typeof t=="function"?t:t==null?HO:typeof t=="object"?GO(t)?KO(t[0],t[1]):zO(t):WO(t)}oh.exports=ZO});var uh=h((ZT,ch)=>{var JO=Nr(),YO=Vt();function XO(t,e){return t&&JO(t,e,YO)}ch.exports=XO});var hh=h((JT,lh)=>{var QO=Se();function eE(t,e){return function(r,n){if(r==null)return r;if(!QO(r))return t(r,n);for(var s=r.length,i=e?s:-1,c=Object(r);(e?i--:++i<s)&&n(c[i],i,c)!==!1;);return r}}lh.exports=eE});var dh=h((YT,fh)=>{var tE=uh(),rE=hh(),nE=rE(tE);fh.exports=nE});var gh=h((XT,ph)=>{var sE=dh(),iE=Se();function oE(t,e){var r=-1,n=iE(t)?Array(t.length):[];return sE(t,function(s,i,c){n[++r]=e(s,i,c)}),n}ph.exports=oE});var bh=h((QT,mh)=>{function aE(t,e){var r=t.length;for(t.sort(e);r--;)t[r]=t[r].value;return t}mh.exports=aE});var yh=h((eC,xh)=>{var vh=Ne();function cE(t,e){if(t!==e){var r=t!==void 0,n=t===null,s=t===t,i=vh(t),c=e!==void 0,l=e===null,p=e===e,w=vh(e);if(!l&&!w&&!i&&t>e||i&&c&&p&&!l&&!w||n&&c&&p||!r&&p||!s)return 1;if(!n&&!i&&!w&&t<e||w&&r&&s&&!n&&!i||l&&r&&s||!c&&s||!p)return-1}return 0}xh.exports=cE});var Oh=h((tC,wh)=>{var uE=yh();function lE(t,e,r){for(var n=-1,s=t.criteria,i=e.criteria,c=s.length,l=r.length;++n<c;){var p=uE(s[n],i[n]);if(p){if(n>=l)return p;var w=r[n];return p*(w=="desc"?-1:1)}}return t.index-e.index}wh.exports=lE});var Ah=h((rC,Eh)=>{var dn=Ar(),hE=Nt(),fE=ah(),dE=gh(),pE=bh(),gE=kr(),mE=Oh(),bE=st(),vE=se();function xE(t,e,r){e.length?e=dn(e,function(i){return vE(i)?function(c){return hE(c,i.length===1?i[0]:i)}:i}):e=[bE];var n=-1;e=dn(e,gE(fE));var s=dE(t,function(i,c,l){var p=dn(e,function(w){return w(i)});return{criteria:p,index:++n,value:i}});return pE(s,function(i,c){return mE(i,c,r)})}Eh.exports=xE});var Th=h((nC,_h)=>{var yE=Bu(),wE=Ah(),OE=$r(),Sh=it(),EE=OE(function(t,e){if(t==null)return[];var r=e.length;return r>1&&Sh(t,e[0],e[1])?e=[]:r>2&&Sh(e[0],e[1],e[2])&&(e=[e[0]]),wE(t,yE(e,1),[])});_h.exports=EE});var qh=h((sC,Ch)=>{function AE(t,e,r){for(var n=-1,s=t.length,i=e.length,c={};++n<s;){var l=n<i?e[n]:void 0;r(c,t[n],l)}return c}Ch.exports=AE});var Mh=h((iC,Nh)=>{var SE=Dr(),_E=qh();function TE(t,e){return _E(t||[],e||[],SE)}Nh.exports=TE});var Ih=h((wC,Lh)=>{var NE=Math.ceil,ME=Math.max;function FE(t,e,r,n){for(var s=-1,i=ME(NE((e-t)/(r||1)),0),c=Array(i);i--;)c[n?i:++s]=t,t+=r;return c}Lh.exports=FE});var jh=h((OC,Dh)=>{var PE=Ih(),kE=it(),vn=Xr();function LE(t){return function(e,r,n){return n&&typeof n!="number"&&kE(e,r,n)&&(r=n=void 0),e=vn(e),r===void 0?(r=e,e=0):r=vn(r),n=n===void 0?e<r?1:-1:vn(n),PE(e,r,n,t)}}Dh.exports=LE});var $h=h((EC,Bh)=>{var IE=jh(),DE=IE();Bh.exports=DE});var Jh=h((En,An)=>{(function(t,e){typeof define=="function"&&define.amd?define([],e):typeof En<"u"?e():(e(),t.FileSaver={})})(En,function(){"use strict";function t(l,p){return typeof p>"u"?p={autoBom:!1}:typeof p!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),p={autoBom:!p}),p.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(l.type)?new Blob(["\uFEFF",l],{type:l.type}):l}function e(l,p,w){var O=new XMLHttpRequest;O.open("GET",l),O.responseType="blob",O.onload=function(){c(O.response,p,w)},O.onerror=function(){console.error("could not download file")},O.send()}function r(l){var p=new XMLHttpRequest;p.open("HEAD",l,!1);try{p.send()}catch{}return 200<=p.status&&299>=p.status}function n(l){try{l.dispatchEvent(new MouseEvent("click"))}catch{var p=document.createEvent("MouseEvents");p.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),l.dispatchEvent(p)}}var s=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof global=="object"&&global.global===global?global:void 0,i=s.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),c=s.saveAs||(typeof window!="object"||window!==s?function(){}:"download"in HTMLAnchorElement.prototype&&!i?function(l,p,w){var O=s.URL||s.webkitURL,A=document.createElement("a");p=p||l.name||"download",A.download=p,A.rel="noopener",typeof l=="string"?(A.href=l,A.origin===location.origin?n(A):r(A.href)?e(l,p,w):n(A,A.target="_blank")):(A.href=O.createObjectURL(l),setTimeout(function(){O.revokeObjectURL(A.href)},4e4),setTimeout(function(){n(A)},0))}:"msSaveOrOpenBlob"in navigator?function(l,p,w){if(p=p||l.name||"download",typeof l!="string")navigator.msSaveOrOpenBlob(t(l,w),p);else if(r(l))e(l,p,w);else{var O=document.createElement("a");O.href=l,O.target="_blank",setTimeout(function(){n(O)})}}:function(l,p,w,O){if(O=O||open("","_blank"),O&&(O.document.title=O.document.body.innerText="downloading..."),typeof l=="string")return e(l,p,w);var A=l.type==="application/octet-stream",_=/constructor/i.test(s.HTMLElement)||s.safari,N=/CriOS\/[\d]+/.test(navigator.userAgent);if((N||A&&_||i)&&typeof FileReader<"u"){var C=new FileReader;C.onloadend=function(){var B=C.result;B=N?B:B.replace(/^data:[^;]*;/,"data:attachment/file;"),O?O.location.href=B:location=B,O=null},C.readAsDataURL(l)}else{var L=s.URL||s.webkitURL,k=L.createObjectURL(l);O?O.location=k:location.href=k,O=null,setTimeout(function(){L.revokeObjectURL(k)},4e4)}});s.saveAs=c.saveAs=c,typeof An<"u"&&(An.exports=c)})});var Jt=class{constructor(e,r,n){this.eventTarget=e,this.eventName=r,this.eventOptions=n,this.unorderedBindings=new Set}connect(){this.eventTarget.addEventListener(this.eventName,this,this.eventOptions)}disconnect(){this.eventTarget.removeEventListener(this.eventName,this,this.eventOptions)}bindingConnected(e){this.unorderedBindings.add(e)}bindingDisconnected(e){this.unorderedBindings.delete(e)}handleEvent(e){let r=af(e);for(let n of this.bindings){if(r.immediatePropagationStopped)break;n.handleEvent(r)}}hasBindings(){return this.unorderedBindings.size>0}get bindings(){return Array.from(this.unorderedBindings).sort((e,r)=>{let n=e.index,s=r.index;return n<s?-1:n>s?1:0})}};function af(t){if("immediatePropagationStopped"in t)return t;{let{stopImmediatePropagation:e}=t;return Object.assign(t,{immediatePropagationStopped:!1,stopImmediatePropagation(){this.immediatePropagationStopped=!0,e.call(this)}})}}var Yt=class{constructor(e){this.application=e,this.eventListenerMaps=new Map,this.started=!1}start(){this.started||(this.started=!0,this.eventListeners.forEach(e=>e.connect()))}stop(){this.started&&(this.started=!1,this.eventListeners.forEach(e=>e.disconnect()))}get eventListeners(){return Array.from(this.eventListenerMaps.values()).reduce((e,r)=>e.concat(Array.from(r.values())),[])}bindingConnected(e){this.fetchEventListenerForBinding(e).bindingConnected(e)}bindingDisconnected(e,r=!1){this.fetchEventListenerForBinding(e).bindingDisconnected(e),r&&this.clearEventListenersForBinding(e)}handleError(e,r,n={}){this.application.handleError(e,`Error ${r}`,n)}clearEventListenersForBinding(e){let r=this.fetchEventListenerForBinding(e);r.hasBindings()||(r.disconnect(),this.removeMappedEventListenerFor(e))}removeMappedEventListenerFor(e){let{eventTarget:r,eventName:n,eventOptions:s}=e,i=this.fetchEventListenerMapForEventTarget(r),c=this.cacheKey(n,s);i.delete(c),i.size==0&&this.eventListenerMaps.delete(r)}fetchEventListenerForBinding(e){let{eventTarget:r,eventName:n,eventOptions:s}=e;return this.fetchEventListener(r,n,s)}fetchEventListener(e,r,n){let s=this.fetchEventListenerMapForEventTarget(e),i=this.cacheKey(r,n),c=s.get(i);return c||(c=this.createEventListener(e,r,n),s.set(i,c)),c}createEventListener(e,r,n){let s=new Jt(e,r,n);return this.started&&s.connect(),s}fetchEventListenerMapForEventTarget(e){let r=this.eventListenerMaps.get(e);return r||(r=new Map,this.eventListenerMaps.set(e,r)),r}cacheKey(e,r){let n=[e];return Object.keys(r).sort().forEach(s=>{n.push(`${r[s]?"":"!"}${s}`)}),n.join(":")}},cf={stop({event:t,value:e}){return e&&t.stopPropagation(),!0},prevent({event:t,value:e}){return e&&t.preventDefault(),!0},self({event:t,value:e,element:r}){return e?r===t.target:!0}},uf=/^(?:(?:([^.]+?)\+)?(.+?)(?:\.(.+?))?(?:@(window|document))?->)?(.+?)(?:#([^:]+?))(?::(.+))?$/;function lf(t){let r=t.trim().match(uf)||[],n=r[2],s=r[3];return s&&!["keydown","keyup","keypress"].includes(n)&&(n+=`.${s}`,s=""),{eventTarget:hf(r[4]),eventName:n,eventOptions:r[7]?ff(r[7]):{},identifier:r[5],methodName:r[6],keyFilter:r[1]||s}}function hf(t){if(t=="window")return window;if(t=="document")return document}function ff(t){return t.split(":").reduce((e,r)=>Object.assign(e,{[r.replace(/^!/,"")]:!/^!/.test(r)}),{})}function df(t){if(t==window)return"window";if(t==document)return"document"}function xr(t){return t.replace(/(?:[_-])([a-z0-9])/g,(e,r)=>r.toUpperCase())}function Xt(t){return xr(t.replace(/--/g,"-").replace(/__/g,"_"))}function Ke(t){return t.charAt(0).toUpperCase()+t.slice(1)}function Ln(t){return t.replace(/([A-Z])/g,(e,r)=>`-${r.toLowerCase()}`)}function pf(t){return t.match(/[^\s]+/g)||[]}function _n(t){return t!=null}function Qt(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var Tn=["meta","ctrl","alt","shift"],er=class{constructor(e,r,n,s){this.element=e,this.index=r,this.eventTarget=n.eventTarget||e,this.eventName=n.eventName||gf(e)||xt("missing event name"),this.eventOptions=n.eventOptions||{},this.identifier=n.identifier||xt("missing identifier"),this.methodName=n.methodName||xt("missing method name"),this.keyFilter=n.keyFilter||"",this.schema=s}static forToken(e,r){return new this(e.element,e.index,lf(e.content),r)}toString(){let e=this.keyFilter?`.${this.keyFilter}`:"",r=this.eventTargetName?`@${this.eventTargetName}`:"";return`${this.eventName}${e}${r}->${this.identifier}#${this.methodName}`}shouldIgnoreKeyboardEvent(e){if(!this.keyFilter)return!1;let r=this.keyFilter.split("+");if(this.keyFilterDissatisfied(e,r))return!0;let n=r.filter(s=>!Tn.includes(s))[0];return n?(Qt(this.keyMappings,n)||xt(`contains unknown key filter: ${this.keyFilter}`),this.keyMappings[n].toLowerCase()!==e.key.toLowerCase()):!1}shouldIgnoreMouseEvent(e){if(!this.keyFilter)return!1;let r=[this.keyFilter];return!!this.keyFilterDissatisfied(e,r)}get params(){let e={},r=new RegExp(`^data-${this.identifier}-(.+)-param$`,"i");for(let{name:n,value:s}of Array.from(this.element.attributes)){let i=n.match(r),c=i&&i[1];c&&(e[xr(c)]=mf(s))}return e}get eventTargetName(){return df(this.eventTarget)}get keyMappings(){return this.schema.keyMappings}keyFilterDissatisfied(e,r){let[n,s,i,c]=Tn.map(l=>r.includes(l));return e.metaKey!==n||e.ctrlKey!==s||e.altKey!==i||e.shiftKey!==c}},Cn={a:()=>"click",button:()=>"click",form:()=>"submit",details:()=>"toggle",input:t=>t.getAttribute("type")=="submit"?"click":"input",select:()=>"change",textarea:()=>"input"};function gf(t){let e=t.tagName.toLowerCase();if(e in Cn)return Cn[e](t)}function xt(t){throw new Error(t)}function mf(t){try{return JSON.parse(t)}catch{return t}}var tr=class{constructor(e,r){this.context=e,this.action=r}get index(){return this.action.index}get eventTarget(){return this.action.eventTarget}get eventOptions(){return this.action.eventOptions}get identifier(){return this.context.identifier}handleEvent(e){let r=this.prepareActionEvent(e);this.willBeInvokedByEvent(e)&&this.applyEventModifiers(r)&&this.invokeWithEvent(r)}get eventName(){return this.action.eventName}get method(){let e=this.controller[this.methodName];if(typeof e=="function")return e;throw new Error(`Action "${this.action}" references undefined method "${this.methodName}"`)}applyEventModifiers(e){let{element:r}=this.action,{actionDescriptorFilters:n}=this.context.application,{controller:s}=this.context,i=!0;for(let[c,l]of Object.entries(this.eventOptions))if(c in n){let p=n[c];i=i&&p({name:c,value:l,event:e,element:r,controller:s})}else continue;return i}prepareActionEvent(e){return Object.assign(e,{params:this.action.params})}invokeWithEvent(e){let{target:r,currentTarget:n}=e;try{this.method.call(this.controller,e),this.context.logDebugActivity(this.methodName,{event:e,target:r,currentTarget:n,action:this.methodName})}catch(s){let{identifier:i,controller:c,element:l,index:p}=this,w={identifier:i,controller:c,element:l,index:p,event:e};this.context.handleError(s,`invoking action "${this.action}"`,w)}}willBeInvokedByEvent(e){let r=e.target;return e instanceof KeyboardEvent&&this.action.shouldIgnoreKeyboardEvent(e)||e instanceof MouseEvent&&this.action.shouldIgnoreMouseEvent(e)?!1:this.element===r?!0:r instanceof Element&&this.element.contains(r)?this.scope.containsElement(r):this.scope.containsElement(this.action.element)}get controller(){return this.context.controller}get methodName(){return this.action.methodName}get element(){return this.scope.element}get scope(){return this.context.scope}},yt=class{constructor(e,r){this.mutationObserverInit={attributes:!0,childList:!0,subtree:!0},this.element=e,this.started=!1,this.delegate=r,this.elements=new Set,this.mutationObserver=new MutationObserver(n=>this.processMutations(n))}start(){this.started||(this.started=!0,this.mutationObserver.observe(this.element,this.mutationObserverInit),this.refresh())}pause(e){this.started&&(this.mutationObserver.disconnect(),this.started=!1),e(),this.started||(this.mutationObserver.observe(this.element,this.mutationObserverInit),this.started=!0)}stop(){this.started&&(this.mutationObserver.takeRecords(),this.mutationObserver.disconnect(),this.started=!1)}refresh(){if(this.started){let e=new Set(this.matchElementsInTree());for(let r of Array.from(this.elements))e.has(r)||this.removeElement(r);for(let r of Array.from(e))this.addElement(r)}}processMutations(e){if(this.started)for(let r of e)this.processMutation(r)}processMutation(e){e.type=="attributes"?this.processAttributeChange(e.target,e.attributeName):e.type=="childList"&&(this.processRemovedNodes(e.removedNodes),this.processAddedNodes(e.addedNodes))}processAttributeChange(e,r){this.elements.has(e)?this.delegate.elementAttributeChanged&&this.matchElement(e)?this.delegate.elementAttributeChanged(e,r):this.removeElement(e):this.matchElement(e)&&this.addElement(e)}processRemovedNodes(e){for(let r of Array.from(e)){let n=this.elementFromNode(r);n&&this.processTree(n,this.removeElement)}}processAddedNodes(e){for(let r of Array.from(e)){let n=this.elementFromNode(r);n&&this.elementIsActive(n)&&this.processTree(n,this.addElement)}}matchElement(e){return this.delegate.matchElement(e)}matchElementsInTree(e=this.element){return this.delegate.matchElementsInTree(e)}processTree(e,r){for(let n of this.matchElementsInTree(e))r.call(this,n)}elementFromNode(e){if(e.nodeType==Node.ELEMENT_NODE)return e}elementIsActive(e){return e.isConnected!=this.element.isConnected?!1:this.element.contains(e)}addElement(e){this.elements.has(e)||this.elementIsActive(e)&&(this.elements.add(e),this.delegate.elementMatched&&this.delegate.elementMatched(e))}removeElement(e){this.elements.has(e)&&(this.elements.delete(e),this.delegate.elementUnmatched&&this.delegate.elementUnmatched(e))}},wt=class{constructor(e,r,n){this.attributeName=r,this.delegate=n,this.elementObserver=new yt(e,this)}get element(){return this.elementObserver.element}get selector(){return`[${this.attributeName}]`}start(){this.elementObserver.start()}pause(e){this.elementObserver.pause(e)}stop(){this.elementObserver.stop()}refresh(){this.elementObserver.refresh()}get started(){return this.elementObserver.started}matchElement(e){return e.hasAttribute(this.attributeName)}matchElementsInTree(e){let r=this.matchElement(e)?[e]:[],n=Array.from(e.querySelectorAll(this.selector));return r.concat(n)}elementMatched(e){this.delegate.elementMatchedAttribute&&this.delegate.elementMatchedAttribute(e,this.attributeName)}elementUnmatched(e){this.delegate.elementUnmatchedAttribute&&this.delegate.elementUnmatchedAttribute(e,this.attributeName)}elementAttributeChanged(e,r){this.delegate.elementAttributeValueChanged&&this.attributeName==r&&this.delegate.elementAttributeValueChanged(e,r)}};function bf(t,e,r){In(t,e).add(r)}function vf(t,e,r){In(t,e).delete(r),xf(t,e)}function In(t,e){let r=t.get(e);return r||(r=new Set,t.set(e,r)),r}function xf(t,e){let r=t.get(e);r!=null&&r.size==0&&t.delete(e)}var be=class{constructor(){this.valuesByKey=new Map}get keys(){return Array.from(this.valuesByKey.keys())}get values(){return Array.from(this.valuesByKey.values()).reduce((r,n)=>r.concat(Array.from(n)),[])}get size(){return Array.from(this.valuesByKey.values()).reduce((r,n)=>r+n.size,0)}add(e,r){bf(this.valuesByKey,e,r)}delete(e,r){vf(this.valuesByKey,e,r)}has(e,r){let n=this.valuesByKey.get(e);return n!=null&&n.has(r)}hasKey(e){return this.valuesByKey.has(e)}hasValue(e){return Array.from(this.valuesByKey.values()).some(n=>n.has(e))}getValuesForKey(e){let r=this.valuesByKey.get(e);return r?Array.from(r):[]}getKeysForValue(e){return Array.from(this.valuesByKey).filter(([r,n])=>n.has(e)).map(([r,n])=>r)}};var rr=class{constructor(e,r,n,s){this._selector=r,this.details=s,this.elementObserver=new yt(e,this),this.delegate=n,this.matchesByElement=new be}get started(){return this.elementObserver.started}get selector(){return this._selector}set selector(e){this._selector=e,this.refresh()}start(){this.elementObserver.start()}pause(e){this.elementObserver.pause(e)}stop(){this.elementObserver.stop()}refresh(){this.elementObserver.refresh()}get element(){return this.elementObserver.element}matchElement(e){let{selector:r}=this;if(r){let n=e.matches(r);return this.delegate.selectorMatchElement?n&&this.delegate.selectorMatchElement(e,this.details):n}else return!1}matchElementsInTree(e){let{selector:r}=this;if(r){let n=this.matchElement(e)?[e]:[],s=Array.from(e.querySelectorAll(r)).filter(i=>this.matchElement(i));return n.concat(s)}else return[]}elementMatched(e){let{selector:r}=this;r&&this.selectorMatched(e,r)}elementUnmatched(e){let r=this.matchesByElement.getKeysForValue(e);for(let n of r)this.selectorUnmatched(e,n)}elementAttributeChanged(e,r){let{selector:n}=this;if(n){let s=this.matchElement(e),i=this.matchesByElement.has(n,e);s&&!i?this.selectorMatched(e,n):!s&&i&&this.selectorUnmatched(e,n)}}selectorMatched(e,r){this.delegate.selectorMatched(e,r,this.details),this.matchesByElement.add(r,e)}selectorUnmatched(e,r){this.delegate.selectorUnmatched(e,r,this.details),this.matchesByElement.delete(r,e)}},nr=class{constructor(e,r){this.element=e,this.delegate=r,this.started=!1,this.stringMap=new Map,this.mutationObserver=new MutationObserver(n=>this.processMutations(n))}start(){this.started||(this.started=!0,this.mutationObserver.observe(this.element,{attributes:!0,attributeOldValue:!0}),this.refresh())}stop(){this.started&&(this.mutationObserver.takeRecords(),this.mutationObserver.disconnect(),this.started=!1)}refresh(){if(this.started)for(let e of this.knownAttributeNames)this.refreshAttribute(e,null)}processMutations(e){if(this.started)for(let r of e)this.processMutation(r)}processMutation(e){let r=e.attributeName;r&&this.refreshAttribute(r,e.oldValue)}refreshAttribute(e,r){let n=this.delegate.getStringMapKeyForAttribute(e);if(n!=null){this.stringMap.has(e)||this.stringMapKeyAdded(n,e);let s=this.element.getAttribute(e);if(this.stringMap.get(e)!=s&&this.stringMapValueChanged(s,n,r),s==null){let i=this.stringMap.get(e);this.stringMap.delete(e),i&&this.stringMapKeyRemoved(n,e,i)}else this.stringMap.set(e,s)}}stringMapKeyAdded(e,r){this.delegate.stringMapKeyAdded&&this.delegate.stringMapKeyAdded(e,r)}stringMapValueChanged(e,r,n){this.delegate.stringMapValueChanged&&this.delegate.stringMapValueChanged(e,r,n)}stringMapKeyRemoved(e,r,n){this.delegate.stringMapKeyRemoved&&this.delegate.stringMapKeyRemoved(e,r,n)}get knownAttributeNames(){return Array.from(new Set(this.currentAttributeNames.concat(this.recordedAttributeNames)))}get currentAttributeNames(){return Array.from(this.element.attributes).map(e=>e.name)}get recordedAttributeNames(){return Array.from(this.stringMap.keys())}},Ot=class{constructor(e,r,n){this.attributeObserver=new wt(e,r,this),this.delegate=n,this.tokensByElement=new be}get started(){return this.attributeObserver.started}start(){this.attributeObserver.start()}pause(e){this.attributeObserver.pause(e)}stop(){this.attributeObserver.stop()}refresh(){this.attributeObserver.refresh()}get element(){return this.attributeObserver.element}get attributeName(){return this.attributeObserver.attributeName}elementMatchedAttribute(e){this.tokensMatched(this.readTokensForElement(e))}elementAttributeValueChanged(e){let[r,n]=this.refreshTokensForElement(e);this.tokensUnmatched(r),this.tokensMatched(n)}elementUnmatchedAttribute(e){this.tokensUnmatched(this.tokensByElement.getValuesForKey(e))}tokensMatched(e){e.forEach(r=>this.tokenMatched(r))}tokensUnmatched(e){e.forEach(r=>this.tokenUnmatched(r))}tokenMatched(e){this.delegate.tokenMatched(e),this.tokensByElement.add(e.element,e)}tokenUnmatched(e){this.delegate.tokenUnmatched(e),this.tokensByElement.delete(e.element,e)}refreshTokensForElement(e){let r=this.tokensByElement.getValuesForKey(e),n=this.readTokensForElement(e),s=wf(r,n).findIndex(([i,c])=>!Of(i,c));return s==-1?[[],[]]:[r.slice(s),n.slice(s)]}readTokensForElement(e){let r=this.attributeName,n=e.getAttribute(r)||"";return yf(n,e,r)}};function yf(t,e,r){return t.trim().split(/\s+/).filter(n=>n.length).map((n,s)=>({element:e,attributeName:r,content:n,index:s}))}function wf(t,e){let r=Math.max(t.length,e.length);return Array.from({length:r},(n,s)=>[t[s],e[s]])}function Of(t,e){return t&&e&&t.index==e.index&&t.content==e.content}var Et=class{constructor(e,r,n){this.tokenListObserver=new Ot(e,r,this),this.delegate=n,this.parseResultsByToken=new WeakMap,this.valuesByTokenByElement=new WeakMap}get started(){return this.tokenListObserver.started}start(){this.tokenListObserver.start()}stop(){this.tokenListObserver.stop()}refresh(){this.tokenListObserver.refresh()}get element(){return this.tokenListObserver.element}get attributeName(){return this.tokenListObserver.attributeName}tokenMatched(e){let{element:r}=e,{value:n}=this.fetchParseResultForToken(e);n&&(this.fetchValuesByTokenForElement(r).set(e,n),this.delegate.elementMatchedValue(r,n))}tokenUnmatched(e){let{element:r}=e,{value:n}=this.fetchParseResultForToken(e);n&&(this.fetchValuesByTokenForElement(r).delete(e),this.delegate.elementUnmatchedValue(r,n))}fetchParseResultForToken(e){let r=this.parseResultsByToken.get(e);return r||(r=this.parseToken(e),this.parseResultsByToken.set(e,r)),r}fetchValuesByTokenForElement(e){let r=this.valuesByTokenByElement.get(e);return r||(r=new Map,this.valuesByTokenByElement.set(e,r)),r}parseToken(e){try{return{value:this.delegate.parseValueForToken(e)}}catch(r){return{error:r}}}},sr=class{constructor(e,r){this.context=e,this.delegate=r,this.bindingsByAction=new Map}start(){this.valueListObserver||(this.valueListObserver=new Et(this.element,this.actionAttribute,this),this.valueListObserver.start())}stop(){this.valueListObserver&&(this.valueListObserver.stop(),delete this.valueListObserver,this.disconnectAllActions())}get element(){return this.context.element}get identifier(){return this.context.identifier}get actionAttribute(){return this.schema.actionAttribute}get schema(){return this.context.schema}get bindings(){return Array.from(this.bindingsByAction.values())}connectAction(e){let r=new tr(this.context,e);this.bindingsByAction.set(e,r),this.delegate.bindingConnected(r)}disconnectAction(e){let r=this.bindingsByAction.get(e);r&&(this.bindingsByAction.delete(e),this.delegate.bindingDisconnected(r))}disconnectAllActions(){this.bindings.forEach(e=>this.delegate.bindingDisconnected(e,!0)),this.bindingsByAction.clear()}parseValueForToken(e){let r=er.forToken(e,this.schema);if(r.identifier==this.identifier)return r}elementMatchedValue(e,r){this.connectAction(r)}elementUnmatchedValue(e,r){this.disconnectAction(r)}},ir=class{constructor(e,r){this.context=e,this.receiver=r,this.stringMapObserver=new nr(this.element,this),this.valueDescriptorMap=this.controller.valueDescriptorMap}start(){this.stringMapObserver.start(),this.invokeChangedCallbacksForDefaultValues()}stop(){this.stringMapObserver.stop()}get element(){return this.context.element}get controller(){return this.context.controller}getStringMapKeyForAttribute(e){if(e in this.valueDescriptorMap)return this.valueDescriptorMap[e].name}stringMapKeyAdded(e,r){let n=this.valueDescriptorMap[r];this.hasValue(e)||this.invokeChangedCallback(e,n.writer(this.receiver[e]),n.writer(n.defaultValue))}stringMapValueChanged(e,r,n){let s=this.valueDescriptorNameMap[r];e!==null&&(n===null&&(n=s.writer(s.defaultValue)),this.invokeChangedCallback(r,e,n))}stringMapKeyRemoved(e,r,n){let s=this.valueDescriptorNameMap[e];this.hasValue(e)?this.invokeChangedCallback(e,s.writer(this.receiver[e]),n):this.invokeChangedCallback(e,s.writer(s.defaultValue),n)}invokeChangedCallbacksForDefaultValues(){for(let{key:e,name:r,defaultValue:n,writer:s}of this.valueDescriptors)n!=null&&!this.controller.data.has(e)&&this.invokeChangedCallback(r,s(n),void 0)}invokeChangedCallback(e,r,n){let s=`${e}Changed`,i=this.receiver[s];if(typeof i=="function"){let c=this.valueDescriptorNameMap[e];try{let l=c.reader(r),p=n;n&&(p=c.reader(n)),i.call(this.receiver,l,p)}catch(l){throw l instanceof TypeError&&(l.message=`Stimulus Value "${this.context.identifier}.${c.name}" - ${l.message}`),l}}}get valueDescriptors(){let{valueDescriptorMap:e}=this;return Object.keys(e).map(r=>e[r])}get valueDescriptorNameMap(){let e={};return Object.keys(this.valueDescriptorMap).forEach(r=>{let n=this.valueDescriptorMap[r];e[n.name]=n}),e}hasValue(e){let r=this.valueDescriptorNameMap[e],n=`has${Ke(r.name)}`;return this.receiver[n]}},or=class{constructor(e,r){this.context=e,this.delegate=r,this.targetsByName=new be}start(){this.tokenListObserver||(this.tokenListObserver=new Ot(this.element,this.attributeName,this),this.tokenListObserver.start())}stop(){this.tokenListObserver&&(this.disconnectAllTargets(),this.tokenListObserver.stop(),delete this.tokenListObserver)}tokenMatched({element:e,content:r}){this.scope.containsElement(e)&&this.connectTarget(e,r)}tokenUnmatched({element:e,content:r}){this.disconnectTarget(e,r)}connectTarget(e,r){var n;this.targetsByName.has(r,e)||(this.targetsByName.add(r,e),(n=this.tokenListObserver)===null||n===void 0||n.pause(()=>this.delegate.targetConnected(e,r)))}disconnectTarget(e,r){var n;this.targetsByName.has(r,e)&&(this.targetsByName.delete(r,e),(n=this.tokenListObserver)===null||n===void 0||n.pause(()=>this.delegate.targetDisconnected(e,r)))}disconnectAllTargets(){for(let e of this.targetsByName.keys)for(let r of this.targetsByName.getValuesForKey(e))this.disconnectTarget(r,e)}get attributeName(){return`data-${this.context.identifier}-target`}get element(){return this.context.element}get scope(){return this.context.scope}};function He(t,e){let r=Dn(t);return Array.from(r.reduce((n,s)=>(Af(s,e).forEach(i=>n.add(i)),n),new Set))}function Ef(t,e){return Dn(t).reduce((n,s)=>(n.push(...Sf(s,e)),n),[])}function Dn(t){let e=[];for(;t;)e.push(t),t=Object.getPrototypeOf(t);return e.reverse()}function Af(t,e){let r=t[e];return Array.isArray(r)?r:[]}function Sf(t,e){let r=t[e];return r?Object.keys(r).map(n=>[n,r[n]]):[]}var ar=class{constructor(e,r){this.started=!1,this.context=e,this.delegate=r,this.outletsByName=new be,this.outletElementsByName=new be,this.selectorObserverMap=new Map,this.attributeObserverMap=new Map}start(){this.started||(this.outletDefinitions.forEach(e=>{this.setupSelectorObserverForOutlet(e),this.setupAttributeObserverForOutlet(e)}),this.started=!0,this.dependentContexts.forEach(e=>e.refresh()))}refresh(){this.selectorObserverMap.forEach(e=>e.refresh()),this.attributeObserverMap.forEach(e=>e.refresh())}stop(){this.started&&(this.started=!1,this.disconnectAllOutlets(),this.stopSelectorObservers(),this.stopAttributeObservers())}stopSelectorObservers(){this.selectorObserverMap.size>0&&(this.selectorObserverMap.forEach(e=>e.stop()),this.selectorObserverMap.clear())}stopAttributeObservers(){this.attributeObserverMap.size>0&&(this.attributeObserverMap.forEach(e=>e.stop()),this.attributeObserverMap.clear())}selectorMatched(e,r,{outletName:n}){let s=this.getOutlet(e,n);s&&this.connectOutlet(s,e,n)}selectorUnmatched(e,r,{outletName:n}){let s=this.getOutletFromMap(e,n);s&&this.disconnectOutlet(s,e,n)}selectorMatchElement(e,{outletName:r}){let n=this.selector(r),s=this.hasOutlet(e,r),i=e.matches(`[${this.schema.controllerAttribute}~=${r}]`);return n?s&&i&&e.matches(n):!1}elementMatchedAttribute(e,r){let n=this.getOutletNameFromOutletAttributeName(r);n&&this.updateSelectorObserverForOutlet(n)}elementAttributeValueChanged(e,r){let n=this.getOutletNameFromOutletAttributeName(r);n&&this.updateSelectorObserverForOutlet(n)}elementUnmatchedAttribute(e,r){let n=this.getOutletNameFromOutletAttributeName(r);n&&this.updateSelectorObserverForOutlet(n)}connectOutlet(e,r,n){var s;this.outletElementsByName.has(n,r)||(this.outletsByName.add(n,e),this.outletElementsByName.add(n,r),(s=this.selectorObserverMap.get(n))===null||s===void 0||s.pause(()=>this.delegate.outletConnected(e,r,n)))}disconnectOutlet(e,r,n){var s;this.outletElementsByName.has(n,r)&&(this.outletsByName.delete(n,e),this.outletElementsByName.delete(n,r),(s=this.selectorObserverMap.get(n))===null||s===void 0||s.pause(()=>this.delegate.outletDisconnected(e,r,n)))}disconnectAllOutlets(){for(let e of this.outletElementsByName.keys)for(let r of this.outletElementsByName.getValuesForKey(e))for(let n of this.outletsByName.getValuesForKey(e))this.disconnectOutlet(n,r,e)}updateSelectorObserverForOutlet(e){let r=this.selectorObserverMap.get(e);r&&(r.selector=this.selector(e))}setupSelectorObserverForOutlet(e){let r=this.selector(e),n=new rr(document.body,r,this,{outletName:e});this.selectorObserverMap.set(e,n),n.start()}setupAttributeObserverForOutlet(e){let r=this.attributeNameForOutletName(e),n=new wt(this.scope.element,r,this);this.attributeObserverMap.set(e,n),n.start()}selector(e){return this.scope.outlets.getSelectorForOutletName(e)}attributeNameForOutletName(e){return this.scope.schema.outletAttributeForScope(this.identifier,e)}getOutletNameFromOutletAttributeName(e){return this.outletDefinitions.find(r=>this.attributeNameForOutletName(r)===e)}get outletDependencies(){let e=new be;return this.router.modules.forEach(r=>{let n=r.definition.controllerConstructor;He(n,"outlets").forEach(i=>e.add(i,r.identifier))}),e}get outletDefinitions(){return this.outletDependencies.getKeysForValue(this.identifier)}get dependentControllerIdentifiers(){return this.outletDependencies.getValuesForKey(this.identifier)}get dependentContexts(){let e=this.dependentControllerIdentifiers;return this.router.contexts.filter(r=>e.includes(r.identifier))}hasOutlet(e,r){return!!this.getOutlet(e,r)||!!this.getOutletFromMap(e,r)}getOutlet(e,r){return this.application.getControllerForElementAndIdentifier(e,r)}getOutletFromMap(e,r){return this.outletsByName.getValuesForKey(r).find(n=>n.element===e)}get scope(){return this.context.scope}get schema(){return this.context.schema}get identifier(){return this.context.identifier}get application(){return this.context.application}get router(){return this.application.router}},cr=class{constructor(e,r){this.logDebugActivity=(n,s={})=>{let{identifier:i,controller:c,element:l}=this;s=Object.assign({identifier:i,controller:c,element:l},s),this.application.logDebugActivity(this.identifier,n,s)},this.module=e,this.scope=r,this.controller=new e.controllerConstructor(this),this.bindingObserver=new sr(this,this.dispatcher),this.valueObserver=new ir(this,this.controller),this.targetObserver=new or(this,this),this.outletObserver=new ar(this,this);try{this.controller.initialize(),this.logDebugActivity("initialize")}catch(n){this.handleError(n,"initializing controller")}}connect(){this.bindingObserver.start(),this.valueObserver.start(),this.targetObserver.start(),this.outletObserver.start();try{this.controller.connect(),this.logDebugActivity("connect")}catch(e){this.handleError(e,"connecting controller")}}refresh(){this.outletObserver.refresh()}disconnect(){try{this.controller.disconnect(),this.logDebugActivity("disconnect")}catch(e){this.handleError(e,"disconnecting controller")}this.outletObserver.stop(),this.targetObserver.stop(),this.valueObserver.stop(),this.bindingObserver.stop()}get application(){return this.module.application}get identifier(){return this.module.identifier}get schema(){return this.application.schema}get dispatcher(){return this.application.dispatcher}get element(){return this.scope.element}get parentElement(){return this.element.parentElement}handleError(e,r,n={}){let{identifier:s,controller:i,element:c}=this;n=Object.assign({identifier:s,controller:i,element:c},n),this.application.handleError(e,`Error ${r}`,n)}targetConnected(e,r){this.invokeControllerMethod(`${r}TargetConnected`,e)}targetDisconnected(e,r){this.invokeControllerMethod(`${r}TargetDisconnected`,e)}outletConnected(e,r,n){this.invokeControllerMethod(`${Xt(n)}OutletConnected`,e,r)}outletDisconnected(e,r,n){this.invokeControllerMethod(`${Xt(n)}OutletDisconnected`,e,r)}invokeControllerMethod(e,...r){let n=this.controller;typeof n[e]=="function"&&n[e](...r)}};function _f(t){return Tf(t,Cf(t))}function Tf(t,e){let r=Ff(t),n=qf(t.prototype,e);return Object.defineProperties(r.prototype,n),r}function Cf(t){return He(t,"blessings").reduce((r,n)=>{let s=n(t);for(let i in s){let c=r[i]||{};r[i]=Object.assign(c,s[i])}return r},{})}function qf(t,e){return Mf(e).reduce((r,n)=>{let s=Nf(t,e,n);return s&&Object.assign(r,{[n]:s}),r},{})}function Nf(t,e,r){let n=Object.getOwnPropertyDescriptor(t,r);if(!(n&&"value"in n)){let i=Object.getOwnPropertyDescriptor(e,r).value;return n&&(i.get=n.get||i.get,i.set=n.set||i.set),i}}var Mf=typeof Object.getOwnPropertySymbols=="function"?t=>[...Object.getOwnPropertyNames(t),...Object.getOwnPropertySymbols(t)]:Object.getOwnPropertyNames,Ff=(()=>{function t(r){function n(){return Reflect.construct(r,arguments,new.target)}return n.prototype=Object.create(r.prototype,{constructor:{value:n}}),Reflect.setPrototypeOf(n,r),n}function e(){let n=t(function(){this.a.call(this)});return n.prototype.a=function(){},new n}try{return e(),t}catch{return n=>class extends n{}}})();function Pf(t){return{identifier:t.identifier,controllerConstructor:_f(t.controllerConstructor)}}var ur=class{constructor(e,r){this.application=e,this.definition=Pf(r),this.contextsByScope=new WeakMap,this.connectedContexts=new Set}get identifier(){return this.definition.identifier}get controllerConstructor(){return this.definition.controllerConstructor}get contexts(){return Array.from(this.connectedContexts)}connectContextForScope(e){let r=this.fetchContextForScope(e);this.connectedContexts.add(r),r.connect()}disconnectContextForScope(e){let r=this.contextsByScope.get(e);r&&(this.connectedContexts.delete(r),r.disconnect())}fetchContextForScope(e){let r=this.contextsByScope.get(e);return r||(r=new cr(this,e),this.contextsByScope.set(e,r)),r}},lr=class{constructor(e){this.scope=e}has(e){return this.data.has(this.getDataKey(e))}get(e){return this.getAll(e)[0]}getAll(e){let r=this.data.get(this.getDataKey(e))||"";return pf(r)}getAttributeName(e){return this.data.getAttributeNameForKey(this.getDataKey(e))}getDataKey(e){return`${e}-class`}get data(){return this.scope.data}},hr=class{constructor(e){this.scope=e}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get(e){let r=this.getAttributeNameForKey(e);return this.element.getAttribute(r)}set(e,r){let n=this.getAttributeNameForKey(e);return this.element.setAttribute(n,r),this.get(e)}has(e){let r=this.getAttributeNameForKey(e);return this.element.hasAttribute(r)}delete(e){if(this.has(e)){let r=this.getAttributeNameForKey(e);return this.element.removeAttribute(r),!0}else return!1}getAttributeNameForKey(e){return`data-${this.identifier}-${Ln(e)}`}},fr=class{constructor(e){this.warnedKeysByObject=new WeakMap,this.logger=e}warn(e,r,n){let s=this.warnedKeysByObject.get(e);s||(s=new Set,this.warnedKeysByObject.set(e,s)),s.has(r)||(s.add(r),this.logger.warn(n,e))}};function dr(t,e){return`[${t}~="${e}"]`}var pr=class{constructor(e){this.scope=e}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get schema(){return this.scope.schema}has(e){return this.find(e)!=null}find(...e){return e.reduce((r,n)=>r||this.findTarget(n)||this.findLegacyTarget(n),void 0)}findAll(...e){return e.reduce((r,n)=>[...r,...this.findAllTargets(n),...this.findAllLegacyTargets(n)],[])}findTarget(e){let r=this.getSelectorForTargetName(e);return this.scope.findElement(r)}findAllTargets(e){let r=this.getSelectorForTargetName(e);return this.scope.findAllElements(r)}getSelectorForTargetName(e){let r=this.schema.targetAttributeForScope(this.identifier);return dr(r,e)}findLegacyTarget(e){let r=this.getLegacySelectorForTargetName(e);return this.deprecate(this.scope.findElement(r),e)}findAllLegacyTargets(e){let r=this.getLegacySelectorForTargetName(e);return this.scope.findAllElements(r).map(n=>this.deprecate(n,e))}getLegacySelectorForTargetName(e){let r=`${this.identifier}.${e}`;return dr(this.schema.targetAttribute,r)}deprecate(e,r){if(e){let{identifier:n}=this,s=this.schema.targetAttribute,i=this.schema.targetAttributeForScope(n);this.guide.warn(e,`target:${r}`,`Please replace ${s}="${n}.${r}" with ${i}="${r}". The ${s} attribute is deprecated and will be removed in a future version of Stimulus.`)}return e}get guide(){return this.scope.guide}},gr=class{constructor(e,r){this.scope=e,this.controllerElement=r}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get schema(){return this.scope.schema}has(e){return this.find(e)!=null}find(...e){return e.reduce((r,n)=>r||this.findOutlet(n),void 0)}findAll(...e){return e.reduce((r,n)=>[...r,...this.findAllOutlets(n)],[])}getSelectorForOutletName(e){let r=this.schema.outletAttributeForScope(this.identifier,e);return this.controllerElement.getAttribute(r)}findOutlet(e){let r=this.getSelectorForOutletName(e);if(r)return this.findElement(r,e)}findAllOutlets(e){let r=this.getSelectorForOutletName(e);return r?this.findAllElements(r,e):[]}findElement(e,r){return this.scope.queryElements(e).filter(s=>this.matchesElement(s,e,r))[0]}findAllElements(e,r){return this.scope.queryElements(e).filter(s=>this.matchesElement(s,e,r))}matchesElement(e,r,n){let s=e.getAttribute(this.scope.schema.controllerAttribute)||"";return e.matches(r)&&s.split(" ").includes(n)}},mr=class t{constructor(e,r,n,s){this.targets=new pr(this),this.classes=new lr(this),this.data=new hr(this),this.containsElement=i=>i.closest(this.controllerSelector)===this.element,this.schema=e,this.element=r,this.identifier=n,this.guide=new fr(s),this.outlets=new gr(this.documentScope,r)}findElement(e){return this.element.matches(e)?this.element:this.queryElements(e).find(this.containsElement)}findAllElements(e){return[...this.element.matches(e)?[this.element]:[],...this.queryElements(e).filter(this.containsElement)]}queryElements(e){return Array.from(this.element.querySelectorAll(e))}get controllerSelector(){return dr(this.schema.controllerAttribute,this.identifier)}get isDocumentScope(){return this.element===document.documentElement}get documentScope(){return this.isDocumentScope?this:new t(this.schema,document.documentElement,this.identifier,this.guide.logger)}},br=class{constructor(e,r,n){this.element=e,this.schema=r,this.delegate=n,this.valueListObserver=new Et(this.element,this.controllerAttribute,this),this.scopesByIdentifierByElement=new WeakMap,this.scopeReferenceCounts=new WeakMap}start(){this.valueListObserver.start()}stop(){this.valueListObserver.stop()}get controllerAttribute(){return this.schema.controllerAttribute}parseValueForToken(e){let{element:r,content:n}=e;return this.parseValueForElementAndIdentifier(r,n)}parseValueForElementAndIdentifier(e,r){let n=this.fetchScopesByIdentifierForElement(e),s=n.get(r);return s||(s=this.delegate.createScopeForElementAndIdentifier(e,r),n.set(r,s)),s}elementMatchedValue(e,r){let n=(this.scopeReferenceCounts.get(r)||0)+1;this.scopeReferenceCounts.set(r,n),n==1&&this.delegate.scopeConnected(r)}elementUnmatchedValue(e,r){let n=this.scopeReferenceCounts.get(r);n&&(this.scopeReferenceCounts.set(r,n-1),n==1&&this.delegate.scopeDisconnected(r))}fetchScopesByIdentifierForElement(e){let r=this.scopesByIdentifierByElement.get(e);return r||(r=new Map,this.scopesByIdentifierByElement.set(e,r)),r}},vr=class{constructor(e){this.application=e,this.scopeObserver=new br(this.element,this.schema,this),this.scopesByIdentifier=new be,this.modulesByIdentifier=new Map}get element(){return this.application.element}get schema(){return this.application.schema}get logger(){return this.application.logger}get controllerAttribute(){return this.schema.controllerAttribute}get modules(){return Array.from(this.modulesByIdentifier.values())}get contexts(){return this.modules.reduce((e,r)=>e.concat(r.contexts),[])}start(){this.scopeObserver.start()}stop(){this.scopeObserver.stop()}loadDefinition(e){this.unloadIdentifier(e.identifier);let r=new ur(this.application,e);this.connectModule(r);let n=e.controllerConstructor.afterLoad;n&&n.call(e.controllerConstructor,e.identifier,this.application)}unloadIdentifier(e){let r=this.modulesByIdentifier.get(e);r&&this.disconnectModule(r)}getContextForElementAndIdentifier(e,r){let n=this.modulesByIdentifier.get(r);if(n)return n.contexts.find(s=>s.element==e)}proposeToConnectScopeForElementAndIdentifier(e,r){let n=this.scopeObserver.parseValueForElementAndIdentifier(e,r);n?this.scopeObserver.elementMatchedValue(n.element,n):console.error(`Couldn't find or create scope for identifier: "${r}" and element:`,e)}handleError(e,r,n){this.application.handleError(e,r,n)}createScopeForElementAndIdentifier(e,r){return new mr(this.schema,e,r,this.logger)}scopeConnected(e){this.scopesByIdentifier.add(e.identifier,e);let r=this.modulesByIdentifier.get(e.identifier);r&&r.connectContextForScope(e)}scopeDisconnected(e){this.scopesByIdentifier.delete(e.identifier,e);let r=this.modulesByIdentifier.get(e.identifier);r&&r.disconnectContextForScope(e)}connectModule(e){this.modulesByIdentifier.set(e.identifier,e),this.scopesByIdentifier.getValuesForKey(e.identifier).forEach(n=>e.connectContextForScope(n))}disconnectModule(e){this.modulesByIdentifier.delete(e.identifier),this.scopesByIdentifier.getValuesForKey(e.identifier).forEach(n=>e.disconnectContextForScope(n))}},kf={controllerAttribute:"data-controller",actionAttribute:"data-action",targetAttribute:"data-target",targetAttributeForScope:t=>`data-${t}-target`,outletAttributeForScope:(t,e)=>`data-${t}-${e}-outlet`,keyMappings:Object.assign(Object.assign({enter:"Enter",tab:"Tab",esc:"Escape",space:" ",up:"ArrowUp",down:"ArrowDown",left:"ArrowLeft",right:"ArrowRight",home:"Home",end:"End",page_up:"PageUp",page_down:"PageDown"},qn("abcdefghijklmnopqrstuvwxyz".split("").map(t=>[t,t]))),qn("0123456789".split("").map(t=>[t,t])))};function qn(t){return t.reduce((e,[r,n])=>Object.assign(Object.assign({},e),{[r]:n}),{})}var At=class{constructor(e=document.documentElement,r=kf){this.logger=console,this.debug=!1,this.logDebugActivity=(n,s,i={})=>{this.debug&&this.logFormattedMessage(n,s,i)},this.element=e,this.schema=r,this.dispatcher=new Yt(this),this.router=new vr(this),this.actionDescriptorFilters=Object.assign({},cf)}static start(e,r){let n=new this(e,r);return n.start(),n}async start(){await Lf(),this.logDebugActivity("application","starting"),this.dispatcher.start(),this.router.start(),this.logDebugActivity("application","start")}stop(){this.logDebugActivity("application","stopping"),this.dispatcher.stop(),this.router.stop(),this.logDebugActivity("application","stop")}register(e,r){this.load({identifier:e,controllerConstructor:r})}registerActionOption(e,r){this.actionDescriptorFilters[e]=r}load(e,...r){(Array.isArray(e)?e:[e,...r]).forEach(s=>{s.controllerConstructor.shouldLoad&&this.router.loadDefinition(s)})}unload(e,...r){(Array.isArray(e)?e:[e,...r]).forEach(s=>this.router.unloadIdentifier(s))}get controllers(){return this.router.contexts.map(e=>e.controller)}getControllerForElementAndIdentifier(e,r){let n=this.router.getContextForElementAndIdentifier(e,r);return n?n.controller:null}handleError(e,r,n){var s;this.logger.error(`%s

%o

%o`,r,e,n),(s=window.onerror)===null||s===void 0||s.call(window,r,"",0,0,e)}logFormattedMessage(e,r,n={}){n=Object.assign({application:this},n),this.logger.groupCollapsed(`${e} #${r}`),this.logger.log("details:",Object.assign({},n)),this.logger.groupEnd()}};function Lf(){return new Promise(t=>{document.readyState=="loading"?document.addEventListener("DOMContentLoaded",()=>t()):t()})}function If(t){return He(t,"classes").reduce((r,n)=>Object.assign(r,Df(n)),{})}function Df(t){return{[`${t}Class`]:{get(){let{classes:e}=this;if(e.has(t))return e.get(t);{let r=e.getAttributeName(t);throw new Error(`Missing attribute "${r}"`)}}},[`${t}Classes`]:{get(){return this.classes.getAll(t)}},[`has${Ke(t)}Class`]:{get(){return this.classes.has(t)}}}}function jf(t){return He(t,"outlets").reduce((r,n)=>Object.assign(r,Bf(n)),{})}function Nn(t,e,r){return t.application.getControllerForElementAndIdentifier(e,r)}function Mn(t,e,r){let n=Nn(t,e,r);if(n||(t.application.router.proposeToConnectScopeForElementAndIdentifier(e,r),n=Nn(t,e,r),n))return n}function Bf(t){let e=Xt(t);return{[`${e}Outlet`]:{get(){let r=this.outlets.find(t),n=this.outlets.getSelectorForOutletName(t);if(r){let s=Mn(this,r,t);if(s)return s;throw new Error(`The provided outlet element is missing an outlet controller "${t}" instance for host controller "${this.identifier}"`)}throw new Error(`Missing outlet element "${t}" for host controller "${this.identifier}". Stimulus couldn't find a matching outlet element using selector "${n}".`)}},[`${e}Outlets`]:{get(){let r=this.outlets.findAll(t);return r.length>0?r.map(n=>{let s=Mn(this,n,t);if(s)return s;console.warn(`The provided outlet element is missing an outlet controller "${t}" instance for host controller "${this.identifier}"`,n)}).filter(n=>n):[]}},[`${e}OutletElement`]:{get(){let r=this.outlets.find(t),n=this.outlets.getSelectorForOutletName(t);if(r)return r;throw new Error(`Missing outlet element "${t}" for host controller "${this.identifier}". Stimulus couldn't find a matching outlet element using selector "${n}".`)}},[`${e}OutletElements`]:{get(){return this.outlets.findAll(t)}},[`has${Ke(e)}Outlet`]:{get(){return this.outlets.has(t)}}}}function $f(t){return He(t,"targets").reduce((r,n)=>Object.assign(r,Rf(n)),{})}function Rf(t){return{[`${t}Target`]:{get(){let e=this.targets.find(t);if(e)return e;throw new Error(`Missing target element "${t}" for "${this.identifier}" controller`)}},[`${t}Targets`]:{get(){return this.targets.findAll(t)}},[`has${Ke(t)}Target`]:{get(){return this.targets.has(t)}}}}function Uf(t){let e=Ef(t,"values"),r={valueDescriptorMap:{get(){return e.reduce((n,s)=>{let i=jn(s,this.identifier),c=this.data.getAttributeNameForKey(i.key);return Object.assign(n,{[c]:i})},{})}}};return e.reduce((n,s)=>Object.assign(n,Vf(s)),r)}function Vf(t,e){let r=jn(t,e),{key:n,name:s,reader:i,writer:c}=r;return{[s]:{get(){let l=this.data.get(n);return l!==null?i(l):r.defaultValue},set(l){l===void 0?this.data.delete(n):this.data.set(n,c(l))}},[`has${Ke(s)}`]:{get(){return this.data.has(n)||r.hasCustomDefaultValue}}}}function jn([t,e],r){return Gf({controller:r,token:t,typeDefinition:e})}function St(t){switch(t){case Array:return"array";case Boolean:return"boolean";case Number:return"number";case Object:return"object";case String:return"string"}}function ze(t){switch(typeof t){case"boolean":return"boolean";case"number":return"number";case"string":return"string"}if(Array.isArray(t))return"array";if(Object.prototype.toString.call(t)==="[object Object]")return"object"}function zf(t){let{controller:e,token:r,typeObject:n}=t,s=_n(n.type),i=_n(n.default),c=s&&i,l=s&&!i,p=!s&&i,w=St(n.type),O=ze(t.typeObject.default);if(l)return w;if(p)return O;if(w!==O){let A=e?`${e}.${r}`:r;throw new Error(`The specified default value for the Stimulus Value "${A}" must match the defined type "${w}". The provided default value of "${n.default}" is of type "${O}".`)}if(c)return w}function Kf(t){let{controller:e,token:r,typeDefinition:n}=t,i=zf({controller:e,token:r,typeObject:n}),c=ze(n),l=St(n),p=i||c||l;if(p)return p;let w=e?`${e}.${n}`:r;throw new Error(`Unknown value type "${w}" for "${r}" value`)}function Hf(t){let e=St(t);if(e)return Fn[e];let r=Qt(t,"default"),n=Qt(t,"type"),s=t;if(r)return s.default;if(n){let{type:i}=s,c=St(i);if(c)return Fn[c]}return t}function Gf(t){let{token:e,typeDefinition:r}=t,n=`${Ln(e)}-value`,s=Kf(t);return{type:s,key:n,name:xr(n),get defaultValue(){return Hf(r)},get hasCustomDefaultValue(){return ze(r)!==void 0},reader:Wf[s],writer:Pn[s]||Pn.default}}var Fn={get array(){return[]},boolean:!1,number:0,get object(){return{}},string:""},Wf={array(t){let e=JSON.parse(t);if(!Array.isArray(e))throw new TypeError(`expected value of type "array" but instead got value "${t}" of type "${ze(e)}"`);return e},boolean(t){return!(t=="0"||String(t).toLowerCase()=="false")},number(t){return Number(t.replace(/_/g,""))},object(t){let e=JSON.parse(t);if(e===null||typeof e!="object"||Array.isArray(e))throw new TypeError(`expected value of type "object" but instead got value "${t}" of type "${ze(e)}"`);return e},string(t){return t}},Pn={default:Zf,array:kn,object:kn};function kn(t){return JSON.stringify(t)}function Zf(t){return`${t}`}var le=class{constructor(e){this.context=e}static get shouldLoad(){return!0}static afterLoad(e,r){}get application(){return this.context.application}get scope(){return this.context.scope}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get targets(){return this.scope.targets}get outlets(){return this.scope.outlets}get classes(){return this.scope.classes}get data(){return this.scope.data}initialize(){}connect(){}disconnect(){}dispatch(e,{target:r=this.element,detail:n={},prefix:s=this.identifier,bubbles:i=!0,cancelable:c=!0}={}){let l=s?`${s}:${e}`:e,p=new CustomEvent(l,{detail:n,bubbles:i,cancelable:c});return r.dispatchEvent(p),p}};le.blessings=[If,$f,Uf,jf];le.targets=[];le.outlets=[];le.values={};var Uh=ge(_r()),Vh=ge(Pi()),zh=ge(Ca());var nc=ge(rc()),h1=(t,e)=>{let r=[],n=[];return r.push(e),e||r.push(t.locale),t.enableFallback&&r.push(t.defaultLocale),r.filter(Boolean).map(s=>s.toString()).forEach(function(s){if(n.includes(s)||n.push(s),!t.enableFallback)return;let i=s.split("-");i.length===3&&n.push(`${i[0]}-${i[1]}`),n.push(i[0])}),(0,nc.default)(n)},ot=class{constructor(e){this.i18n=e,this.registry={},this.register("default",h1)}register(e,r){if(typeof r!="function"){let n=r;r=()=>n}this.registry[e]=r}get(e){let r=this.registry[e]||this.registry[this.i18n.locale]||this.registry.default;return typeof r=="function"&&(r=r(this.i18n,e)),r instanceof Array||(r=[r]),r}};var sc=(t,e)=>{let r=String(t).split("."),n=!r[1],s=Number(r[0])==t,i=s&&r[0].slice(-1),c=s&&r[0].slice(-2);return e?i==1&&c!=11?"one":i==2&&c!=12?"two":i==3&&c!=13?"few":"other":t==1&&n?"one":"other"};function ic({pluralizer:t,includeZero:e=!0,ordinal:r=!1}){return function(n,s){return[e&&s===0?"zero":"",t(s,r)].filter(Boolean)}}var f1=ic({pluralizer:sc,includeZero:!0}),at=class{constructor(e){this.i18n=e,this.registry={},this.register("default",f1)}register(e,r){this.registry[e]=r}get(e){return this.registry[e]||this.registry[this.i18n.locale]||this.registry.default}};var fu=ge(hu());function te(t){return t?Object.keys(t).reduce((e,r)=>(e[(0,fu.default)(r)]=t[r],e),{}):{}}function Z(t){return t!=null}function Wr(t,e,r){let n=[{scope:e}];if(Z(r.defaults)&&(n=n.concat(r.defaults)),Z(r.defaultValue)){let s=typeof r.defaultValue=="function"?r.defaultValue(t,e,r):r.defaultValue;n.push({message:s}),delete r.defaultValue}return n}var ty=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,Zr=Math.ceil,oe=Math.floor,Y="[BigNumber Error] ",du=Y+"Number primitive has more than 15 significant digits: ",fe=1e14,M=14,Jr=9007199254740991,Yr=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],we=1e7,z=1e9;function pu(t){var e,r,n,s=S.prototype={constructor:S,toString:null,valueOf:null},i=new S(1),c=20,l=4,p=-7,w=21,O=-1e7,A=1e7,_=!1,N=1,C=0,L={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"\xA0",suffix:""},k="0123456789abcdefghijklmnopqrstuvwxyz",B=!0;function S(o,a){var u,v,d,m,y,f,g,x,b=this;if(!(b instanceof S))return new S(o,a);if(a==null){if(o&&o._isBigNumber===!0){b.s=o.s,!o.c||o.e>A?b.c=b.e=null:o.e<O?b.c=[b.e=0]:(b.e=o.e,b.c=o.c.slice());return}if((f=typeof o=="number")&&o*0==0){if(b.s=1/o<0?(o=-o,-1):1,o===~~o){for(m=0,y=o;y>=10;y/=10,m++);m>A?b.c=b.e=null:(b.e=m,b.c=[o]);return}x=String(o)}else{if(!ty.test(x=String(o)))return n(b,x,f);b.s=x.charCodeAt(0)==45?(x=x.slice(1),-1):1}(m=x.indexOf("."))>-1&&(x=x.replace(".","")),(y=x.search(/e/i))>0?(m<0&&(m=y),m+=+x.slice(y+1),x=x.substring(0,y)):m<0&&(m=x.length)}else{if($(a,2,k.length,"Base"),a==10&&B)return b=new S(o),G(b,c+b.e+1,l);if(x=String(o),f=typeof o=="number"){if(o*0!=0)return n(b,x,f,a);if(b.s=1/o<0?(x=x.slice(1),-1):1,S.DEBUG&&x.replace(/^0\.0*|\./,"").length>15)throw Error(du+o)}else b.s=x.charCodeAt(0)===45?(x=x.slice(1),-1):1;for(u=k.slice(0,a),m=y=0,g=x.length;y<g;y++)if(u.indexOf(v=x.charAt(y))<0){if(v=="."){if(y>m){m=g;continue}}else if(!d&&(x==x.toUpperCase()&&(x=x.toLowerCase())||x==x.toLowerCase()&&(x=x.toUpperCase()))){d=!0,y=-1,m=0;continue}return n(b,String(o),f,a)}f=!1,x=r(x,a,10,b.s),(m=x.indexOf("."))>-1?x=x.replace(".",""):m=x.length}for(y=0;x.charCodeAt(y)===48;y++);for(g=x.length;x.charCodeAt(--g)===48;);if(x=x.slice(y,++g)){if(g-=y,f&&S.DEBUG&&g>15&&(o>Jr||o!==oe(o)))throw Error(du+b.s*o);if((m=m-y-1)>A)b.c=b.e=null;else if(m<O)b.c=[b.e=0];else{if(b.e=m,b.c=[],y=(m+1)%M,m<0&&(y+=M),y<g){for(y&&b.c.push(+x.slice(0,y)),g-=M;y<g;)b.c.push(+x.slice(y,y+=M));y=M-(x=x.slice(y)).length}else y-=g;for(;y--;x+="0");b.c.push(+x)}}else b.c=[b.e=0]}S.clone=pu,S.ROUND_UP=0,S.ROUND_DOWN=1,S.ROUND_CEIL=2,S.ROUND_FLOOR=3,S.ROUND_HALF_UP=4,S.ROUND_HALF_DOWN=5,S.ROUND_HALF_EVEN=6,S.ROUND_HALF_CEIL=7,S.ROUND_HALF_FLOOR=8,S.EUCLID=9,S.config=S.set=function(o){var a,u;if(o!=null)if(typeof o=="object"){if(o.hasOwnProperty(a="DECIMAL_PLACES")&&(u=o[a],$(u,0,z,a),c=u),o.hasOwnProperty(a="ROUNDING_MODE")&&(u=o[a],$(u,0,8,a),l=u),o.hasOwnProperty(a="EXPONENTIAL_AT")&&(u=o[a],u&&u.pop?($(u[0],-z,0,a),$(u[1],0,z,a),p=u[0],w=u[1]):($(u,-z,z,a),p=-(w=u<0?-u:u))),o.hasOwnProperty(a="RANGE"))if(u=o[a],u&&u.pop)$(u[0],-z,-1,a),$(u[1],1,z,a),O=u[0],A=u[1];else if($(u,-z,z,a),u)O=-(A=u<0?-u:u);else throw Error(Y+a+" cannot be zero: "+u);if(o.hasOwnProperty(a="CRYPTO"))if(u=o[a],u===!!u)if(u)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))_=u;else throw _=!u,Error(Y+"crypto unavailable");else _=u;else throw Error(Y+a+" not true or false: "+u);if(o.hasOwnProperty(a="MODULO_MODE")&&(u=o[a],$(u,0,9,a),N=u),o.hasOwnProperty(a="POW_PRECISION")&&(u=o[a],$(u,0,z,a),C=u),o.hasOwnProperty(a="FORMAT"))if(u=o[a],typeof u=="object")L=u;else throw Error(Y+a+" not an object: "+u);if(o.hasOwnProperty(a="ALPHABET"))if(u=o[a],typeof u=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(u))B=u.slice(0,10)=="0123456789",k=u;else throw Error(Y+a+" invalid: "+u)}else throw Error(Y+"Object expected: "+o);return{DECIMAL_PLACES:c,ROUNDING_MODE:l,EXPONENTIAL_AT:[p,w],RANGE:[O,A],CRYPTO:_,MODULO_MODE:N,POW_PRECISION:C,FORMAT:L,ALPHABET:k}},S.isBigNumber=function(o){if(!o||o._isBigNumber!==!0)return!1;if(!S.DEBUG)return!0;var a,u,v=o.c,d=o.e,m=o.s;e:if({}.toString.call(v)=="[object Array]"){if((m===1||m===-1)&&d>=-z&&d<=z&&d===oe(d)){if(v[0]===0){if(d===0&&v.length===1)return!0;break e}if(a=(d+1)%M,a<1&&(a+=M),String(v[0]).length==a){for(a=0;a<v.length;a++)if(u=v[a],u<0||u>=fe||u!==oe(u))break e;if(u!==0)return!0}}}else if(v===null&&d===null&&(m===null||m===1||m===-1))return!0;throw Error(Y+"Invalid BigNumber: "+o)},S.maximum=S.max=function(){return J(arguments,-1)},S.minimum=S.min=function(){return J(arguments,1)},S.random=function(){var o=9007199254740992,a=Math.random()*o&2097151?function(){return oe(Math.random()*o)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(u){var v,d,m,y,f,g=0,x=[],b=new S(i);if(u==null?u=c:$(u,0,z),y=Zr(u/M),_)if(crypto.getRandomValues){for(v=crypto.getRandomValues(new Uint32Array(y*=2));g<y;)f=v[g]*131072+(v[g+1]>>>11),f>=9e15?(d=crypto.getRandomValues(new Uint32Array(2)),v[g]=d[0],v[g+1]=d[1]):(x.push(f%1e14),g+=2);g=y/2}else if(crypto.randomBytes){for(v=crypto.randomBytes(y*=7);g<y;)f=(v[g]&31)*281474976710656+v[g+1]*1099511627776+v[g+2]*4294967296+v[g+3]*16777216+(v[g+4]<<16)+(v[g+5]<<8)+v[g+6],f>=9e15?crypto.randomBytes(7).copy(v,g):(x.push(f%1e14),g+=7);g=y/7}else throw _=!1,Error(Y+"crypto unavailable");if(!_)for(;g<y;)f=a(),f<9e15&&(x[g++]=f%1e14);for(y=x[--g],u%=M,y&&u&&(f=Yr[M-u],x[g]=oe(y/f)*f);x[g]===0;x.pop(),g--);if(g<0)x=[m=0];else{for(m=-1;x[0]===0;x.splice(0,1),m-=M);for(g=1,f=x[0];f>=10;f/=10,g++);g<M&&(m-=M-g)}return b.e=m,b.c=x,b}}(),S.sum=function(){for(var o=1,a=arguments,u=new S(a[0]);o<a.length;)u=u.plus(a[o++]);return u},r=function(){var o="0123456789";function a(u,v,d,m){for(var y,f=[0],g,x=0,b=u.length;x<b;){for(g=f.length;g--;f[g]*=v);for(f[0]+=m.indexOf(u.charAt(x++)),y=0;y<f.length;y++)f[y]>d-1&&(f[y+1]==null&&(f[y+1]=0),f[y+1]+=f[y]/d|0,f[y]%=d)}return f.reverse()}return function(u,v,d,m,y){var f,g,x,b,E,T,q,P,R=u.indexOf("."),V=c,F=l;for(R>=0&&(b=C,C=0,u=u.replace(".",""),P=new S(v),T=P.pow(u.length-R),C=b,P.c=a(ve(ie(T.c),T.e,"0"),10,d,o),P.e=P.c.length),q=a(u,v,d,y?(f=k,o):(f=o,k)),x=b=q.length;q[--b]==0;q.pop());if(!q[0])return f.charAt(0);if(R<0?--x:(T.c=q,T.e=x,T.s=m,T=e(T,P,V,F,d),q=T.c,E=T.r,x=T.e),g=x+V+1,R=q[g],b=d/2,E=E||g<0||q[g+1]!=null,E=F<4?(R!=null||E)&&(F==0||F==(T.s<0?3:2)):R>b||R==b&&(F==4||E||F==6&&q[g-1]&1||F==(T.s<0?8:7)),g<1||!q[0])u=E?ve(f.charAt(1),-V,f.charAt(0)):f.charAt(0);else{if(q.length=g,E)for(--d;++q[--g]>d;)q[g]=0,g||(++x,q=[1].concat(q));for(b=q.length;!q[--b];);for(R=0,u="";R<=b;u+=f.charAt(q[R++]));u=ve(u,x,f.charAt(0))}return u}}(),e=function(){function o(v,d,m){var y,f,g,x,b=0,E=v.length,T=d%we,q=d/we|0;for(v=v.slice();E--;)g=v[E]%we,x=v[E]/we|0,y=q*g+x*T,f=T*g+y%we*we+b,b=(f/m|0)+(y/we|0)+q*x,v[E]=f%m;return b&&(v=[b].concat(v)),v}function a(v,d,m,y){var f,g;if(m!=y)g=m>y?1:-1;else for(f=g=0;f<m;f++)if(v[f]!=d[f]){g=v[f]>d[f]?1:-1;break}return g}function u(v,d,m,y){for(var f=0;m--;)v[m]-=f,f=v[m]<d[m]?1:0,v[m]=f*y+v[m]-d[m];for(;!v[0]&&v.length>1;v.splice(0,1));}return function(v,d,m,y,f){var g,x,b,E,T,q,P,R,V,F,I,K,vt,Wt,Zt,pe,Ve,ne=v.s==d.s?1:-1,W=v.c,U=d.c;if(!W||!W[0]||!U||!U[0])return new S(!v.s||!d.s||(W?U&&W[0]==U[0]:!U)?NaN:W&&W[0]==0||!U?ne*0:ne/0);for(R=new S(ne),V=R.c=[],x=v.e-d.e,ne=m+x+1,f||(f=fe,x=ae(v.e/M)-ae(d.e/M),ne=ne/M|0),b=0;U[b]==(W[b]||0);b++);if(U[b]>(W[b]||0)&&x--,ne<0)V.push(1),E=!0;else{for(Wt=W.length,pe=U.length,b=0,ne+=2,T=oe(f/(U[0]+1)),T>1&&(U=o(U,T,f),W=o(W,T,f),pe=U.length,Wt=W.length),vt=pe,F=W.slice(0,pe),I=F.length;I<pe;F[I++]=0);Ve=U.slice(),Ve=[0].concat(Ve),Zt=U[0],U[1]>=f/2&&Zt++;do{if(T=0,g=a(U,F,pe,I),g<0){if(K=F[0],pe!=I&&(K=K*f+(F[1]||0)),T=oe(K/Zt),T>1)for(T>=f&&(T=f-1),q=o(U,T,f),P=q.length,I=F.length;a(q,F,P,I)==1;)T--,u(q,pe<P?Ve:U,P,f),P=q.length,g=1;else T==0&&(g=T=1),q=U.slice(),P=q.length;if(P<I&&(q=[0].concat(q)),u(F,q,I,f),I=F.length,g==-1)for(;a(U,F,pe,I)<1;)T++,u(F,pe<I?Ve:U,I,f),I=F.length}else g===0&&(T++,F=[0]);V[b++]=T,F[0]?F[I++]=W[vt]||0:(F=[W[vt]],I=1)}while((vt++<Wt||F[0]!=null)&&ne--);E=F[0]!=null,V[0]||V.splice(0,1)}if(f==fe){for(b=1,ne=V[0];ne>=10;ne/=10,b++);G(R,m+(R.e=b+x*M-1)+1,y,E)}else R.e=x,R.r=+E;return R}}();function Q(o,a,u,v){var d,m,y,f,g;if(u==null?u=l:$(u,0,8),!o.c)return o.toString();if(d=o.c[0],y=o.e,a==null)g=ie(o.c),g=v==1||v==2&&(y<=p||y>=w)?Rt(g,y):ve(g,y,"0");else if(o=G(new S(o),a,u),m=o.e,g=ie(o.c),f=g.length,v==1||v==2&&(a<=m||m<=p)){for(;f<a;g+="0",f++);g=Rt(g,m)}else if(a-=y,g=ve(g,m,"0"),m+1>f){if(--a>0)for(g+=".";a--;g+="0");}else if(a+=m-f,a>0)for(m+1==f&&(g+=".");a--;g+="0");return o.s<0&&d?"-"+g:g}function J(o,a){for(var u,v,d=1,m=new S(o[0]);d<o.length;d++)v=new S(o[d]),(!v.s||(u=_e(m,v))===a||u===0&&m.s===a)&&(m=v);return m}function H(o,a,u){for(var v=1,d=a.length;!a[--d];a.pop());for(d=a[0];d>=10;d/=10,v++);return(u=v+u*M-1)>A?o.c=o.e=null:u<O?o.c=[o.e=0]:(o.e=u,o.c=a),o}n=function(){var o=/^(-?)0([xbo])(?=\w[\w.]*$)/i,a=/^([^.]+)\.$/,u=/^\.([^.]+)$/,v=/^-?(Infinity|NaN)$/,d=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(m,y,f,g){var x,b=f?y:y.replace(d,"");if(v.test(b))m.s=isNaN(b)?null:b<0?-1:1;else{if(!f&&(b=b.replace(o,function(E,T,q){return x=(q=q.toLowerCase())=="x"?16:q=="b"?2:8,!g||g==x?T:E}),g&&(x=g,b=b.replace(a,"$1").replace(u,"0.$1")),y!=b))return new S(b,x);if(S.DEBUG)throw Error(Y+"Not a"+(g?" base "+g:"")+" number: "+y);m.s=null}m.c=m.e=null}}();function G(o,a,u,v){var d,m,y,f,g,x,b,E=o.c,T=Yr;if(E){e:{for(d=1,f=E[0];f>=10;f/=10,d++);if(m=a-d,m<0)m+=M,y=a,g=E[x=0],b=oe(g/T[d-y-1]%10);else if(x=Zr((m+1)/M),x>=E.length)if(v){for(;E.length<=x;E.push(0));g=b=0,d=1,m%=M,y=m-M+1}else break e;else{for(g=f=E[x],d=1;f>=10;f/=10,d++);m%=M,y=m-M+d,b=y<0?0:oe(g/T[d-y-1]%10)}if(v=v||a<0||E[x+1]!=null||(y<0?g:g%T[d-y-1]),v=u<4?(b||v)&&(u==0||u==(o.s<0?3:2)):b>5||b==5&&(u==4||v||u==6&&(m>0?y>0?g/T[d-y]:0:E[x-1])%10&1||u==(o.s<0?8:7)),a<1||!E[0])return E.length=0,v?(a-=o.e+1,E[0]=T[(M-a%M)%M],o.e=-a||0):E[0]=o.e=0,o;if(m==0?(E.length=x,f=1,x--):(E.length=x+1,f=T[M-m],E[x]=y>0?oe(g/T[d-y]%T[y])*f:0),v)for(;;)if(x==0){for(m=1,y=E[0];y>=10;y/=10,m++);for(y=E[0]+=f,f=1;y>=10;y/=10,f++);m!=f&&(o.e++,E[0]==fe&&(E[0]=1));break}else{if(E[x]+=f,E[x]!=fe)break;E[x--]=0,f=1}for(m=E.length;E[--m]===0;E.pop());}o.e>A?o.c=o.e=null:o.e<O&&(o.c=[o.e=0])}return o}function ee(o){var a,u=o.e;return u===null?o.toString():(a=ie(o.c),a=u<=p||u>=w?Rt(a,u):ve(a,u,"0"),o.s<0?"-"+a:a)}return s.absoluteValue=s.abs=function(){var o=new S(this);return o.s<0&&(o.s=1),o},s.comparedTo=function(o,a){return _e(this,new S(o,a))},s.decimalPlaces=s.dp=function(o,a){var u,v,d,m=this;if(o!=null)return $(o,0,z),a==null?a=l:$(a,0,8),G(new S(m),o+m.e+1,a);if(!(u=m.c))return null;if(v=((d=u.length-1)-ae(this.e/M))*M,d=u[d])for(;d%10==0;d/=10,v--);return v<0&&(v=0),v},s.dividedBy=s.div=function(o,a){return e(this,new S(o,a),c,l)},s.dividedToIntegerBy=s.idiv=function(o,a){return e(this,new S(o,a),0,1)},s.exponentiatedBy=s.pow=function(o,a){var u,v,d,m,y,f,g,x,b,E=this;if(o=new S(o),o.c&&!o.isInteger())throw Error(Y+"Exponent not an integer: "+ee(o));if(a!=null&&(a=new S(a)),f=o.e>14,!E.c||!E.c[0]||E.c[0]==1&&!E.e&&E.c.length==1||!o.c||!o.c[0])return b=new S(Math.pow(+ee(E),f?o.s*(2-$t(o)):+ee(o))),a?b.mod(a):b;if(g=o.s<0,a){if(a.c?!a.c[0]:!a.s)return new S(NaN);v=!g&&E.isInteger()&&a.isInteger(),v&&(E=E.mod(a))}else{if(o.e>9&&(E.e>0||E.e<-1||(E.e==0?E.c[0]>1||f&&E.c[1]>=24e7:E.c[0]<8e13||f&&E.c[0]<=9999975e7)))return m=E.s<0&&$t(o)?-0:0,E.e>-1&&(m=1/m),new S(g?1/m:m);C&&(m=Zr(C/M+2))}for(f?(u=new S(.5),g&&(o.s=1),x=$t(o)):(d=Math.abs(+ee(o)),x=d%2),b=new S(i);;){if(x){if(b=b.times(E),!b.c)break;m?b.c.length>m&&(b.c.length=m):v&&(b=b.mod(a))}if(d){if(d=oe(d/2),d===0)break;x=d%2}else if(o=o.times(u),G(o,o.e+1,1),o.e>14)x=$t(o);else{if(d=+ee(o),d===0)break;x=d%2}E=E.times(E),m?E.c&&E.c.length>m&&(E.c.length=m):v&&(E=E.mod(a))}return v?b:(g&&(b=i.div(b)),a?b.mod(a):m?G(b,C,l,y):b)},s.integerValue=function(o){var a=new S(this);return o==null?o=l:$(o,0,8),G(a,a.e+1,o)},s.isEqualTo=s.eq=function(o,a){return _e(this,new S(o,a))===0},s.isFinite=function(){return!!this.c},s.isGreaterThan=s.gt=function(o,a){return _e(this,new S(o,a))>0},s.isGreaterThanOrEqualTo=s.gte=function(o,a){return(a=_e(this,new S(o,a)))===1||a===0},s.isInteger=function(){return!!this.c&&ae(this.e/M)>this.c.length-2},s.isLessThan=s.lt=function(o,a){return _e(this,new S(o,a))<0},s.isLessThanOrEqualTo=s.lte=function(o,a){return(a=_e(this,new S(o,a)))===-1||a===0},s.isNaN=function(){return!this.s},s.isNegative=function(){return this.s<0},s.isPositive=function(){return this.s>0},s.isZero=function(){return!!this.c&&this.c[0]==0},s.minus=function(o,a){var u,v,d,m,y=this,f=y.s;if(o=new S(o,a),a=o.s,!f||!a)return new S(NaN);if(f!=a)return o.s=-a,y.plus(o);var g=y.e/M,x=o.e/M,b=y.c,E=o.c;if(!g||!x){if(!b||!E)return b?(o.s=-a,o):new S(E?y:NaN);if(!b[0]||!E[0])return E[0]?(o.s=-a,o):new S(b[0]?y:l==3?-0:0)}if(g=ae(g),x=ae(x),b=b.slice(),f=g-x){for((m=f<0)?(f=-f,d=b):(x=g,d=E),d.reverse(),a=f;a--;d.push(0));d.reverse()}else for(v=(m=(f=b.length)<(a=E.length))?f:a,f=a=0;a<v;a++)if(b[a]!=E[a]){m=b[a]<E[a];break}if(m&&(d=b,b=E,E=d,o.s=-o.s),a=(v=E.length)-(u=b.length),a>0)for(;a--;b[u++]=0);for(a=fe-1;v>f;){if(b[--v]<E[v]){for(u=v;u&&!b[--u];b[u]=a);--b[u],b[v]+=fe}b[v]-=E[v]}for(;b[0]==0;b.splice(0,1),--x);return b[0]?H(o,b,x):(o.s=l==3?-1:1,o.c=[o.e=0],o)},s.modulo=s.mod=function(o,a){var u,v,d=this;return o=new S(o,a),!d.c||!o.s||o.c&&!o.c[0]?new S(NaN):!o.c||d.c&&!d.c[0]?new S(d):(N==9?(v=o.s,o.s=1,u=e(d,o,0,3),o.s=v,u.s*=v):u=e(d,o,0,N),o=d.minus(u.times(o)),!o.c[0]&&N==1&&(o.s=d.s),o)},s.multipliedBy=s.times=function(o,a){var u,v,d,m,y,f,g,x,b,E,T,q,P,R,V,F=this,I=F.c,K=(o=new S(o,a)).c;if(!I||!K||!I[0]||!K[0])return!F.s||!o.s||I&&!I[0]&&!K||K&&!K[0]&&!I?o.c=o.e=o.s=null:(o.s*=F.s,!I||!K?o.c=o.e=null:(o.c=[0],o.e=0)),o;for(v=ae(F.e/M)+ae(o.e/M),o.s*=F.s,g=I.length,E=K.length,g<E&&(P=I,I=K,K=P,d=g,g=E,E=d),d=g+E,P=[];d--;P.push(0));for(R=fe,V=we,d=E;--d>=0;){for(u=0,T=K[d]%V,q=K[d]/V|0,y=g,m=d+y;m>d;)x=I[--y]%V,b=I[y]/V|0,f=q*x+b*T,x=T*x+f%V*V+P[m]+u,u=(x/R|0)+(f/V|0)+q*b,P[m--]=x%R;P[m]=u}return u?++v:P.splice(0,1),H(o,P,v)},s.negated=function(){var o=new S(this);return o.s=-o.s||null,o},s.plus=function(o,a){var u,v=this,d=v.s;if(o=new S(o,a),a=o.s,!d||!a)return new S(NaN);if(d!=a)return o.s=-a,v.minus(o);var m=v.e/M,y=o.e/M,f=v.c,g=o.c;if(!m||!y){if(!f||!g)return new S(d/0);if(!f[0]||!g[0])return g[0]?o:new S(f[0]?v:d*0)}if(m=ae(m),y=ae(y),f=f.slice(),d=m-y){for(d>0?(y=m,u=g):(d=-d,u=f),u.reverse();d--;u.push(0));u.reverse()}for(d=f.length,a=g.length,d-a<0&&(u=g,g=f,f=u,a=d),d=0;a;)d=(f[--a]=f[a]+g[a]+d)/fe|0,f[a]=fe===f[a]?0:f[a]%fe;return d&&(f=[d].concat(f),++y),H(o,f,y)},s.precision=s.sd=function(o,a){var u,v,d,m=this;if(o!=null&&o!==!!o)return $(o,1,z),a==null?a=l:$(a,0,8),G(new S(m),o,a);if(!(u=m.c))return null;if(d=u.length-1,v=d*M+1,d=u[d]){for(;d%10==0;d/=10,v--);for(d=u[0];d>=10;d/=10,v++);}return o&&m.e+1>v&&(v=m.e+1),v},s.shiftedBy=function(o){return $(o,-Jr,Jr),this.times("1e"+o)},s.squareRoot=s.sqrt=function(){var o,a,u,v,d,m=this,y=m.c,f=m.s,g=m.e,x=c+4,b=new S("0.5");if(f!==1||!y||!y[0])return new S(!f||f<0&&(!y||y[0])?NaN:y?m:1/0);if(f=Math.sqrt(+ee(m)),f==0||f==1/0?(a=ie(y),(a.length+g)%2==0&&(a+="0"),f=Math.sqrt(+a),g=ae((g+1)/2)-(g<0||g%2),f==1/0?a="5e"+g:(a=f.toExponential(),a=a.slice(0,a.indexOf("e")+1)+g),u=new S(a)):u=new S(f+""),u.c[0]){for(g=u.e,f=g+x,f<3&&(f=0);;)if(d=u,u=b.times(d.plus(e(m,d,x,1))),ie(d.c).slice(0,f)===(a=ie(u.c)).slice(0,f))if(u.e<g&&--f,a=a.slice(f-3,f+1),a=="9999"||!v&&a=="4999"){if(!v&&(G(d,d.e+c+2,0),d.times(d).eq(m))){u=d;break}x+=4,f+=4,v=1}else{(!+a||!+a.slice(1)&&a.charAt(0)=="5")&&(G(u,u.e+c+2,1),o=!u.times(u).eq(m));break}}return G(u,u.e+c+1,l,o)},s.toExponential=function(o,a){return o!=null&&($(o,0,z),o++),Q(this,o,a,1)},s.toFixed=function(o,a){return o!=null&&($(o,0,z),o=o+this.e+1),Q(this,o,a)},s.toFormat=function(o,a,u){var v,d=this;if(u==null)o!=null&&a&&typeof a=="object"?(u=a,a=null):o&&typeof o=="object"?(u=o,o=a=null):u=L;else if(typeof u!="object")throw Error(Y+"Argument not an object: "+u);if(v=d.toFixed(o,a),d.c){var m,y=v.split("."),f=+u.groupSize,g=+u.secondaryGroupSize,x=u.groupSeparator||"",b=y[0],E=y[1],T=d.s<0,q=T?b.slice(1):b,P=q.length;if(g&&(m=f,f=g,g=m,P-=m),f>0&&P>0){for(m=P%f||f,b=q.substr(0,m);m<P;m+=f)b+=x+q.substr(m,f);g>0&&(b+=x+q.slice(m)),T&&(b="-"+b)}v=E?b+(u.decimalSeparator||"")+((g=+u.fractionGroupSize)?E.replace(new RegExp("\\d{"+g+"}\\B","g"),"$&"+(u.fractionGroupSeparator||"")):E):b}return(u.prefix||"")+v+(u.suffix||"")},s.toFraction=function(o){var a,u,v,d,m,y,f,g,x,b,E,T,q=this,P=q.c;if(o!=null&&(f=new S(o),!f.isInteger()&&(f.c||f.s!==1)||f.lt(i)))throw Error(Y+"Argument "+(f.isInteger()?"out of range: ":"not an integer: ")+ee(f));if(!P)return new S(q);for(a=new S(i),x=u=new S(i),v=g=new S(i),T=ie(P),m=a.e=T.length-q.e-1,a.c[0]=Yr[(y=m%M)<0?M+y:y],o=!o||f.comparedTo(a)>0?m>0?a:x:f,y=A,A=1/0,f=new S(T),g.c[0]=0;b=e(f,a,0,1),d=u.plus(b.times(v)),d.comparedTo(o)!=1;)u=v,v=d,x=g.plus(b.times(d=x)),g=d,a=f.minus(b.times(d=a)),f=d;return d=e(o.minus(u),v,0,1),g=g.plus(d.times(x)),u=u.plus(d.times(v)),g.s=x.s=q.s,m=m*2,E=e(x,v,m,l).minus(q).abs().comparedTo(e(g,u,m,l).minus(q).abs())<1?[x,v]:[g,u],A=y,E},s.toNumber=function(){return+ee(this)},s.toPrecision=function(o,a){return o!=null&&$(o,1,z),Q(this,o,a,2)},s.toString=function(o){var a,u=this,v=u.s,d=u.e;return d===null?v?(a="Infinity",v<0&&(a="-"+a)):a="NaN":(o==null?a=d<=p||d>=w?Rt(ie(u.c),d):ve(ie(u.c),d,"0"):o===10&&B?(u=G(new S(u),c+d+1,l),a=ve(ie(u.c),u.e,"0")):($(o,2,k.length,"Base"),a=r(ve(ie(u.c),d,"0"),10,o,v,!0)),v<0&&u.c[0]&&(a="-"+a)),a},s.valueOf=s.toJSON=function(){return ee(this)},s._isBigNumber=!0,s[Symbol.toStringTag]="BigNumber",s[Symbol.for("nodejs.util.inspect.custom")]=s.valueOf,t!=null&&S.set(t),S}function ae(t){var e=t|0;return t>0||t===e?e:e-1}function ie(t){for(var e,r,n=1,s=t.length,i=t[0]+"";n<s;){for(e=t[n++]+"",r=M-e.length;r--;e="0"+e);i+=e}for(s=i.length;i.charCodeAt(--s)===48;);return i.slice(0,s+1||1)}function _e(t,e){var r,n,s=t.c,i=e.c,c=t.s,l=e.s,p=t.e,w=e.e;if(!c||!l)return null;if(r=s&&!s[0],n=i&&!i[0],r||n)return r?n?0:-l:c;if(c!=l)return c;if(r=c<0,n=p==w,!s||!i)return n?0:!s^r?1:-1;if(!n)return p>w^r?1:-1;for(l=(p=s.length)<(w=i.length)?p:w,c=0;c<l;c++)if(s[c]!=i[c])return s[c]>i[c]^r?1:-1;return p==w?0:p>w^r?1:-1}function $(t,e,r,n){if(t<e||t>r||t!==oe(t))throw Error(Y+(n||"Argument")+(typeof t=="number"?t<e||t>r?" out of range: ":" not an integer: ":" not a primitive number: ")+String(t))}function $t(t){var e=t.c.length-1;return ae(t.e/M)==e&&t.c[e]%2!=0}function Rt(t,e){return(t.length>1?t.charAt(0)+"."+t.slice(1):t)+(e<0?"e":"e+")+e}function ve(t,e,r){var n,s;if(e<0){for(s=r+".";++e;s+=r);t=s+t}else if(n=t.length,++e>n){for(s=r,e-=n;--e;s+=r);t+=s}else e<n&&(t=t.slice(0,e)+"."+t.slice(e));return t}var D=pu();var Ut;(function(t){t[t.up=D.ROUND_UP]="up",t[t.down=D.ROUND_DOWN]="down",t[t.truncate=D.ROUND_DOWN]="truncate",t[t.halfUp=D.ROUND_HALF_UP]="halfUp",t[t.default=D.ROUND_HALF_UP]="default",t[t.halfDown=D.ROUND_HALF_DOWN]="halfDown",t[t.halfEven=D.ROUND_HALF_EVEN]="halfEven",t[t.banker=D.ROUND_HALF_EVEN]="banker",t[t.ceiling=D.ROUND_CEIL]="ceiling",t[t.ceil=D.ROUND_CEIL]="ceil",t[t.floor=D.ROUND_FLOOR]="floor"})(Ut||(Ut={}));function ct(t){var e;return(e=Ut[t])!==null&&e!==void 0?e:Ut.default}var Mu=ge(Nu());function Ty(t){return t.isZero()?1:Math.floor(Math.log10(t.abs().toNumber())+1)}function Cy(t,{precision:e,significant:r}){return r&&e!==null&&e>0?e-Ty(t):e}function Oe(t,e){let r=Cy(t,e);if(r===null)return t.toString();let n=ct(e.roundMode);if(r>=0)return t.toFixed(r,n);let s=Math.pow(10,Math.abs(r));return t=new D(t.div(s).toFixed(0,n)).times(s),t.toString()}function qy(t,{formattedNumber:e,unit:r}){return t.replace("%n",e).replace("%u",r)}function Ny({significand:t,whole:e,precision:r}){if(e==="0"||r===null)return t;let n=Math.max(0,r-e.length);return(t??"").substr(0,n)}function Te(t,e){var r,n,s;let i=new D(t);if(e.raise&&!i.isFinite())throw new Error(`"${t}" is not a valid numeric value`);let c=Oe(i,e),l=new D(c),p=l.lt(0),w=l.isZero(),[O,A]=c.split("."),_=[],N,C=(r=e.format)!==null&&r!==void 0?r:"%n",L=(n=e.negativeFormat)!==null&&n!==void 0?n:`-${C}`,k=p&&!w?L:C;for(O=O.replace("-","");O.length>0;)_.unshift(O.substr(Math.max(0,O.length-3),3)),O=O.substr(0,O.length-3);return O=_.join(""),N=_.join(e.delimiter),e.significant?A=Ny({whole:O,significand:A,precision:e.precision}):A=A??(0,Mu.default)("0",(s=e.precision)!==null&&s!==void 0?s:0),e.stripInsignificantZeros&&A&&(A=A.replace(/0+$/,"")),i.isNaN()&&(N=t.toString()),A&&i.isFinite()&&(N+=(e.separator||".")+A),qy(k,{formattedNumber:N,unit:e.unit})}function de(t,e,r){let n="";return(e instanceof String||typeof e=="string")&&(n=e),e instanceof Array&&(n=e.join(t.defaultSeparator)),r.scope&&(n=[r.scope,n].join(t.defaultSeparator)),n}function ce(t){var e,r;if(t===null)return"null";let n=typeof t;return n!=="object"?n:((r=(e=t?.constructor)===null||e===void 0?void 0:e.name)===null||r===void 0?void 0:r.toLowerCase())||"object"}function ut(t,e,r){r=Object.keys(r).reduce((s,i)=>(s[t.transformKey(i)]=r[i],s),{});let n=e.match(t.placeholder);if(!n)return e;for(;n.length;){let s,i=n.shift(),c=i.replace(t.placeholder,"$1");Z(r[c])?s=r[c].toString().replace(/\$/gm,"_#$#_"):c in r?s=t.nullPlaceholder(t,i,e,r):s=t.missingPlaceholder(t,i,e,r);let l=new RegExp(i.replace(/\{/gm,"\\{").replace(/\}/gm,"\\}"),"g");e=e.replace(l,s)}return e.replace(/_#\$#_/g,"$")}function X(t,e,r={}){r=Object.assign({},r);let n="locale"in r?r.locale:t.locale,s=ce(n),i=t.locales.get(s==="string"?n:typeof n).slice(),c=de(t,e,r).split(t.defaultSeparator).map(p=>t.transformKey(p)),l=i.map(p=>c.reduce((w,O)=>w&&w[O],t.translations[p]));return l.push(r.defaultValue),l.find(p=>Z(p))}function Qr(t,e){let r=new D(t);if(!r.isFinite())return t.toString();if(!e.delimiterPattern.global)throw new Error(`options.delimiterPattern must be a global regular expression; received ${e.delimiterPattern}`);let[n,s]=r.toString().split(".");return n=n.replace(e.delimiterPattern,i=>`${i}${e.delimiter}`),[n,s].filter(Boolean).join(e.separator)}var Fh=ge(Th()),Ph=ge(Mh());var pn={0:"unit",1:"ten",2:"hundred",3:"thousand",6:"million",9:"billion",12:"trillion",15:"quadrillion","-1":"deci","-2":"centi","-3":"mili","-6":"micro","-9":"nano","-12":"pico","-15":"femto"},CE=(0,Ph.default)(Object.values(pn),Object.keys(pn).map(t=>parseInt(t,10)));function gn(t,e,r){let n={roundMode:r.roundMode,precision:r.precision,significant:r.significant},s;if(ce(r.units)==="string"){let A=r.units;if(s=X(t,A),!s)throw new Error(`The scope "${t.locale}${t.defaultSeparator}${de(t,A,{})}" couldn't be found`)}else s=r.units;let i=Oe(new D(e),n),c=A=>(0,Fh.default)(Object.keys(A).map(_=>CE[_]),_=>_*-1),l=(A,_)=>{let N=A.isZero()?0:Math.floor(Math.log10(A.abs().toNumber()));return c(_).find(C=>N>=C)||0},p=(A,_)=>{let N=pn[_.toString()];return A[N]||""},w=l(new D(i),s),O=p(s,w);if(i=Oe(new D(i).div(Math.pow(10,w)),n),r.stripInsignificantZeros){let[A,_]=i.split(".");_=(_||"").replace(/0+$/,""),i=A,_&&(i+=`${r.separator}${_}`)}return r.format.replace("%n",i||"0").replace("%u",O).trim()}var kh=["byte","kb","mb","gb","tb","pb","eb"];function mn(t,e,r){let n=ct(r.roundMode),s=1024,i=new D(e).abs(),c=i.lt(s),l,p=(C,L)=>{let k=L.length-1,B=new D(Math.log(C.toNumber())).div(Math.log(s)).integerValue(D.ROUND_DOWN).toNumber();return Math.min(k,B)},w=C=>`number.human.storage_units.units.${c?"byte":C[O]}`,O=p(i,kh);c?l=i.integerValue():l=new D(Oe(i.div(Math.pow(s,O)),{significant:r.significant,precision:r.precision,roundMode:r.roundMode}));let A=t.translate("number.human.storage_units.format",{defaultValue:"%n %u"}),_=t.translate(w(kh),{count:i.integerValue().toNumber()}),N=l.toFixed(r.precision,n);return r.stripInsignificantZeros&&(N=N.replace(/(\..*?)0+$/,"$1").replace(/\.$/,"")),A.replace("%n",N).replace("%u",_)}function Re(t){if(t instanceof Date)return t;if(typeof t=="number"){let n=new Date;return n.setTime(t),n}let e=new String(t).match(/(\d{4})-(\d{2})-(\d{2})(?:[ T](\d{2}):(\d{2}):(\d{2})(?:[.,](\d{1,3}))?)?(Z|\+00:?00)?/);if(e){let n=e.slice(1,8).map(_=>parseInt(_,10)||0);n[1]-=1;let[s,i,c,l,p,w,O]=n;return e[8]?new Date(Date.UTC(s,i,c,l,p,w,O)):new Date(s,i,c,l,p,w,O)}t.match(/([A-Z][a-z]{2}) ([A-Z][a-z]{2}) (\d+) (\d+:\d+:\d+) ([+-]\d+) (\d+)/)&&new Date().setTime(Date.parse([RegExp.$1,RegExp.$2,RegExp.$3,RegExp.$6,RegExp.$4,RegExp.$5].join(" ")));let r=new Date;return r.setTime(Date.parse(t)),r}function Kt({i18n:t,count:e,scope:r,options:n,baseScope:s}){n=Object.assign({},n);let i,c;if(typeof r=="object"&&r?i=r:i=X(t,r,n),!i)return t.missingTranslation.get(r,n);let p=t.pluralization.get(n.locale)(t,e),w=[];for(;p.length;){let O=p.shift();if(Z(i[O])){c=i[O];break}w.push(O)}return Z(c)?(n.count=e,t.interpolate(t,c,n)):t.missingTranslation.get(s.split(t.defaultSeparator).concat([w[0]]),n)}var qE={meridian:{am:"AM",pm:"PM"},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],abbrDayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],monthNames:[null,"January","February","March","April","May","June","July","August","September","October","November","December"],abbrMonthNames:[null,"Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]};function bn(t,e,r={}){let{abbrDayNames:n,dayNames:s,abbrMonthNames:i,monthNames:c,meridian:l,utc:p}=Object.assign(Object.assign({},qE),r);if(isNaN(t.getTime()))throw new Error("strftime() requires a valid date object, but received an invalid date.");let w=p?t.getUTCDay():t.getDay(),O=p?t.getUTCDate():t.getDate(),A=p?t.getUTCFullYear():t.getFullYear(),_=(p?t.getUTCMonth():t.getMonth())+1,N=p?t.getUTCHours():t.getHours(),C=N,L=N>11?"pm":"am",k=p?t.getUTCSeconds():t.getSeconds(),B=p?t.getUTCMinutes():t.getMinutes(),S=p?0:t.getTimezoneOffset(),Q=Math.floor(Math.abs(S/60)),J=Math.abs(S)-Q*60,H=(S>0?"-":"+")+(Q.toString().length<2?"0"+Q:Q)+(J.toString().length<2?"0"+J:J);return C>12?C=C-12:C===0&&(C=12),e=e.replace("%a",n[w]),e=e.replace("%A",s[w]),e=e.replace("%b",i[_]),e=e.replace("%B",c[_]),e=e.replace("%d",O.toString().padStart(2,"0")),e=e.replace("%e",O.toString()),e=e.replace("%-d",O.toString()),e=e.replace("%H",N.toString().padStart(2,"0")),e=e.replace("%-H",N.toString()),e=e.replace("%k",N.toString()),e=e.replace("%I",C.toString().padStart(2,"0")),e=e.replace("%-I",C.toString()),e=e.replace("%l",C.toString()),e=e.replace("%m",_.toString().padStart(2,"0")),e=e.replace("%-m",_.toString()),e=e.replace("%M",B.toString().padStart(2,"0")),e=e.replace("%-M",B.toString()),e=e.replace("%p",l[L]),e=e.replace("%P",l[L].toLowerCase()),e=e.replace("%S",k.toString().padStart(2,"0")),e=e.replace("%-S",k.toString()),e=e.replace("%w",w.toString()),e=e.replace("%y",A.toString().padStart(2,"0").substr(-2)),e=e.replace("%-y",A.toString().padStart(2,"0").substr(-2).replace(/^0+/,"")),e=e.replace("%Y",A.toString()),e=e.replace(/%z/i,H),e}var Rh=ge($h());var re=(t,e,r)=>r>=t&&r<=e;function xn(t,e,r,n={}){let s=n.scope||"datetime.distance_in_words",i=(ee,o=0)=>t.t(ee,{count:o,scope:s});e=Re(e),r=Re(r);let c=e.getTime()/1e3,l=r.getTime()/1e3;c>l&&([e,r,c,l]=[r,e,l,c]);let p=Math.round(l-c),w=Math.round((l-c)/60),A=w/60/24,_=Math.round(w/60),N=Math.round(A),C=Math.round(N/30);if(re(0,1,w))return n.includeSeconds?re(0,4,p)?i("less_than_x_seconds",5):re(5,9,p)?i("less_than_x_seconds",10):re(10,19,p)?i("less_than_x_seconds",20):re(20,39,p)?i("half_a_minute"):re(40,59,p)?i("less_than_x_minutes",1):i("x_minutes",1):w===0?i("less_than_x_minutes",1):i("x_minutes",w);if(re(2,44,w))return i("x_minutes",w);if(re(45,89,w))return i("about_x_hours",1);if(re(90,1439,w))return i("about_x_hours",_);if(re(1440,2519,w))return i("x_days",1);if(re(2520,43199,w))return i("x_days",N);if(re(43200,86399,w))return i("about_x_months",Math.round(w/43200));if(re(86400,525599,w))return i("x_months",C);let L=e.getFullYear();e.getMonth()+1>=3&&(L+=1);let k=r.getFullYear();r.getMonth()+1<3&&(k-=1);let B=L>k?0:(0,Rh.default)(L,k).filter(ee=>new Date(ee,1,29).getMonth()==1).length,S=525600,Q=B*1440,J=w-Q,H=Math.trunc(J/S),G=parseFloat((J/S-H).toPrecision(3));return G<.25?i("about_x_years",H):G<.75?i("over_x_years",H):i("almost_x_years",H+1)}var jE=function(t,e){e instanceof Array&&(e=e.join(t.defaultSeparator));let r=e.split(t.defaultSeparator).slice(-1)[0];return t.missingTranslationPrefix+r.replace("_"," ").replace(/([a-z])([A-Z])/g,(n,s,i)=>`${s} ${i.toLowerCase()}`)},BE=(t,e,r)=>{let n=de(t,e,r),s="locale"in r?r.locale:t.locale,i=ce(s);return`[missing "${[i=="string"?s:i,n].join(t.defaultSeparator)}" translation]`},$E=(t,e,r)=>{let n=de(t,e,r),s=[t.locale,n].join(t.defaultSeparator);throw new Error(`Missing translation: ${s}`)},lt=class{constructor(e){this.i18n=e,this.registry={},this.register("guess",jE),this.register("message",BE),this.register("error",$E)}register(e,r){this.registry[e]=r}get(e,r){var n;return this.registry[(n=r.missingBehavior)!==null&&n!==void 0?n:this.i18n.missingBehavior](this.i18n,e,r)}};var RE=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(c){c(i)})}return new(r||(r=Promise))(function(i,c){function l(O){try{w(n.next(O))}catch(A){c(A)}}function p(O){try{w(n.throw(O))}catch(A){c(A)}}function w(O){O.done?i(O.value):s(O.value).then(l,p)}w((n=n.apply(t,e||[])).next())})},yn={defaultLocale:"en",locale:"en",defaultSeparator:".",placeholder:/(?:\{\{|%\{)(.*?)(?:\}\}?)/gm,enableFallback:!1,missingBehavior:"message",missingTranslationPrefix:"",missingPlaceholder:(t,e)=>`[missing "${e}" value]`,nullPlaceholder:(t,e,r,n)=>t.missingPlaceholder(t,e,r,n),transformKey:t=>t},ht=class{constructor(e={},r={}){this._locale=yn.locale,this._defaultLocale=yn.defaultLocale,this._version=0,this.onChangeHandlers=[],this.translations={},this.t=this.translate,this.p=this.pluralize,this.l=this.localize,this.distanceOfTimeInWords=this.timeAgoInWords;let{locale:n,enableFallback:s,missingBehavior:i,missingTranslationPrefix:c,missingPlaceholder:l,nullPlaceholder:p,defaultLocale:w,defaultSeparator:O,placeholder:A,transformKey:_}=Object.assign(Object.assign({},yn),r);this.locale=n,this.defaultLocale=w,this.defaultSeparator=O,this.enableFallback=s,this.locale=n,this.missingBehavior=i,this.missingTranslationPrefix=c,this.missingPlaceholder=l,this.nullPlaceholder=p,this.placeholder=A,this.pluralization=new at(this),this.locales=new ot(this),this.missingTranslation=new lt(this),this.transformKey=_,this.interpolate=ut,this.store(e)}store(e){(0,zh.default)(this.translations,e),this.hasChanged()}get locale(){return this._locale||this.defaultLocale||"en"}set locale(e){if(typeof e!="string")throw new Error(`Expected newLocale to be a string; got ${ce(e)}`);let r=this._locale!==e;this._locale=e,r&&this.hasChanged()}get defaultLocale(){return this._defaultLocale||"en"}set defaultLocale(e){if(typeof e!="string")throw new Error(`Expected newLocale to be a string; got ${ce(e)}`);let r=this._defaultLocale!==e;this._defaultLocale=e,r&&this.hasChanged()}translate(e,r){r=Object.assign({},r);let n=Wr(this,e,r),s;return n.some(c=>(Z(c.scope)?s=X(this,c.scope,r):Z(c.message)&&(s=c.message),s!=null))?(typeof s=="string"?s=this.interpolate(this,s,r):typeof s=="object"&&s&&Z(r.count)&&(s=Kt({i18n:this,count:r.count||0,scope:s,options:r,baseScope:de(this,e,r)})),r&&s instanceof Array&&(s=s.map(c=>typeof c=="string"?ut(this,c,r):c)),s):this.missingTranslation.get(e,r)}pluralize(e,r,n){return Kt({i18n:this,count:e,scope:r,options:Object.assign({},n),baseScope:de(this,r,n??{})})}localize(e,r,n){if(n=Object.assign({},n),r==null)return"";switch(e){case"currency":return this.numberToCurrency(r);case"number":return Te(r,Object.assign({delimiter:",",precision:3,separator:".",significant:!1,stripInsignificantZeros:!1},X(this,"number.format")));case"percentage":return this.numberToPercentage(r);default:{let s;return e.match(/^(date|time)/)?s=this.toTime(e,r):s=r.toString(),ut(this,s,n)}}}toTime(e,r){let n=Re(r),s=X(this,e);return n.toString().match(/invalid/i)||!s?n.toString():this.strftime(n,s)}numberToCurrency(e,r={}){return Te(e,Object.assign(Object.assign(Object.assign({delimiter:",",format:"%u%n",precision:2,separator:".",significant:!1,stripInsignificantZeros:!1,unit:"$"},te(this.get("number.format"))),te(this.get("number.currency.format"))),r))}numberToPercentage(e,r={}){return Te(e,Object.assign(Object.assign(Object.assign({delimiter:"",format:"%n%",precision:3,stripInsignificantZeros:!1,separator:".",significant:!1},te(this.get("number.format"))),te(this.get("number.percentage.format"))),r))}numberToHumanSize(e,r={}){return mn(this,e,Object.assign(Object.assign(Object.assign({delimiter:"",precision:3,significant:!0,stripInsignificantZeros:!0,units:{billion:"Billion",million:"Million",quadrillion:"Quadrillion",thousand:"Thousand",trillion:"Trillion",unit:""}},te(this.get("number.human.format"))),te(this.get("number.human.storage_units"))),r))}numberToHuman(e,r={}){return gn(this,e,Object.assign(Object.assign(Object.assign({delimiter:"",separator:".",precision:3,significant:!0,stripInsignificantZeros:!0,format:"%n %u",roundMode:"default",units:{billion:"Billion",million:"Million",quadrillion:"Quadrillion",thousand:"Thousand",trillion:"Trillion",unit:""}},te(this.get("number.human.format"))),te(this.get("number.human.decimal_units"))),r))}numberToRounded(e,r){return Te(e,Object.assign({unit:"",precision:3,significant:!1,separator:".",delimiter:"",stripInsignificantZeros:!1},r))}numberToDelimited(e,r={}){return Qr(e,Object.assign({delimiterPattern:/(\d)(?=(\d\d\d)+(?!\d))/g,delimiter:",",separator:"."},r))}withLocale(e,r){return RE(this,void 0,void 0,function*(){let n=this.locale;try{this.locale=e,yield r()}finally{this.locale=n}})}strftime(e,r,n={}){return bn(e,r,Object.assign(Object.assign(Object.assign({},te(X(this,"date"))),{meridian:{am:X(this,"time.am")||"AM",pm:X(this,"time.pm")||"PM"}}),n))}update(e,r,n={strict:!1}){if(n.strict&&!(0,Vh.default)(this.translations,e))throw new Error(`The path "${e}" is not currently defined`);let s=(0,Uh.default)(this.translations,e),i=ce(s),c=ce(r);if(n.strict&&i!==c)throw new Error(`The current type for "${e}" is "${i}", but you're trying to override it with "${c}"`);let l;c==="object"?l=Object.assign(Object.assign({},s),r):l=r;let p=e.split(this.defaultSeparator),w=p.pop(),O=this.translations;for(let A of p)O[A]||(O[A]={}),O=O[A];O[w]=l,this.hasChanged()}toSentence(e,r={}){let{wordsConnector:n,twoWordsConnector:s,lastWordConnector:i}=Object.assign(Object.assign({wordsConnector:", ",twoWordsConnector:" and ",lastWordConnector:", and "},te(X(this,"support.array"))),r),c=e.length;switch(c){case 0:return"";case 1:return`${e[0]}`;case 2:return e.join(s);default:return[e.slice(0,c-1).join(n),i,e[c-1]].join("")}}timeAgoInWords(e,r,n={}){return xn(this,e,r,n)}onChange(e){return this.onChangeHandlers.push(e),()=>{this.onChangeHandlers.splice(this.onChangeHandlers.indexOf(e),1)}}get version(){return this._version}formatNumber(e,r={}){return r=Object.assign(Object.assign({delimiter:",",precision:3,separator:".",unit:"",format:"%u%n",significant:!1,stripInsignificantZeros:!1},te(this.get("number.format"))),r),Te(e,r)}get(e){return X(this,e)}runCallbacks(){this.onChangeHandlers.forEach(e=>e(this))}hasChanged(){this._version+=1,this.runCallbacks()}};var Kh={page_not_found:{"404":"404",title:"Page not found :(",description:"The requested page could not be found."},character:{title:"Character",inputs:{player_name:"Player name",character:{name:"Name",race:"Race",class:"Class",level:"Level",background:"Background",alignment:"Alignment",experience_points:"XP"}}},stats:{hp:{title:"Hit points",current:"Current",temporary:"Temp",maximum:"Max"},hit_dice:{title:"Hit dice",label:"Dice",spent:"Spent",maximum:"Max"},death_saves:{title:"Death saves",successes:"Successes:",failures:"Failures:"},armor_class:"Armor class",initiative:"Initiative",speed:"Speed",passive_perception:"Passive perception",proficiency_bonus:"Proficiency bonus",inspiration:"Heroic inspiration"},specs:{modifier:"Modifier",score:"Score",saving_throw:"Saving throw",names:{strength:"Strength",dexterity:"Dexterity",constitution:"Constitution",intelligence:"Intelligence",wisdom:"Wisdom",charisma:"Charisma"},abilities:{names:{athletics:"Athletics",acrobatics:"Acrobatics",sleight_of_hand:"Sleight of hand",stealth:"Stealth",arcana:"Arcana",history:"History",investigation:"Investigation",nature:"Nature",religion:"Religion",animal_handling:"Animal handling",insight:"Insight",medicine:"Medicine",perception:"Perception",survival:"Survival",deception:"Deception",intimidation:"Intimidation",performance:"Performance",persuasion:"Persuasion"}}},weapons:{title:"Weapons",items:{name:"Name",attack_bonus:"Atk bonus",damage:"Damage",damage_type:"Damage type"},weapons_amount:"Weapons amount",notes:{title:"Weapon notes"}},spellcasting:{stats:{title:"Spellcasting",spellcasting_ability:"Ability",spellcasting_modifier:"Modifier",spell_save_dc:"Save DC",spell_atack_bonus:"Atk bonus"},spell_slots:{title:"Spell slots",level:"Level",total:"Total"},spells:{title:"Spells & Cantrips",items:{level:"Level",name:"Name",concentration:"Concentration",ritual:"Ritual",components:{title:"Materials",verbal:"V",somatic:"S",material:"M"},notes:"Notes"},spells_amount:"Spells amount"}},proficiencies:{title:"Proficiencies",armor_training:{title:"Armor training",light:"Light",medium:"Medium",heavy:"Heavy",shields:"Shields"},weapons:"Weapons",tools:"Tools",languages:"Languages"},inventory:{title:"Inventory",weight:"Weight",max_weight:"Max weight"},coins:{title:"Coins",types:{cp:"CP",sp:"SP",ep:"EP",gp:"GP",pp:"PP"}},features_traits_feats:{title:"Features, traits & feats"},backstory_and_appearance:{title:"Backstory and appearance",appearance:"Appearance",backstory:"Backstory"},notes:{title:"For notes"}};var Hh={page_not_found:{"404":"404",title:"\u0421\u0442\u043E\u0440\u0456\u043D\u043A\u0443 \u043D\u0435 \u0437\u043D\u0430\u0439\u0434\u0435\u043D\u043E :(",description:"\u0417\u0430\u043F\u0438\u0442\u0430\u043D\u0443 \u0441\u0442\u043E\u0440\u0456\u043D\u043A\u0443 \u043D\u0435 \u0437\u043D\u0430\u0439\u0434\u0435\u043D\u043E."},character:{title:"\u041F\u0435\u0440\u0441\u043E\u043D\u0430\u0436",inputs:{player_name:"\u0406\u043C\u2019\u044F \u0433\u0440\u0430\u0432\u0446\u044F",character:{name:"\u0406\u043C\u2019\u044F",race:"\u0420\u0430\u0441\u0430",class:"\u041A\u043B\u0430\u0441",level:"\u0420\u0456\u0432\u0435\u043D\u044C",background:"\u041F\u0435\u0440\u0435\u0434\u0456\u0441\u0442\u043E\u0440\u0456\u044F",alignment:"\u0421\u0432\u0456\u0442\u043E\u0433\u043B\u044F\u0434",experience_points:"\u0414\u043E\u0441\u0432\u0456\u0434"}}},stats:{hp:{title:"\u041E\u0447\u043A\u0438 \u0437\u0434\u043E\u0440\u043E\u0432\u2019\u044F",current:"\u041F\u043E\u0442\u043E\u0447\u043D\u0456",temporary:"\u0422\u0438\u043C\u0447\u0430\u0441\u043E\u0432\u0456",maximum:"\u041C\u0430\u043A\u0441\u0438\u043C\u0443\u043C"},hit_dice:{title:"\u041A\u0456\u0441\u0442\u043A\u0438 \u0437\u0434\u043E\u0440\u043E\u0432\u2019\u044F",label:"\u041A\u0456\u0441\u0442\u043A\u0438",spent:"\u0412\u0438\u0442\u0440\u0430\u0447\u0435\u043D\u043E",maximum:"\u041C\u0430\u043A\u0441\u0438\u043C\u0443\u043C"},death_saves:{title:"\u0420\u044F\u0442\u043A\u0438\u0434\u043A\u0438 \u0432\u0456\u0434 \u0441\u043C\u0435\u0440\u0442\u0456",successes:"\u0423\u0441\u043F\u0456\u0445\u0438:",failures:"\u041D\u0435\u0432\u0434\u0430\u0447\u0456:"},armor_class:"\u041A\u043B\u0430\u0441 \u0431\u0440\u043E\u043D\u0456",initiative:"\u0406\u043D\u0456\u0446\u0456\u0430\u0442\u0438\u0432\u0430",speed:"\u0428\u0432\u0438\u0434\u043A\u0456\u0441\u0442\u044C",passive_perception:"\u041F\u0430\u0441\u0438\u0432\u043D\u0430 \u0443\u0432\u0430\u0436\u043D\u0456\u0441\u0442\u044C",proficiency_bonus:"\u0411\u043E\u043D\u0443\u0441 \u043C\u0430\u0439\u0441\u0442\u0435\u0440\u043D\u043E\u0441\u0442\u0456",inspiration:"\u0413\u0435\u0440\u043E\u0457\u0447\u043D\u0435 \u043D\u0430\u0442\u0445\u043D\u0435\u043D\u043D\u044F"},specs:{modifier:"\u041C\u043E\u0434\u0438\u0444\u0456\u043A\u0430\u0442\u043E\u0440",score:"\u0417\u043D\u0430\u0447\u0435\u043D\u043D\u044F",saving_throw:"\u0420\u044F\u0442\u043A\u0438\u0434\u043E\u043A",names:{strength:"\u0421\u0438\u043B\u0430",dexterity:"\u0421\u043F\u0440\u0438\u0442\u043D\u0456\u0441\u0442\u044C",constitution:"\u0412\u0438\u0442\u0440\u0438\u0432\u0430\u043B\u0456\u0441\u0442\u044C",intelligence:"\u0406\u043D\u0442\u0435\u043B\u0435\u043A\u0442",wisdom:"\u041C\u0443\u0434\u0440\u0456\u0441\u0442\u044C",charisma:"\u0425\u0430\u0440\u0438\u0437\u043C\u0430"},abilities:{names:{athletics:"\u0410\u0442\u043B\u0435\u0442\u0438\u043A\u0430",acrobatics:"\u0410\u043A\u0440\u043E\u0431\u0430\u0442\u0438\u043A\u0430",sleight_of_hand:"\u0421\u043F\u0440\u0438\u0442\u043D\u0456\u0441\u0442\u044C \u0440\u0443\u043A",stealth:"\u041D\u0435\u043F\u043E\u043C\u0456\u0442\u043D\u0456\u0441\u0442\u044C",arcana:"\u041C\u0430\u0433\u0456\u044F",history:"\u0406\u0441\u0442\u043E\u0440\u0456\u044F",investigation:"\u0420\u043E\u0437\u0441\u043B\u0456\u0434\u0443\u0432\u0430\u043D\u043D\u044F",nature:"\u041F\u0440\u0438\u0440\u043E\u0434\u0430",religion:"\u0420\u0435\u043B\u0456\u0433\u0456\u044F",animal_handling:"\u0414\u043E\u0433\u043B\u044F\u0434 \u0437\u0430 \u0442\u0432\u0430\u0440\u0438\u043D\u0430\u043C\u0438",insight:"\u041A\u043C\u0456\u0442\u043B\u0438\u0432\u0456\u0441\u0442\u044C",medicine:"\u041C\u0435\u0434\u0438\u0446\u0438\u043D\u0430",perception:"\u0423\u0432\u0430\u0436\u043D\u0456\u0441\u0442\u044C",survival:"\u0412\u0438\u0436\u0438\u0432\u0430\u043D\u043D\u044F",deception:"\u041E\u0431\u043C\u0430\u043D",intimidation:"\u0417\u0430\u043B\u044F\u043A\u0443\u0432\u0430\u043D\u043D\u044F",performance:"\u0412\u0438\u0441\u0442\u0443\u043F",persuasion:"\u041F\u0435\u0440\u0435\u043A\u043E\u043D\u0430\u043D\u043D\u044F"}}},weapons:{title:"\u0417\u0431\u0440\u043E\u044F",items:{name:"\u041D\u0430\u0437\u0432\u0430",attack_bonus:"\u0411\u043E\u043D\u0443\u0441 \u0430\u0442\u0430\u043A\u0438",damage:"\u0428\u043A\u043E\u0434\u0430",damage_type:"\u0422\u0438\u043F \u0448\u043A\u043E\u0434\u0438"},weapons_amount:"\u041A\u0456\u043B\u044C\u043A\u0456\u0441\u0442\u044C \u0437\u0431\u0440\u043E\u0457",notes:{title:"\u041F\u0440\u0438\u043C\u0456\u0442\u043A\u0438 \u0434\u043E \u0437\u0431\u0440\u043E\u0457"}},spellcasting:{stats:{title:"\u0427\u0430\u043A\u043B\u0443\u043D\u0441\u0442\u0432\u043E",spellcasting_ability:"\u0425\u0430\u0440\u0430\u043A\u0442\u0435\u0440\u0438\u0441\u0442\u0438\u043A\u0430",spellcasting_modifier:"\u041C\u043E\u0434\u0438\u0444\u0456\u043A\u0430\u0442\u043E\u0440",spell_save_dc:"C\u043A \u0440\u044F\u0442\u043A\u0438\u0434\u043A\u0443",spell_atack_bonus:"\u0411\u043E\u043D\u0443\u0441 \u0430\u0442\u0430\u043A\u0438"},spell_slots:{title:"\u041A\u043E\u043C\u0456\u0440\u043A\u0438 \u0437\u0430\u043A\u043B\u044F\u0442\u044C",level:"\u0420\u0456\u0432\u0435\u043D\u044C",total:"\u0423\u0441\u044C\u043E\u0433\u043E"},spells:{title:"\u0417\u0430\u043A\u043B\u044F\u0442\u0442\u044F \u0442\u0430 \u0437\u0430\u043C\u043E\u0432\u043B\u044F\u043D\u043D\u044F",items:{level:"\u0420\u0456\u0432\u0435\u043D\u044C",name:"\u041D\u0430\u0437\u0432\u0430",concentration:"\u041A\u043E\u043D\u0446\u0435\u043D\u0442\u0440\u0430\u0446\u0456\u044F",ritual:"\u0420\u0438\u0442\u0443\u0430\u043B",components:{title:"\u041A\u043E\u043C\u043F\u043E\u043D\u0435\u043D\u0442\u0438",verbal:"\u0412",somatic:"\u0421",material:"\u041C"},notes:"\u041F\u0440\u0438\u043C\u0456\u0442\u043A\u0438"},spells_amount:"\u041A\u0456\u043B\u044C\u043A\u0456\u0441\u0442\u044C \u0437\u0430\u043A\u043B\u044F\u0442\u044C"}},proficiencies:{title:"\u0412\u043E\u043B\u043E\u0434\u0456\u043D\u043D\u044F",armor_training:{title:"\u0412\u043E\u043B\u043E\u0434\u0456\u043D\u043D\u044F \u0431\u0440\u043E\u043D\u0435\u044E",light:"\u041B\u0435\u0433\u043A\u0430",medium:"\u0421\u0435\u0440\u0435\u0434\u043D\u044F",heavy:"\u0412\u0430\u0436\u043A\u0430",shields:"\u0429\u0438\u0442\u0438"},weapons:"\u0417\u0431\u0440\u043E\u044F",tools:"\u0406\u043D\u0441\u0442\u0440\u0443\u043C\u0435\u043D\u0442\u0438",languages:"\u041C\u043E\u0432\u0438"},inventory:{title:"\u0406\u043D\u0432\u0435\u043D\u0442\u0430\u0440",weight:"\u0412\u0430\u0433\u0430",max_weight:"\u041C\u0430\u043A\u0441. \u0432\u0430\u0433\u0430"},coins:{title:"\u041C\u043E\u043D\u0435\u0442\u0438",types:{cp:"\u041C\u041C",sp:"\u0421\u041C",ep:"\u0415\u041C",gp:"\u0417\u041C",pp:"\u041F\u041C"}},features_traits_feats:{title:"\u041E\u0441\u043E\u0431\u043B\u0438\u0432\u043E\u0441\u0442\u0456, \u0440\u0438\u0441\u0438 \u0442\u0430 \u0434\u043E\u0441\u044F\u0433\u043D\u0435\u043D\u043D\u044F"},backstory_and_appearance:{title:"\u041F\u0435\u0440\u0435\u0434\u0456\u0441\u0442\u043E\u0440\u0456\u044F \u0442\u0430 \u0437\u043E\u0432\u043D\u0456\u0448\u043D\u0456\u0441\u0442\u044C",appearance:"\u0417\u043E\u0432\u043D\u0456\u0448\u043D\u0456\u0441\u0442\u044C",backstory:"\u041F\u0435\u0440\u0435\u0434\u0456\u0441\u0442\u043E\u0440\u0456\u044F"},notes:{title:"\u041D\u043E\u0442\u0430\u0442\u043A\u0438"}};var Gh={page_not_found:{"404":"404",title:"\u0421\u0442\u0440\u0430\u043D\u0438\u0446\u0430 \u043D\u0435 \u043D\u0430\u0439\u0434\u0435\u043D\u0430 :(",description:"\u0417\u0430\u043F\u0440\u0430\u0448\u0438\u0432\u0430\u0435\u043C\u0430\u044F \u0441\u0442\u0440\u0430\u043D\u0438\u0446\u0430 \u043D\u0435 \u043D\u0430\u0439\u0434\u0435\u043D\u0430."},character:{title:"\u041F\u0435\u0440\u0441\u043E\u043D\u0430\u0436",inputs:{player_name:"\u0418\u043C\u044F \u0438\u0433\u0440\u043E\u043A\u0430",character:{name:"\u0418\u043C\u044F",race:"\u0420\u0430\u0441\u0430",class:"\u041A\u043B\u0430\u0441\u0441",level:"\u0423\u0440\u043E\u0432\u0435\u043D\u044C",background:"\u041F\u0440\u0435\u0434\u044B\u0441\u0442\u043E\u0440\u0438\u044F",alignment:"\u041C\u0438\u0440\u043E\u0432\u043E\u0437\u0437\u0440\u0435\u043D\u0438\u0435",experience_points:"\u041E\u043F\u044B\u0442"}}},stats:{hp:{title:"\u041E\u0447\u043A\u0438 \u0437\u0434\u043E\u0440\u043E\u0432\u044C\u044F",current:"\u0422\u0435\u043A\u0443\u0449\u0438\u0435",temporary:"\u0412\u0440\u0435\u043C\u0435\u043D\u043D\u044B\u0435",maximum:"\u041C\u0430\u043A\u0441\u0438\u043C\u0443\u043C"},hit_dice:{title:"\u041A\u043E\u0441\u0442\u0438 \u0437\u0434\u043E\u0440\u043E\u0432\u044C\u044F",label:"\u041A\u043E\u0441\u0442\u0438",spent:"\u041F\u043E\u0442\u0440\u0430\u0447\u0435\u043D\u043E",maximum:"\u041C\u0430\u043A\u0441\u0438\u043C\u0443\u043C"},death_saves:{title:"\u0421\u043F\u0430\u0441\u0431\u0440\u043E\u0441\u043A\u0438 \u043E\u0442 \u0441\u043C\u0435\u0440\u0442\u0438",successes:"\u0423\u0441\u043F\u0435\u0445\u0438:",failures:"\u041F\u0440\u043E\u0432\u0430\u043B\u044B:"},armor_class:"\u041A\u043B\u0430\u0441\u0441 \u0434\u043E\u0441\u043F\u0435\u0445\u0430",initiative:"\u0418\u043D\u0438\u0446\u0438\u0430\u0442\u0438\u0432\u0430",speed:"\u0421\u043A\u043E\u0440\u043E\u0441\u0442\u044C",passive_perception:"\u041F\u0430\u0441\u0441\u0438\u0432\u043D\u043E\u0435 \u0432\u043E\u0441\u043F\u0440\u0438\u044F\u0442\u0438\u0435",proficiency_bonus:"\u0411\u043E\u043D\u0443\u0441 \u043C\u0430\u0441\u0442\u0435\u0440\u0441\u0442\u0432\u0430",inspiration:"\u0413\u0435\u0440\u043E\u0438\u0447\u0435\u0441\u043A\u043E\u0435 \u0432\u0434\u043E\u0445\u043D\u043E\u0432\u0435\u043D\u0438\u0435"},specs:{modifier:"\u041C\u043E\u0434\u0438\u0444\u0438\u043A\u0430\u0442\u043E\u0440",score:"\u0417\u043D\u0430\u0447\u0435\u043D\u0438\u0435",saving_throw:"\u0421\u043F\u0430\u0441\u0431\u0440\u043E\u0441\u043E\u043A",names:{strength:"\u0421\u0438\u043B\u0430",dexterity:"\u041B\u043E\u0432\u043A\u043E\u0441\u0442\u044C",constitution:"\u0422\u0435\u043B\u043E\u0441\u043B\u043E\u0436\u0435\u043D\u0438\u0435",intelligence:"\u0418\u043D\u0442\u0435\u043B\u043B\u0435\u043A\u0442",wisdom:"\u041C\u0443\u0434\u0440\u043E\u0441\u0442\u044C",charisma:"\u0425\u0430\u0440\u0438\u0437\u043C\u0430"},abilities:{names:{athletics:"\u0410\u0442\u043B\u0435\u0442\u0438\u043A\u0430",acrobatics:"\u0410\u043A\u0440\u043E\u0431\u0430\u0442\u0438\u043A\u0430",sleight_of_hand:"\u041B\u043E\u0432\u043A\u043E\u0441\u0442\u044C \u0440\u0443\u043A",stealth:"\u0421\u043A\u0440\u044B\u0442\u043D\u043E\u0441\u0442\u044C",arcana:"\u041C\u0430\u0433\u0438\u044F",history:"\u0418\u0441\u0442\u043E\u0440\u0438\u044F",investigation:"\u0420\u0430\u0441\u0441\u043B\u0435\u0434\u043E\u0432\u0430\u043D\u0438\u0435",nature:"\u041F\u0440\u0438\u0440\u043E\u0434\u0430",religion:"\u0420\u0435\u043B\u0438\u0433\u0438\u044F",animal_handling:"\u0423\u0445\u043E\u0434 \u0437\u0430 \u0436\u0438\u0432\u043E\u0442\u043D\u044B\u043C\u0438",insight:"\u041F\u0440\u043E\u043D\u0438\u0446\u0430\u0442\u0435\u043B\u044C\u043D\u043E\u0441\u0442\u044C",medicine:"\u041C\u0435\u0434\u0438\u0446\u0438\u043D\u0430",perception:"\u0412\u043E\u0441\u043F\u0440\u0438\u044F\u0442\u0438\u0435",survival:"\u0412\u044B\u0436\u0438\u0432\u0430\u043D\u0438\u0435",deception:"\u041E\u0431\u043C\u0430\u043D",intimidation:"\u0417\u0430\u043F\u0443\u0433\u0438\u0432\u0430\u043D\u0438\u0435",performance:"\u0412\u044B\u0441\u0442\u0443\u043F\u043B\u0435\u043D\u0438\u0435",persuasion:"\u0423\u0431\u0435\u0436\u0434\u0435\u043D\u0438\u0435"}}},weapons:{title:"\u041E\u0440\u0443\u0436\u0438\u0435",items:{name:"\u041D\u0430\u0437\u0432\u0430\u043D\u0438\u0435",attack_bonus:"\u0411\u043E\u043D\u0443\u0441 \u0430\u0442\u0430\u043A\u0438",damage:"\u0423\u0440\u043E\u043D",damage_type:"\u0422\u0438\u043F \u0443\u0440\u043E\u043D\u0430"},weapons_amount:"\u041A\u043E\u043B\u0438\u0447\u0435\u0441\u0442\u0432\u043E \u043E\u0440\u0443\u0436\u0438\u044F",notes:{title:"\u041F\u0440\u0438\u043C\u0435\u0447\u0430\u043D\u0438\u044F \u043A \u043E\u0440\u0443\u0436\u0438\u044E"}},spellcasting:{stats:{title:"\u041C\u0430\u0433\u0438\u044F",spellcasting_ability:"\u0425\u0430\u0440\u0430\u043A\u0442\u0435\u0440\u0438\u0441\u0442\u0438\u043A\u0430",spellcasting_modifier:"\u041C\u043E\u0434\u0438\u0444\u0438\u043A\u0430\u0442\u043E\u0440",spell_save_dc:"\u0421\u043B \u0441\u043F\u0430\u0441\u0431\u0440\u043E\u0441\u043A\u0430",spell_atack_bonus:"\u0411\u043E\u043D\u0443\u0441 \u0430\u0442\u0430\u043A\u0438"},spell_slots:{title:"\u042F\u0447\u0435\u0439\u043A\u0438 \u0437\u0430\u043A\u043B\u0438\u043D\u0430\u043D\u0438\u0439",level:"\u0423\u0440\u043E\u0432\u0435\u043D\u044C",total:"\u0412\u0441\u0435\u0433\u043E"},spells:{title:"\u0417\u0430\u043A\u043B\u0438\u043D\u0430\u043D\u0438\u044F \u0438 \u0437\u0430\u0433\u043E\u0432\u043E\u0440\u044B",items:{level:"\u0423\u0440\u043E\u0432\u0435\u043D\u044C",name:"\u041D\u0430\u0437\u0432\u0430\u043D\u0438\u0435",concentration:"\u041A\u043E\u043D\u0446\u0435\u043D\u0442\u0440\u0430\u0446\u0438\u044F",ritual:"\u0420\u0438\u0442\u0443\u0430\u043B",components:{title:"\u041A\u043E\u043C\u043F\u043E\u043D\u0435\u043D\u0442\u044B",verbal:"\u0412",somatic:"\u0421",material:"\u041C"},notes:"\u041F\u0440\u0438\u043C\u0435\u0447\u0430\u043D\u0438\u044F"},spells_amount:"\u041A\u043E\u043B\u0438\u0447\u0435\u0441\u0442\u0432\u043E \u0437\u0430\u043A\u043B\u0438\u043D\u0430\u043D\u0438\u0439"}},proficiencies:{title:"\u0412\u043B\u0430\u0434\u0435\u043D\u0438\u044F",armor_training:{title:"\u0412\u043B\u0430\u0434\u0435\u043D\u0438\u0435 \u0434\u043E\u0441\u043F\u0435\u0445\u0430\u043C\u0438",light:"\u041B\u0451\u0433\u043A\u0438\u0435",medium:"\u0421\u0440\u0435\u0434\u043D\u0438\u0435",heavy:"\u0422\u044F\u0436\u0451\u043B\u044B\u0435",shields:"\u0429\u0438\u0442\u044B"},weapons:"\u041E\u0440\u0443\u0436\u0438\u0435",tools:"\u0418\u043D\u0441\u0442\u0440\u0443\u043C\u0435\u043D\u0442\u044B",languages:"\u042F\u0437\u044B\u043A\u0438"},inventory:{title:"\u0418\u043D\u0432\u0435\u043D\u0442\u0430\u0440\u044C",weight:"\u0412\u0435\u0441",max_weight:"\u041C\u0430\u043A\u0441. \u0432\u0435\u0441"},coins:{title:"\u041C\u043E\u043D\u0435\u0442\u044B",types:{cp:"\u041C\u041C",sp:"\u0421\u041C",ep:"\u042D\u041C",gp:"\u0417\u041C",pp:"\u041F\u041C"}},features_traits_feats:{title:"\u0427\u0435\u0440\u0442\u044B, \u043E\u0441\u043E\u0431\u0435\u043D\u043D\u043E\u0441\u0442\u0438 \u0438 \u043F\u043E\u0434\u0432\u0438\u0433\u0438"},backstory_and_appearance:{title:"\u041F\u0440\u0435\u0434\u044B\u0441\u0442\u043E\u0440\u0438\u044F \u0438 \u0432\u043D\u0435\u0448\u043D\u043E\u0441\u0442\u044C",appearance:"\u0412\u043D\u0435\u0448\u043D\u043E\u0441\u0442\u044C",backstory:"\u041F\u0440\u0435\u0434\u044B\u0441\u0442\u043E\u0440\u0438\u044F"},notes:{title:"\u0417\u0430\u043C\u0435\u0442\u043A\u0438"}};var ue=class extends le{};var KE={expires:400,suffix:!0};function Ht(t){return t.replace(/(?:[_-])([a-z0-9])/g,(e,r)=>r.toUpperCase())}var Ue=(t,e={})=>{let{expires:r,suffix:n,prefix:s}=Object.assign({},KE,e),i=w=>Ht(s?`${s}_${w}`:w),c=w=>n?`${Ht(w)}Cookie`:Ht(w),l=w=>{let O=i(w),A=c(w);Object.defineProperty(t,A,{get(){let N=document.cookie.split(";").map(C=>C.trim()).find(C=>C.startsWith(O+"="));return N?N.split("=")[1]:void 0},set(_){if(_===null)return WE(O);let N=typeof _=="string"?_:_.value,C=HE(O+"="+N);GE(C,r)}})};t.constructor.cookieNames?.forEach(w=>{l(w)})};function HE(t){let[e,r]=t.split("=");return{name:e,value:r}}function GE(t,e){let{name:r,value:n,expires:s=e}=t,i=new Date(new Date().getTime()+s*24*60*60*1e3).toUTCString();document.cookie=`${r}=${n};expires=${i};`}function WE(t){document.cookie=`${t}=; expires=Thu, 01 Jan 1970 00:00:00 UTC;`}var Gt=["en","ua","ru"],ft=class extends ue{static targets=["toggle","translation"];static classes=["toggled"];static cookieNames=["locale"];connect(){Ue(this),this.i18n=new ht({en:Kh,ua:Hh,ru:Gh}),this._setLocale(this.localeCookie||Gt[0]),this._toggleLocale()}toggle(){let t=Gt.indexOf(this.localeCookie),e=t+1<Gt.length?t+1:0;this._setLocale(Gt[e]),this.toggleTarget.classList.toggle(this.toggledClass,!this.toggleTarget.classList.contains(this.toggledClass)),this._toggleLocale()}_setLocale(t){this.localeCookie=t,this.i18n.locale=t}_toggleLocale(){this.translationTargets.forEach(t=>{t.innerHTML=this.i18n.t(t.dataset.t)})}};var dt=class extends ue{static targets=["state"];static values={states:Array,id:String,currectState:String};static classes=["hidden"];connect(){this._toggleState(this.statesValue[0])}toggle(){let t=this.statesValue.indexOf(this.currentState),e=this.statesValue[t+1<this.statesValue.length?t+1:0];this._toggleState(e),this._dispatchChangeEvent()}load({detail:{state:t}}){let e=t[this.idValue];e&&this._toggleState(e)}_toggleState(t){this.currentState=t;let e=this.statesValue.indexOf(this.currentState);this.stateTargets.forEach((r,n)=>{r.classList.toggle(this.hiddenClass,e!==n)})}_dispatchChangeEvent(){this.dispatch("change",{detail:{value:this.currentState,id:this.idValue}})}};var pt=class extends ue{static targets=["select","item"];static classes=["hidden"];static cookieNames=["itemsAmount"];static values={cookiePrefix:String};connect(){Ue(this,{prefix:this.cookiePrefixValue}),this.itemsAmountCookie===void 0?this.itemsAmountCookie=this.selectTarget.value:this.selectTarget.value=this.itemsAmountCookie,this._updateItems()}update(){this.itemsAmountCookie=this.selectTarget.value,this._updateItems()}_updateItems(){let t=Number(this.itemsAmountCookie);this.itemTargets.forEach((e,r)=>{e.classList.toggle(this.hiddenClass,r>=t)})}};var wn=class extends le{};wn.debounces=[];var ZE=200,Wh=(t,e=ZE)=>{let r=null;return function(){let n=Array.from(arguments),s=this,i=n.map(l=>l.params),c=()=>(n.forEach((l,p)=>l.params=i[p]),t.apply(s,n));r&&clearTimeout(r),r=setTimeout(c,e)}},Zh=(t,e)=>{let r=t;r.constructor.debounces.forEach(s=>{if(typeof s=="string"&&(r[s]=Wh(r[s],e?.wait)),typeof s=="object"){let{name:i,wait:c}=s;if(!i)return;r[i]=Wh(r[i],c||e?.wait)}})};var On=class extends le{};On.throttles=[];var Xh=ge(Jh()),Yh="state",gt=class extends ue{static targets=["input"];static debounces=[{name:"save",wait:500}];connect(){Zh(this),this._load()}save({target:t,detail:e}){let r=e||t;this.state[r.id]=r.value;let n=JSON.stringify(this.state);window.localStorage.setItem(Yh,n)}export(){let t=new Blob([JSON.stringify(this.state,void 0,2)],{type:"plain/text;charset=utf-8"});(0,Xh.saveAs)(t,"character.json")}_load(){let t=window.localStorage.getItem(Yh);this.state=t?JSON.parse(t):{},this.inputTargets.forEach(e=>{let r=this.state[e.id];r&&(e.value=r)}),setTimeout(()=>this.dispatch("loaded",{detail:{state:this.state},bubbles:!0}))}};var mt={enabled:"true",disabled:"false"},JE="meta[name=theme-color]",Qh={dark:"#27272a",light:"#f5f5f5"},bt=class extends ue{static targets=["body","toggle"];static classes=["darkMode","darkModeEnabled"];static cookieNames=["darkMode"];connect(){Ue(this),this.darkModeCookie===void 0&&(this.darkModeCookie=mt.enabled),this._toggleDarkMode()}toggle(){this.darkModeCookie=this.darkModeCookie===mt.enabled?mt.disabled:mt.enabled,this._toggleDarkMode()}_toggleDarkMode(){let t=this.darkModeCookie===mt.enabled;this.bodyTarget.classList.toggle(this.darkModeClass,t),this.toggleTarget.classList.toggle(this.darkModeEnabledClass,t);let e=document.querySelector(JE);e.content=t?Qh.dark:Qh.light}};window.Stimulus=At.start();window.Stimulus.register("theme",bt);window.Stimulus.register("i18n",ft);window.Stimulus.register("multi-toggle",dt);window.Stimulus.register("pagination",pt);window.Stimulus.register("state",gt);"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("sw.js",{scope:"/dcs/"})});})();
