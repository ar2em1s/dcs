(()=>{var Qf=Object.create;var Sn=Object.defineProperty;var eh=Object.getOwnPropertyDescriptor;var th=Object.getOwnPropertyNames;var rh=Object.getPrototypeOf,nh=Object.prototype.hasOwnProperty;var l=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var ih=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of th(e))!nh.call(t,i)&&i!==r&&Sn(t,i,{get:()=>e[i],enumerable:!(n=eh(e,i))||n.enumerable});return t};var de=(t,e,r)=>(r=t!=null?Qf(rh(t)):{},ih(e||!t||!t.__esModule?Sn(r,"default",{value:t,enumerable:!0}):r,t));var se=l((sS,Bn)=>{var Wh=Array.isArray;Bn.exports=Wh});var wr=l((oS,jn)=>{var Zh=typeof global=="object"&&global&&global.Object===Object&&global;jn.exports=Zh});var le=l((aS,Rn)=>{var Jh=wr(),Yh=typeof self=="object"&&self&&self.Object===Object&&self,Xh=Jh||Yh||Function("return this")();Rn.exports=Xh});var Ce=l((cS,$n)=>{var Qh=le(),ep=Qh.Symbol;$n.exports=ep});var Kn=l((uS,zn)=>{var Un=Ce(),Vn=Object.prototype,tp=Vn.hasOwnProperty,rp=Vn.toString,Ge=Un?Un.toStringTag:void 0;function np(t){var e=tp.call(t,Ge),r=t[Ge];try{t[Ge]=void 0;var n=!0}catch{}var i=rp.call(t);return n&&(e?t[Ge]=r:delete t[Ge]),i}zn.exports=np});var Gn=l((lS,Hn)=>{var ip=Object.prototype,sp=ip.toString;function op(t){return sp.call(t)}Hn.exports=op});var Ae=l((fS,Jn)=>{var Wn=Ce(),ap=Kn(),cp=Gn(),up="[object Null]",lp="[object Undefined]",Zn=Wn?Wn.toStringTag:void 0;function fp(t){return t==null?t===void 0?lp:up:Zn&&Zn in Object(t)?ap(t):cp(t)}Jn.exports=fp});var xe=l((hS,Yn)=>{function hp(t){return t!=null&&typeof t=="object"}Yn.exports=hp});var Me=l((pS,Xn)=>{var pp=Ae(),dp=xe(),gp="[object Symbol]";function mp(t){return typeof t=="symbol"||dp(t)&&pp(t)==gp}Xn.exports=mp});var Et=l((dS,Qn)=>{var vp=se(),bp=Me(),xp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,yp=/^\w*$/;function wp(t,e){if(vp(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||bp(t)?!0:yp.test(t)||!xp.test(t)||e!=null&&t in Object(e)}Qn.exports=wp});var ge=l((gS,ei)=>{function Op(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}ei.exports=Op});var Tt=l((mS,ti)=>{var Ap=Ae(),Sp=ge(),_p="[object AsyncFunction]",Ep="[object Function]",Tp="[object GeneratorFunction]",qp="[object Proxy]";function Cp(t){if(!Sp(t))return!1;var e=Ap(t);return e==Ep||e==Tp||e==_p||e==qp}ti.exports=Cp});var ni=l((vS,ri)=>{var Mp=le(),Np=Mp["__core-js_shared__"];ri.exports=Np});var oi=l((bS,si)=>{var Or=ni(),ii=function(){var t=/[^.]+$/.exec(Or&&Or.keys&&Or.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Fp(t){return!!ii&&ii in t}si.exports=Fp});var Ar=l((xS,ai)=>{var Ip=Function.prototype,kp=Ip.toString;function Lp(t){if(t!=null){try{return kp.call(t)}catch{}try{return t+""}catch{}}return""}ai.exports=Lp});var ui=l((yS,ci)=>{var Pp=Tt(),Dp=oi(),Bp=ge(),jp=Ar(),Rp=/[\\^$.*+?()[\]{}|]/g,$p=/^\[object .+?Constructor\]$/,Up=Function.prototype,Vp=Object.prototype,zp=Up.toString,Kp=Vp.hasOwnProperty,Hp=RegExp("^"+zp.call(Kp).replace(Rp,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Gp(t){if(!Bp(t)||Dp(t))return!1;var e=Pp(t)?Hp:$p;return e.test(jp(t))}ci.exports=Gp});var fi=l((wS,li)=>{function Wp(t,e){return t?.[e]}li.exports=Wp});var ye=l((OS,hi)=>{var Zp=ui(),Jp=fi();function Yp(t,e){var r=Jp(t,e);return Zp(r)?r:void 0}hi.exports=Yp});var We=l((AS,pi)=>{var Xp=ye(),Qp=Xp(Object,"create");pi.exports=Qp});var mi=l((SS,gi)=>{var di=We();function ed(){this.__data__=di?di(null):{},this.size=0}gi.exports=ed});var bi=l((_S,vi)=>{function td(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}vi.exports=td});var yi=l((ES,xi)=>{var rd=We(),nd="__lodash_hash_undefined__",id=Object.prototype,sd=id.hasOwnProperty;function od(t){var e=this.__data__;if(rd){var r=e[t];return r===nd?void 0:r}return sd.call(e,t)?e[t]:void 0}xi.exports=od});var Oi=l((TS,wi)=>{var ad=We(),cd=Object.prototype,ud=cd.hasOwnProperty;function ld(t){var e=this.__data__;return ad?e[t]!==void 0:ud.call(e,t)}wi.exports=ld});var Si=l((qS,Ai)=>{var fd=We(),hd="__lodash_hash_undefined__";function pd(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=fd&&e===void 0?hd:e,this}Ai.exports=pd});var Ei=l((CS,_i)=>{var dd=mi(),gd=bi(),md=yi(),vd=Oi(),bd=Si();function Ne(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Ne.prototype.clear=dd;Ne.prototype.delete=gd;Ne.prototype.get=md;Ne.prototype.has=vd;Ne.prototype.set=bd;_i.exports=Ne});var qi=l((MS,Ti)=>{function xd(){this.__data__=[],this.size=0}Ti.exports=xd});var Fe=l((NS,Ci)=>{function yd(t,e){return t===e||t!==t&&e!==e}Ci.exports=yd});var Ze=l((FS,Mi)=>{var wd=Fe();function Od(t,e){for(var r=t.length;r--;)if(wd(t[r][0],e))return r;return-1}Mi.exports=Od});var Fi=l((IS,Ni)=>{var Ad=Ze(),Sd=Array.prototype,_d=Sd.splice;function Ed(t){var e=this.__data__,r=Ad(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():_d.call(e,r,1),--this.size,!0}Ni.exports=Ed});var ki=l((kS,Ii)=>{var Td=Ze();function qd(t){var e=this.__data__,r=Td(e,t);return r<0?void 0:e[r][1]}Ii.exports=qd});var Pi=l((LS,Li)=>{var Cd=Ze();function Md(t){return Cd(this.__data__,t)>-1}Li.exports=Md});var Bi=l((PS,Di)=>{var Nd=Ze();function Fd(t,e){var r=this.__data__,n=Nd(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}Di.exports=Fd});var Je=l((DS,ji)=>{var Id=qi(),kd=Fi(),Ld=ki(),Pd=Pi(),Dd=Bi();function Ie(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Ie.prototype.clear=Id;Ie.prototype.delete=kd;Ie.prototype.get=Ld;Ie.prototype.has=Pd;Ie.prototype.set=Dd;ji.exports=Ie});var qt=l((BS,Ri)=>{var Bd=ye(),jd=le(),Rd=Bd(jd,"Map");Ri.exports=Rd});var Vi=l((jS,Ui)=>{var $i=Ei(),$d=Je(),Ud=qt();function Vd(){this.size=0,this.__data__={hash:new $i,map:new(Ud||$d),string:new $i}}Ui.exports=Vd});var Ki=l((RS,zi)=>{function zd(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}zi.exports=zd});var Ye=l(($S,Hi)=>{var Kd=Ki();function Hd(t,e){var r=t.__data__;return Kd(e)?r[typeof e=="string"?"string":"hash"]:r.map}Hi.exports=Hd});var Wi=l((US,Gi)=>{var Gd=Ye();function Wd(t){var e=Gd(this,t).delete(t);return this.size-=e?1:0,e}Gi.exports=Wd});var Ji=l((VS,Zi)=>{var Zd=Ye();function Jd(t){return Zd(this,t).get(t)}Zi.exports=Jd});var Xi=l((zS,Yi)=>{var Yd=Ye();function Xd(t){return Yd(this,t).has(t)}Yi.exports=Xd});var es=l((KS,Qi)=>{var Qd=Ye();function eg(t,e){var r=Qd(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}Qi.exports=eg});var Ct=l((HS,ts)=>{var tg=Vi(),rg=Wi(),ng=Ji(),ig=Xi(),sg=es();function ke(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}ke.prototype.clear=tg;ke.prototype.delete=rg;ke.prototype.get=ng;ke.prototype.has=ig;ke.prototype.set=sg;ts.exports=ke});var is=l((GS,ns)=>{var rs=Ct(),og="Expected a function";function Sr(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(og);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],s=r.cache;if(s.has(i))return s.get(i);var c=t.apply(this,n);return r.cache=s.set(i,c)||s,c};return r.cache=new(Sr.Cache||rs),r}Sr.Cache=rs;ns.exports=Sr});var os=l((WS,ss)=>{var ag=is(),cg=500;function ug(t){var e=ag(t,function(n){return r.size===cg&&r.clear(),n}),r=e.cache;return e}ss.exports=ug});var cs=l((ZS,as)=>{var lg=os(),fg=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,hg=/\\(\\)?/g,pg=lg(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(fg,function(r,n,i,s){e.push(i?s.replace(hg,"$1"):n||r)}),e});as.exports=pg});var _r=l((JS,us)=>{function dg(t,e){for(var r=-1,n=t==null?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}us.exports=dg});var gs=l((YS,ds)=>{var ls=Ce(),gg=_r(),mg=se(),vg=Me(),bg=1/0,fs=ls?ls.prototype:void 0,hs=fs?fs.toString:void 0;function ps(t){if(typeof t=="string")return t;if(mg(t))return gg(t,ps)+"";if(vg(t))return hs?hs.call(t):"";var e=t+"";return e=="0"&&1/t==-bg?"-0":e}ds.exports=ps});var Se=l((XS,ms)=>{var xg=gs();function yg(t){return t==null?"":xg(t)}ms.exports=yg});var Er=l((QS,vs)=>{var wg=se(),Og=Et(),Ag=cs(),Sg=Se();function _g(t,e){return wg(t)?t:Og(t,e)?[t]:Ag(Sg(t))}vs.exports=_g});var Xe=l((e_,bs)=>{var Eg=Me(),Tg=1/0;function qg(t){if(typeof t=="string"||Eg(t))return t;var e=t+"";return e=="0"&&1/t==-Tg?"-0":e}bs.exports=qg});var Mt=l((t_,xs)=>{var Cg=Er(),Mg=Xe();function Ng(t,e){e=Cg(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[Mg(e[r++])];return r&&r==n?t:void 0}xs.exports=Ng});var Tr=l((r_,ys)=>{var Fg=Mt();function Ig(t,e,r){var n=t==null?void 0:Fg(t,e);return n===void 0?r:n}ys.exports=Ig});var Os=l((n_,ws)=>{var kg=Object.prototype,Lg=kg.hasOwnProperty;function Pg(t,e){return t!=null&&Lg.call(t,e)}ws.exports=Pg});var Ss=l((i_,As)=>{var Dg=Ae(),Bg=xe(),jg="[object Arguments]";function Rg(t){return Bg(t)&&Dg(t)==jg}As.exports=Rg});var Qe=l((s_,Ts)=>{var _s=Ss(),$g=xe(),Es=Object.prototype,Ug=Es.hasOwnProperty,Vg=Es.propertyIsEnumerable,zg=_s(function(){return arguments}())?_s:function(t){return $g(t)&&Ug.call(t,"callee")&&!Vg.call(t,"callee")};Ts.exports=zg});var Nt=l((o_,qs)=>{var Kg=9007199254740991,Hg=/^(?:0|[1-9]\d*)$/;function Gg(t,e){var r=typeof t;return e=e??Kg,!!e&&(r=="number"||r!="symbol"&&Hg.test(t))&&t>-1&&t%1==0&&t<e}qs.exports=Gg});var Ft=l((a_,Cs)=>{var Wg=9007199254740991;function Zg(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Wg}Cs.exports=Zg});var qr=l((c_,Ms)=>{var Jg=Er(),Yg=Qe(),Xg=se(),Qg=Nt(),e0=Ft(),t0=Xe();function r0(t,e,r){e=Jg(e,t);for(var n=-1,i=e.length,s=!1;++n<i;){var c=t0(e[n]);if(!(s=t!=null&&r(t,c)))break;t=t[c]}return s||++n!=i?s:(i=t==null?0:t.length,!!i&&e0(i)&&Qg(c,i)&&(Xg(t)||Yg(t)))}Ms.exports=r0});var Fs=l((u_,Ns)=>{var n0=Os(),i0=qr();function s0(t,e){return t!=null&&i0(t,e,n0)}Ns.exports=s0});var ks=l((l_,Is)=>{var o0=Je();function a0(){this.__data__=new o0,this.size=0}Is.exports=a0});var Ps=l((f_,Ls)=>{function c0(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}Ls.exports=c0});var Bs=l((h_,Ds)=>{function u0(t){return this.__data__.get(t)}Ds.exports=u0});var Rs=l((p_,js)=>{function l0(t){return this.__data__.has(t)}js.exports=l0});var Us=l((d_,$s)=>{var f0=Je(),h0=qt(),p0=Ct(),d0=200;function g0(t,e){var r=this.__data__;if(r instanceof f0){var n=r.__data__;if(!h0||n.length<d0-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new p0(n)}return r.set(t,e),this.size=r.size,this}$s.exports=g0});var It=l((g_,Vs)=>{var m0=Je(),v0=ks(),b0=Ps(),x0=Bs(),y0=Rs(),w0=Us();function Le(t){var e=this.__data__=new m0(t);this.size=e.size}Le.prototype.clear=v0;Le.prototype.delete=b0;Le.prototype.get=x0;Le.prototype.has=y0;Le.prototype.set=w0;Vs.exports=Le});var Cr=l((m_,zs)=>{var O0=ye(),A0=function(){try{var t=O0(Object,"defineProperty");return t({},"",{}),t}catch{}}();zs.exports=A0});var kt=l((v_,Hs)=>{var Ks=Cr();function S0(t,e,r){e=="__proto__"&&Ks?Ks(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}Hs.exports=S0});var Mr=l((b_,Gs)=>{var _0=kt(),E0=Fe();function T0(t,e,r){(r!==void 0&&!E0(t[e],r)||r===void 0&&!(e in t))&&_0(t,e,r)}Gs.exports=T0});var Zs=l((x_,Ws)=>{function q0(t){return function(e,r,n){for(var i=-1,s=Object(e),c=n(e),f=c.length;f--;){var d=c[t?f:++i];if(r(s[d],d,s)===!1)break}return e}}Ws.exports=q0});var Nr=l((y_,Js)=>{var C0=Zs(),M0=C0();Js.exports=M0});var to=l((et,Pe)=>{var N0=le(),eo=typeof et=="object"&&et&&!et.nodeType&&et,Ys=eo&&typeof Pe=="object"&&Pe&&!Pe.nodeType&&Pe,F0=Ys&&Ys.exports===eo,Xs=F0?N0.Buffer:void 0,Qs=Xs?Xs.allocUnsafe:void 0;function I0(t,e){if(e)return t.slice();var r=t.length,n=Qs?Qs(r):new t.constructor(r);return t.copy(n),n}Pe.exports=I0});var Fr=l((w_,ro)=>{var k0=le(),L0=k0.Uint8Array;ro.exports=L0});var so=l((O_,io)=>{var no=Fr();function P0(t){var e=new t.constructor(t.byteLength);return new no(e).set(new no(t)),e}io.exports=P0});var ao=l((A_,oo)=>{var D0=so();function B0(t,e){var r=e?D0(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}oo.exports=B0});var uo=l((S_,co)=>{function j0(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}co.exports=j0});var ho=l((__,fo)=>{var R0=ge(),lo=Object.create,$0=function(){function t(){}return function(e){if(!R0(e))return{};if(lo)return lo(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}();fo.exports=$0});var Ir=l((E_,po)=>{function U0(t,e){return function(r){return t(e(r))}}po.exports=U0});var kr=l((T_,go)=>{var V0=Ir(),z0=V0(Object.getPrototypeOf,Object);go.exports=z0});var Lt=l((q_,mo)=>{var K0=Object.prototype;function H0(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||K0;return t===r}mo.exports=H0});var bo=l((C_,vo)=>{var G0=ho(),W0=kr(),Z0=Lt();function J0(t){return typeof t.constructor=="function"&&!Z0(t)?G0(W0(t)):{}}vo.exports=J0});var _e=l((M_,xo)=>{var Y0=Tt(),X0=Ft();function Q0(t){return t!=null&&X0(t.length)&&!Y0(t)}xo.exports=Q0});var wo=l((N_,yo)=>{var em=_e(),tm=xe();function rm(t){return tm(t)&&em(t)}yo.exports=rm});var Ao=l((F_,Oo)=>{function nm(){return!1}Oo.exports=nm});var Pt=l((tt,De)=>{var im=le(),sm=Ao(),Eo=typeof tt=="object"&&tt&&!tt.nodeType&&tt,So=Eo&&typeof De=="object"&&De&&!De.nodeType&&De,om=So&&So.exports===Eo,_o=om?im.Buffer:void 0,am=_o?_o.isBuffer:void 0,cm=am||sm;De.exports=cm});var Co=l((I_,qo)=>{var um=Ae(),lm=kr(),fm=xe(),hm="[object Object]",pm=Function.prototype,dm=Object.prototype,To=pm.toString,gm=dm.hasOwnProperty,mm=To.call(Object);function vm(t){if(!fm(t)||um(t)!=hm)return!1;var e=lm(t);if(e===null)return!0;var r=gm.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&To.call(r)==mm}qo.exports=vm});var No=l((k_,Mo)=>{var bm=Ae(),xm=Ft(),ym=xe(),wm="[object Arguments]",Om="[object Array]",Am="[object Boolean]",Sm="[object Date]",_m="[object Error]",Em="[object Function]",Tm="[object Map]",qm="[object Number]",Cm="[object Object]",Mm="[object RegExp]",Nm="[object Set]",Fm="[object String]",Im="[object WeakMap]",km="[object ArrayBuffer]",Lm="[object DataView]",Pm="[object Float32Array]",Dm="[object Float64Array]",Bm="[object Int8Array]",jm="[object Int16Array]",Rm="[object Int32Array]",$m="[object Uint8Array]",Um="[object Uint8ClampedArray]",Vm="[object Uint16Array]",zm="[object Uint32Array]",B={};B[Pm]=B[Dm]=B[Bm]=B[jm]=B[Rm]=B[$m]=B[Um]=B[Vm]=B[zm]=!0;B[wm]=B[Om]=B[km]=B[Am]=B[Lm]=B[Sm]=B[_m]=B[Em]=B[Tm]=B[qm]=B[Cm]=B[Mm]=B[Nm]=B[Fm]=B[Im]=!1;function Km(t){return ym(t)&&xm(t.length)&&!!B[bm(t)]}Mo.exports=Km});var Lr=l((L_,Fo)=>{function Hm(t){return function(e){return t(e)}}Fo.exports=Hm});var ko=l((rt,Be)=>{var Gm=wr(),Io=typeof rt=="object"&&rt&&!rt.nodeType&&rt,nt=Io&&typeof Be=="object"&&Be&&!Be.nodeType&&Be,Wm=nt&&nt.exports===Io,Pr=Wm&&Gm.process,Zm=function(){try{var t=nt&&nt.require&&nt.require("util").types;return t||Pr&&Pr.binding&&Pr.binding("util")}catch{}}();Be.exports=Zm});var Dt=l((P_,Do)=>{var Jm=No(),Ym=Lr(),Lo=ko(),Po=Lo&&Lo.isTypedArray,Xm=Po?Ym(Po):Jm;Do.exports=Xm});var Dr=l((D_,Bo)=>{function Qm(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}Bo.exports=Qm});var Br=l((B_,jo)=>{var e1=kt(),t1=Fe(),r1=Object.prototype,n1=r1.hasOwnProperty;function i1(t,e,r){var n=t[e];(!(n1.call(t,e)&&t1(n,r))||r===void 0&&!(e in t))&&e1(t,e,r)}jo.exports=i1});var $o=l((j_,Ro)=>{var s1=Br(),o1=kt();function a1(t,e,r,n){var i=!r;r||(r={});for(var s=-1,c=e.length;++s<c;){var f=e[s],d=n?n(r[f],t[f],f,r,t):void 0;d===void 0&&(d=t[f]),i?o1(r,f,d):s1(r,f,d)}return r}Ro.exports=a1});var Vo=l((R_,Uo)=>{function c1(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}Uo.exports=c1});var jr=l(($_,zo)=>{var u1=Vo(),l1=Qe(),f1=se(),h1=Pt(),p1=Nt(),d1=Dt(),g1=Object.prototype,m1=g1.hasOwnProperty;function v1(t,e){var r=f1(t),n=!r&&l1(t),i=!r&&!n&&h1(t),s=!r&&!n&&!i&&d1(t),c=r||n||i||s,f=c?u1(t.length,String):[],d=f.length;for(var w in t)(e||m1.call(t,w))&&!(c&&(w=="length"||i&&(w=="offset"||w=="parent")||s&&(w=="buffer"||w=="byteLength"||w=="byteOffset")||p1(w,d)))&&f.push(w);return f}zo.exports=v1});var Ho=l((U_,Ko)=>{function b1(t){var e=[];if(t!=null)for(var r in Object(t))e.push(r);return e}Ko.exports=b1});var Wo=l((V_,Go)=>{var x1=ge(),y1=Lt(),w1=Ho(),O1=Object.prototype,A1=O1.hasOwnProperty;function S1(t){if(!x1(t))return w1(t);var e=y1(t),r=[];for(var n in t)n=="constructor"&&(e||!A1.call(t,n))||r.push(n);return r}Go.exports=S1});var Rr=l((z_,Zo)=>{var _1=jr(),E1=Wo(),T1=_e();function q1(t){return T1(t)?_1(t,!0):E1(t)}Zo.exports=q1});var Yo=l((K_,Jo)=>{var C1=$o(),M1=Rr();function N1(t){return C1(t,M1(t))}Jo.exports=N1});var na=l((H_,ra)=>{var Xo=Mr(),F1=to(),I1=ao(),k1=uo(),L1=bo(),Qo=Qe(),ea=se(),P1=wo(),D1=Pt(),B1=Tt(),j1=ge(),R1=Co(),$1=Dt(),ta=Dr(),U1=Yo();function V1(t,e,r,n,i,s,c){var f=ta(t,r),d=ta(e,r),w=c.get(d);if(w){Xo(t,r,w);return}var O=s?s(f,d,r+"",t,e,c):void 0,S=O===void 0;if(S){var E=ea(d),M=!E&&D1(d),q=!E&&!M&&$1(d);O=d,E||M||q?ea(f)?O=f:P1(f)?O=k1(f):M?(S=!1,O=F1(d,!0)):q?(S=!1,O=I1(d,!0)):O=[]:R1(d)||Qo(d)?(O=f,Qo(f)?O=U1(f):(!j1(f)||B1(f))&&(O=L1(d))):S=!1}S&&(c.set(d,O),i(O,d,n,s,c),c.delete(d)),Xo(t,r,O)}ra.exports=V1});var oa=l((G_,sa)=>{var z1=It(),K1=Mr(),H1=Nr(),G1=na(),W1=ge(),Z1=Rr(),J1=Dr();function ia(t,e,r,n,i){t!==e&&H1(e,function(s,c){if(i||(i=new z1),W1(s))G1(t,e,c,r,ia,n,i);else{var f=n?n(J1(t,c),s,c+"",t,e,i):void 0;f===void 0&&(f=s),K1(t,c,f)}},Z1)}sa.exports=ia});var it=l((W_,aa)=>{function Y1(t){return t}aa.exports=Y1});var ua=l((Z_,ca)=>{function X1(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}ca.exports=X1});var ha=l((J_,fa)=>{var Q1=ua(),la=Math.max;function ev(t,e,r){return e=la(e===void 0?t.length-1:e,0),function(){for(var n=arguments,i=-1,s=la(n.length-e,0),c=Array(s);++i<s;)c[i]=n[e+i];i=-1;for(var f=Array(e+1);++i<e;)f[i]=n[i];return f[e]=r(c),Q1(t,this,f)}}fa.exports=ev});var da=l((Y_,pa)=>{function tv(t){return function(){return t}}pa.exports=tv});var va=l((X_,ma)=>{var rv=da(),ga=Cr(),nv=it(),iv=ga?function(t,e){return ga(t,"toString",{configurable:!0,enumerable:!1,value:rv(e),writable:!0})}:nv;ma.exports=iv});var xa=l((Q_,ba)=>{var sv=800,ov=16,av=Date.now;function cv(t){var e=0,r=0;return function(){var n=av(),i=ov-(n-r);if(r=n,i>0){if(++e>=sv)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}ba.exports=cv});var wa=l((eE,ya)=>{var uv=va(),lv=xa(),fv=lv(uv);ya.exports=fv});var $r=l((tE,Oa)=>{var hv=it(),pv=ha(),dv=wa();function gv(t,e){return dv(pv(t,e,hv),t+"")}Oa.exports=gv});var st=l((rE,Aa)=>{var mv=Fe(),vv=_e(),bv=Nt(),xv=ge();function yv(t,e,r){if(!xv(r))return!1;var n=typeof e;return(n=="number"?vv(r)&&bv(e,r.length):n=="string"&&e in r)?mv(r[e],t):!1}Aa.exports=yv});var _a=l((nE,Sa)=>{var wv=$r(),Ov=st();function Av(t){return wv(function(e,r){var n=-1,i=r.length,s=i>1?r[i-1]:void 0,c=i>2?r[2]:void 0;for(s=t.length>3&&typeof s=="function"?(i--,s):void 0,c&&Ov(r[0],r[1],c)&&(s=i<3?void 0:s,i=1),e=Object(e);++n<i;){var f=r[n];f&&t(e,f,n,s)}return e})}Sa.exports=Av});var Ta=l((iE,Ea)=>{var Sv=oa(),_v=_a(),Ev=_v(function(t,e,r){Sv(t,e,r)});Ea.exports=Ev});var Ca=l((sE,qa)=>{var Tv="__lodash_hash_undefined__";function qv(t){return this.__data__.set(t,Tv),this}qa.exports=qv});var Na=l((oE,Ma)=>{function Cv(t){return this.__data__.has(t)}Ma.exports=Cv});var Ur=l((aE,Fa)=>{var Mv=Ct(),Nv=Ca(),Fv=Na();function Bt(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new Mv;++e<r;)this.add(t[e])}Bt.prototype.add=Bt.prototype.push=Nv;Bt.prototype.has=Fv;Fa.exports=Bt});var ka=l((cE,Ia)=>{function Iv(t,e,r,n){for(var i=t.length,s=r+(n?1:-1);n?s--:++s<i;)if(e(t[s],s,t))return s;return-1}Ia.exports=Iv});var Pa=l((uE,La)=>{function kv(t){return t!==t}La.exports=kv});var Ba=l((lE,Da)=>{function Lv(t,e,r){for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}Da.exports=Lv});var Ra=l((fE,ja)=>{var Pv=ka(),Dv=Pa(),Bv=Ba();function jv(t,e,r){return e===e?Bv(t,e,r):Pv(t,Dv,r)}ja.exports=jv});var Ua=l((hE,$a)=>{var Rv=Ra();function $v(t,e){var r=t==null?0:t.length;return!!r&&Rv(t,e,0)>-1}$a.exports=$v});var za=l((pE,Va)=>{function Uv(t,e,r){for(var n=-1,i=t==null?0:t.length;++n<i;)if(r(e,t[n]))return!0;return!1}Va.exports=Uv});var Vr=l((dE,Ka)=>{function Vv(t,e){return t.has(e)}Ka.exports=Vv});var zr=l((gE,Ha)=>{var zv=ye(),Kv=le(),Hv=zv(Kv,"Set");Ha.exports=Hv});var Wa=l((mE,Ga)=>{function Gv(){}Ga.exports=Gv});var jt=l((vE,Za)=>{function Wv(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}Za.exports=Wv});var Ya=l((bE,Ja)=>{var Kr=zr(),Zv=Wa(),Jv=jt(),Yv=1/0,Xv=Kr&&1/Jv(new Kr([,-0]))[1]==Yv?function(t){return new Kr(t)}:Zv;Ja.exports=Xv});var Qa=l((xE,Xa)=>{var Qv=Ur(),eb=Ua(),tb=za(),rb=Vr(),nb=Ya(),ib=jt(),sb=200;function ob(t,e,r){var n=-1,i=eb,s=t.length,c=!0,f=[],d=f;if(r)c=!1,i=tb;else if(s>=sb){var w=e?null:nb(t);if(w)return ib(w);c=!1,i=rb,d=new Qv}else d=e?[]:f;e:for(;++n<s;){var O=t[n],S=e?e(O):O;if(O=r||O!==0?O:0,c&&S===S){for(var E=d.length;E--;)if(d[E]===S)continue e;e&&d.push(S),f.push(O)}else i(d,S,r)||(d!==f&&d.push(S),f.push(O))}return f}Xa.exports=ob});var tc=l((yE,ec)=>{var ab=Qa();function cb(t){return t&&t.length?ab(t):[]}ec.exports=cb});var oc=l((_E,sc)=>{function fb(t,e,r){var n=-1,i=t.length;e<0&&(e=-e>i?0:i+e),r=r>i?i:r,r<0&&(r+=i),i=e>r?0:r-e>>>0,e>>>=0;for(var s=Array(i);++n<i;)s[n]=t[n+e];return s}sc.exports=fb});var cc=l((EE,ac)=>{var hb=oc();function pb(t,e,r){var n=t.length;return r=r===void 0?n:r,!e&&r>=n?t:hb(t,e,r)}ac.exports=pb});var Hr=l((TE,uc)=>{var db="\\ud800-\\udfff",gb="\\u0300-\\u036f",mb="\\ufe20-\\ufe2f",vb="\\u20d0-\\u20ff",bb=gb+mb+vb,xb="\\ufe0e\\ufe0f",yb="\\u200d",wb=RegExp("["+yb+db+bb+xb+"]");function Ob(t){return wb.test(t)}uc.exports=Ob});var fc=l((qE,lc)=>{function Ab(t){return t.split("")}lc.exports=Ab});var xc=l((CE,bc)=>{var hc="\\ud800-\\udfff",Sb="\\u0300-\\u036f",_b="\\ufe20-\\ufe2f",Eb="\\u20d0-\\u20ff",Tb=Sb+_b+Eb,qb="\\ufe0e\\ufe0f",Cb="["+hc+"]",Gr="["+Tb+"]",Wr="\\ud83c[\\udffb-\\udfff]",Mb="(?:"+Gr+"|"+Wr+")",pc="[^"+hc+"]",dc="(?:\\ud83c[\\udde6-\\uddff]){2}",gc="[\\ud800-\\udbff][\\udc00-\\udfff]",Nb="\\u200d",mc=Mb+"?",vc="["+qb+"]?",Fb="(?:"+Nb+"(?:"+[pc,dc,gc].join("|")+")"+vc+mc+")*",Ib=vc+mc+Fb,kb="(?:"+[pc+Gr+"?",Gr,dc,gc,Cb].join("|")+")",Lb=RegExp(Wr+"(?="+Wr+")|"+kb+Ib,"g");function Pb(t){return t.match(Lb)||[]}bc.exports=Pb});var wc=l((ME,yc)=>{var Db=fc(),Bb=Hr(),jb=xc();function Rb(t){return Bb(t)?jb(t):Db(t)}yc.exports=Rb});var Ac=l((NE,Oc)=>{var $b=cc(),Ub=Hr(),Vb=wc(),zb=Se();function Kb(t){return function(e){e=zb(e);var r=Ub(e)?Vb(e):void 0,n=r?r[0]:e.charAt(0),i=r?$b(r,1).join(""):e.slice(1);return n[t]()+i}}Oc.exports=Kb});var _c=l((FE,Sc)=>{var Hb=Ac(),Gb=Hb("toUpperCase");Sc.exports=Gb});var Tc=l((IE,Ec)=>{var Wb=Se(),Zb=_c();function Jb(t){return Zb(Wb(t).toLowerCase())}Ec.exports=Jb});var Cc=l((kE,qc)=>{function Yb(t,e,r,n){var i=-1,s=t==null?0:t.length;for(n&&s&&(r=t[++i]);++i<s;)r=e(r,t[i],i,t);return r}qc.exports=Yb});var Nc=l((LE,Mc)=>{function Xb(t){return function(e){return t?.[e]}}Mc.exports=Xb});var Ic=l((PE,Fc)=>{var Qb=Nc(),ex={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},tx=Qb(ex);Fc.exports=tx});var Lc=l((DE,kc)=>{var rx=Ic(),nx=Se(),ix=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,sx="\\u0300-\\u036f",ox="\\ufe20-\\ufe2f",ax="\\u20d0-\\u20ff",cx=sx+ox+ax,ux="["+cx+"]",lx=RegExp(ux,"g");function fx(t){return t=nx(t),t&&t.replace(ix,rx).replace(lx,"")}kc.exports=fx});var Dc=l((BE,Pc)=>{var hx=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function px(t){return t.match(hx)||[]}Pc.exports=px});var jc=l((jE,Bc)=>{var dx=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function gx(t){return dx.test(t)}Bc.exports=gx});var iu=l((RE,nu)=>{var zc="\\ud800-\\udfff",mx="\\u0300-\\u036f",vx="\\ufe20-\\ufe2f",bx="\\u20d0-\\u20ff",xx=mx+vx+bx,Kc="\\u2700-\\u27bf",Hc="a-z\\xdf-\\xf6\\xf8-\\xff",yx="\\xac\\xb1\\xd7\\xf7",wx="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Ox="\\u2000-\\u206f",Ax=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Gc="A-Z\\xc0-\\xd6\\xd8-\\xde",Sx="\\ufe0e\\ufe0f",Wc=yx+wx+Ox+Ax,Zc="['\u2019]",Rc="["+Wc+"]",_x="["+xx+"]",Jc="\\d+",Ex="["+Kc+"]",Yc="["+Hc+"]",Xc="[^"+zc+Wc+Jc+Kc+Hc+Gc+"]",Tx="\\ud83c[\\udffb-\\udfff]",qx="(?:"+_x+"|"+Tx+")",Cx="[^"+zc+"]",Qc="(?:\\ud83c[\\udde6-\\uddff]){2}",eu="[\\ud800-\\udbff][\\udc00-\\udfff]",je="["+Gc+"]",Mx="\\u200d",$c="(?:"+Yc+"|"+Xc+")",Nx="(?:"+je+"|"+Xc+")",Uc="(?:"+Zc+"(?:d|ll|m|re|s|t|ve))?",Vc="(?:"+Zc+"(?:D|LL|M|RE|S|T|VE))?",tu=qx+"?",ru="["+Sx+"]?",Fx="(?:"+Mx+"(?:"+[Cx,Qc,eu].join("|")+")"+ru+tu+")*",Ix="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",kx="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Lx=ru+tu+Fx,Px="(?:"+[Ex,Qc,eu].join("|")+")"+Lx,Dx=RegExp([je+"?"+Yc+"+"+Uc+"(?="+[Rc,je,"$"].join("|")+")",Nx+"+"+Vc+"(?="+[Rc,je+$c,"$"].join("|")+")",je+"?"+$c+"+"+Uc,je+"+"+Vc,kx,Ix,Jc,Px].join("|"),"g");function Bx(t){return t.match(Dx)||[]}nu.exports=Bx});var ou=l(($E,su)=>{var jx=Dc(),Rx=jc(),$x=Se(),Ux=iu();function Vx(t,e,r){return t=$x(t),e=r?void 0:e,e===void 0?Rx(t)?Ux(t):jx(t):t.match(e)||[]}su.exports=Vx});var cu=l((UE,au)=>{var zx=Cc(),Kx=Lc(),Hx=ou(),Gx="['\u2019]",Wx=RegExp(Gx,"g");function Zx(t){return function(e){return zx(Hx(Kx(e).replace(Wx,"")),t,"")}}au.exports=Zx});var lu=l((VE,uu)=>{var Jx=Tc(),Yx=cu(),Xx=Yx(function(t,e,r){return e=e.toLowerCase(),t+(r?Jx(e):e)});uu.exports=Xx});var gu=l((YE,du)=>{var ey=9007199254740991,ty=Math.floor;function ry(t,e){var r="";if(!t||e<1||e>ey)return r;do e%2&&(r+=t),e=ty(e/2),e&&(t+=t);while(e);return r}du.exports=ry});var vu=l((XE,mu)=>{var ny=/\s/;function iy(t){for(var e=t.length;e--&&ny.test(t.charAt(e)););return e}mu.exports=iy});var xu=l((QE,bu)=>{var sy=vu(),oy=/^\s+/;function ay(t){return t&&t.slice(0,sy(t)+1).replace(oy,"")}bu.exports=ay});var Au=l((eT,Ou)=>{var cy=xu(),yu=ge(),uy=Me(),wu=NaN,ly=/^[-+]0x[0-9a-f]+$/i,fy=/^0b[01]+$/i,hy=/^0o[0-7]+$/i,py=parseInt;function dy(t){if(typeof t=="number")return t;if(uy(t))return wu;if(yu(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=yu(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=cy(t);var r=fy.test(t);return r||hy.test(t)?py(t.slice(2),r?2:8):ly.test(t)?wu:+t}Ou.exports=dy});var Qr=l((tT,_u)=>{var gy=Au(),Su=1/0,my=17976931348623157e292;function vy(t){if(!t)return t===0?t:0;if(t=gy(t),t===Su||t===-Su){var e=t<0?-1:1;return e*my}return t===t?t:0}_u.exports=vy});var Tu=l((rT,Eu)=>{var by=Qr();function xy(t){var e=by(t),r=e%1;return e===e?r?e-r:e:0}Eu.exports=xy});var Cu=l((nT,qu)=>{var yy=gu(),wy=st(),Oy=Tu(),Ay=Se();function Sy(t,e,r){return(r?wy(t,e,r):e===void 0)?e=1:e=Oy(e),yy(Ay(t),e)}qu.exports=Sy});var tn=l((yT,Nu)=>{function Cy(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}Nu.exports=Cy});var Lu=l((wT,ku)=>{var Fu=Ce(),My=Qe(),Ny=se(),Iu=Fu?Fu.isConcatSpreadable:void 0;function Fy(t){return Ny(t)||My(t)||!!(Iu&&t&&t[Iu])}ku.exports=Fy});var Bu=l((OT,Du)=>{var Iy=tn(),ky=Lu();function Pu(t,e,r,n,i){var s=-1,c=t.length;for(r||(r=ky),i||(i=[]);++s<c;){var f=t[s];e>0&&r(f)?e>1?Pu(f,e-1,r,n,i):Iy(i,f):n||(i[i.length]=f)}return i}Du.exports=Pu});var Ru=l((AT,ju)=>{function Ly(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}ju.exports=Ly});var rn=l((ST,$u)=>{var Py=Ur(),Dy=Ru(),By=Vr(),jy=1,Ry=2;function $y(t,e,r,n,i,s){var c=r&jy,f=t.length,d=e.length;if(f!=d&&!(c&&d>f))return!1;var w=s.get(t),O=s.get(e);if(w&&O)return w==e&&O==t;var S=-1,E=!0,M=r&Ry?new Py:void 0;for(s.set(t,e),s.set(e,t);++S<f;){var q=t[S],L=e[S];if(n)var k=c?n(L,q,S,e,t,s):n(q,L,S,t,e,s);if(k!==void 0){if(k)continue;E=!1;break}if(M){if(!Dy(e,function(j,_){if(!By(M,_)&&(q===j||i(q,j,r,n,s)))return M.push(_)})){E=!1;break}}else if(!(q===L||i(q,L,r,n,s))){E=!1;break}}return s.delete(t),s.delete(e),E}$u.exports=$y});var Vu=l((_T,Uu)=>{function Uy(t){var e=-1,r=Array(t.size);return t.forEach(function(n,i){r[++e]=[i,n]}),r}Uu.exports=Uy});var Wu=l((ET,Gu)=>{var zu=Ce(),Ku=Fr(),Vy=Fe(),zy=rn(),Ky=Vu(),Hy=jt(),Gy=1,Wy=2,Zy="[object Boolean]",Jy="[object Date]",Yy="[object Error]",Xy="[object Map]",Qy="[object Number]",ew="[object RegExp]",tw="[object Set]",rw="[object String]",nw="[object Symbol]",iw="[object ArrayBuffer]",sw="[object DataView]",Hu=zu?zu.prototype:void 0,nn=Hu?Hu.valueOf:void 0;function ow(t,e,r,n,i,s,c){switch(r){case sw:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case iw:return!(t.byteLength!=e.byteLength||!s(new Ku(t),new Ku(e)));case Zy:case Jy:case Qy:return Vy(+t,+e);case Yy:return t.name==e.name&&t.message==e.message;case ew:case rw:return t==e+"";case Xy:var f=Ky;case tw:var d=n&Gy;if(f||(f=Hy),t.size!=e.size&&!d)return!1;var w=c.get(t);if(w)return w==e;n|=Wy,c.set(t,e);var O=zy(f(t),f(e),n,i,s,c);return c.delete(t),O;case nw:if(nn)return nn.call(t)==nn.call(e)}return!1}Gu.exports=ow});var Ju=l((TT,Zu)=>{var aw=tn(),cw=se();function uw(t,e,r){var n=e(t);return cw(t)?n:aw(n,r(t))}Zu.exports=uw});var Xu=l((qT,Yu)=>{function lw(t,e){for(var r=-1,n=t==null?0:t.length,i=0,s=[];++r<n;){var c=t[r];e(c,r,t)&&(s[i++]=c)}return s}Yu.exports=lw});var el=l((CT,Qu)=>{function fw(){return[]}Qu.exports=fw});var nl=l((MT,rl)=>{var hw=Xu(),pw=el(),dw=Object.prototype,gw=dw.propertyIsEnumerable,tl=Object.getOwnPropertySymbols,mw=tl?function(t){return t==null?[]:(t=Object(t),hw(tl(t),function(e){return gw.call(t,e)}))}:pw;rl.exports=mw});var sl=l((NT,il)=>{var vw=Ir(),bw=vw(Object.keys,Object);il.exports=bw});var al=l((FT,ol)=>{var xw=Lt(),yw=sl(),ww=Object.prototype,Ow=ww.hasOwnProperty;function Aw(t){if(!xw(t))return yw(t);var e=[];for(var r in Object(t))Ow.call(t,r)&&r!="constructor"&&e.push(r);return e}ol.exports=Aw});var Vt=l((IT,cl)=>{var Sw=jr(),_w=al(),Ew=_e();function Tw(t){return Ew(t)?Sw(t):_w(t)}cl.exports=Tw});var ll=l((kT,ul)=>{var qw=Ju(),Cw=nl(),Mw=Vt();function Nw(t){return qw(t,Mw,Cw)}ul.exports=Nw});var pl=l((LT,hl)=>{var fl=ll(),Fw=1,Iw=Object.prototype,kw=Iw.hasOwnProperty;function Lw(t,e,r,n,i,s){var c=r&Fw,f=fl(t),d=f.length,w=fl(e),O=w.length;if(d!=O&&!c)return!1;for(var S=d;S--;){var E=f[S];if(!(c?E in e:kw.call(e,E)))return!1}var M=s.get(t),q=s.get(e);if(M&&q)return M==e&&q==t;var L=!0;s.set(t,e),s.set(e,t);for(var k=c;++S<d;){E=f[S];var j=t[E],_=e[E];if(n)var ee=c?n(_,j,E,e,t,s):n(j,_,E,t,e,s);if(!(ee===void 0?j===_||i(j,_,r,n,s):ee)){L=!1;break}k||(k=E=="constructor")}if(L&&!k){var J=t.constructor,H=e.constructor;J!=H&&"constructor"in t&&"constructor"in e&&!(typeof J=="function"&&J instanceof J&&typeof H=="function"&&H instanceof H)&&(L=!1)}return s.delete(t),s.delete(e),L}hl.exports=Lw});var gl=l((PT,dl)=>{var Pw=ye(),Dw=le(),Bw=Pw(Dw,"DataView");dl.exports=Bw});var vl=l((DT,ml)=>{var jw=ye(),Rw=le(),$w=jw(Rw,"Promise");ml.exports=$w});var xl=l((BT,bl)=>{var Uw=ye(),Vw=le(),zw=Uw(Vw,"WeakMap");bl.exports=zw});var Tl=l((jT,El)=>{var sn=gl(),on=qt(),an=vl(),cn=zr(),un=xl(),_l=Ae(),Re=Ar(),yl="[object Map]",Kw="[object Object]",wl="[object Promise]",Ol="[object Set]",Al="[object WeakMap]",Sl="[object DataView]",Hw=Re(sn),Gw=Re(on),Ww=Re(an),Zw=Re(cn),Jw=Re(un),qe=_l;(sn&&qe(new sn(new ArrayBuffer(1)))!=Sl||on&&qe(new on)!=yl||an&&qe(an.resolve())!=wl||cn&&qe(new cn)!=Ol||un&&qe(new un)!=Al)&&(qe=function(t){var e=_l(t),r=e==Kw?t.constructor:void 0,n=r?Re(r):"";if(n)switch(n){case Hw:return Sl;case Gw:return yl;case Ww:return wl;case Zw:return Ol;case Jw:return Al}return e});El.exports=qe});var Ll=l((RT,kl)=>{var ln=It(),Yw=rn(),Xw=Wu(),Qw=pl(),ql=Tl(),Cl=se(),Ml=Pt(),eO=Dt(),tO=1,Nl="[object Arguments]",Fl="[object Array]",zt="[object Object]",rO=Object.prototype,Il=rO.hasOwnProperty;function nO(t,e,r,n,i,s){var c=Cl(t),f=Cl(e),d=c?Fl:ql(t),w=f?Fl:ql(e);d=d==Nl?zt:d,w=w==Nl?zt:w;var O=d==zt,S=w==zt,E=d==w;if(E&&Ml(t)){if(!Ml(e))return!1;c=!0,O=!1}if(E&&!O)return s||(s=new ln),c||eO(t)?Yw(t,e,r,n,i,s):Xw(t,e,d,r,n,i,s);if(!(r&tO)){var M=O&&Il.call(t,"__wrapped__"),q=S&&Il.call(e,"__wrapped__");if(M||q){var L=M?t.value():t,k=q?e.value():e;return s||(s=new ln),i(L,k,r,n,s)}}return E?(s||(s=new ln),Qw(t,e,r,n,i,s)):!1}kl.exports=nO});var fn=l(($T,Bl)=>{var iO=Ll(),Pl=xe();function Dl(t,e,r,n,i){return t===e?!0:t==null||e==null||!Pl(t)&&!Pl(e)?t!==t&&e!==e:iO(t,e,r,n,Dl,i)}Bl.exports=Dl});var Rl=l((UT,jl)=>{var sO=It(),oO=fn(),aO=1,cO=2;function uO(t,e,r,n){var i=r.length,s=i,c=!n;if(t==null)return!s;for(t=Object(t);i--;){var f=r[i];if(c&&f[2]?f[1]!==t[f[0]]:!(f[0]in t))return!1}for(;++i<s;){f=r[i];var d=f[0],w=t[d],O=f[1];if(c&&f[2]){if(w===void 0&&!(d in t))return!1}else{var S=new sO;if(n)var E=n(w,O,d,t,e,S);if(!(E===void 0?oO(O,w,aO|cO,n,S):E))return!1}}return!0}jl.exports=uO});var hn=l((VT,$l)=>{var lO=ge();function fO(t){return t===t&&!lO(t)}$l.exports=fO});var Vl=l((zT,Ul)=>{var hO=hn(),pO=Vt();function dO(t){for(var e=pO(t),r=e.length;r--;){var n=e[r],i=t[n];e[r]=[n,i,hO(i)]}return e}Ul.exports=dO});var pn=l((KT,zl)=>{function gO(t,e){return function(r){return r==null?!1:r[t]===e&&(e!==void 0||t in Object(r))}}zl.exports=gO});var Hl=l((HT,Kl)=>{var mO=Rl(),vO=Vl(),bO=pn();function xO(t){var e=vO(t);return e.length==1&&e[0][2]?bO(e[0][0],e[0][1]):function(r){return r===t||mO(r,t,e)}}Kl.exports=xO});var Wl=l((GT,Gl)=>{function yO(t,e){return t!=null&&e in Object(t)}Gl.exports=yO});var Jl=l((WT,Zl)=>{var wO=Wl(),OO=qr();function AO(t,e){return t!=null&&OO(t,e,wO)}Zl.exports=AO});var Xl=l((ZT,Yl)=>{var SO=fn(),_O=Tr(),EO=Jl(),TO=Et(),qO=hn(),CO=pn(),MO=Xe(),NO=1,FO=2;function IO(t,e){return TO(t)&&qO(e)?CO(MO(t),e):function(r){var n=_O(r,t);return n===void 0&&n===e?EO(r,t):SO(e,n,NO|FO)}}Yl.exports=IO});var ef=l((JT,Ql)=>{function kO(t){return function(e){return e?.[t]}}Ql.exports=kO});var rf=l((YT,tf)=>{var LO=Mt();function PO(t){return function(e){return LO(e,t)}}tf.exports=PO});var sf=l((XT,nf)=>{var DO=ef(),BO=rf(),jO=Et(),RO=Xe();function $O(t){return jO(t)?DO(RO(t)):BO(t)}nf.exports=$O});var af=l((QT,of)=>{var UO=Hl(),VO=Xl(),zO=it(),KO=se(),HO=sf();function GO(t){return typeof t=="function"?t:t==null?zO:typeof t=="object"?KO(t)?VO(t[0],t[1]):UO(t):HO(t)}of.exports=GO});var uf=l((eq,cf)=>{var WO=Nr(),ZO=Vt();function JO(t,e){return t&&WO(t,e,ZO)}cf.exports=JO});var ff=l((tq,lf)=>{var YO=_e();function XO(t,e){return function(r,n){if(r==null)return r;if(!YO(r))return t(r,n);for(var i=r.length,s=e?i:-1,c=Object(r);(e?s--:++s<i)&&n(c[s],s,c)!==!1;);return r}}lf.exports=XO});var pf=l((rq,hf)=>{var QO=uf(),eA=ff(),tA=eA(QO);hf.exports=tA});var gf=l((nq,df)=>{var rA=pf(),nA=_e();function iA(t,e){var r=-1,n=nA(t)?Array(t.length):[];return rA(t,function(i,s,c){n[++r]=e(i,s,c)}),n}df.exports=iA});var vf=l((iq,mf)=>{function sA(t,e){var r=t.length;for(t.sort(e);r--;)t[r]=t[r].value;return t}mf.exports=sA});var yf=l((sq,xf)=>{var bf=Me();function oA(t,e){if(t!==e){var r=t!==void 0,n=t===null,i=t===t,s=bf(t),c=e!==void 0,f=e===null,d=e===e,w=bf(e);if(!f&&!w&&!s&&t>e||s&&c&&d&&!f&&!w||n&&c&&d||!r&&d||!i)return 1;if(!n&&!s&&!w&&t<e||w&&r&&i&&!n&&!s||f&&r&&i||!c&&i||!d)return-1}return 0}xf.exports=oA});var Of=l((oq,wf)=>{var aA=yf();function cA(t,e,r){for(var n=-1,i=t.criteria,s=e.criteria,c=i.length,f=r.length;++n<c;){var d=aA(i[n],s[n]);if(d){if(n>=f)return d;var w=r[n];return d*(w=="desc"?-1:1)}}return t.index-e.index}wf.exports=cA});var Sf=l((aq,Af)=>{var dn=_r(),uA=Mt(),lA=af(),fA=gf(),hA=vf(),pA=Lr(),dA=Of(),gA=it(),mA=se();function vA(t,e,r){e.length?e=dn(e,function(s){return mA(s)?function(c){return uA(c,s.length===1?s[0]:s)}:s}):e=[gA];var n=-1;e=dn(e,pA(lA));var i=fA(t,function(s,c,f){var d=dn(e,function(w){return w(s)});return{criteria:d,index:++n,value:s}});return hA(i,function(s,c){return dA(s,c,r)})}Af.exports=vA});var Tf=l((cq,Ef)=>{var bA=Bu(),xA=Sf(),yA=$r(),_f=st(),wA=yA(function(t,e){if(t==null)return[];var r=e.length;return r>1&&_f(t,e[0],e[1])?e=[]:r>2&&_f(e[0],e[1],e[2])&&(e=[e[0]]),xA(t,bA(e,1),[])});Ef.exports=wA});var Cf=l((uq,qf)=>{function OA(t,e,r){for(var n=-1,i=t.length,s=e.length,c={};++n<i;){var f=n<s?e[n]:void 0;r(c,t[n],f)}return c}qf.exports=OA});var Nf=l((lq,Mf)=>{var AA=Br(),SA=Cf();function _A(t,e){return SA(t||[],e||[],AA)}Mf.exports=_A});var Pf=l((Eq,Lf)=>{var qA=Math.ceil,CA=Math.max;function MA(t,e,r,n){for(var i=-1,s=CA(qA((e-t)/(r||1)),0),c=Array(s);s--;)c[n?s:++i]=t,t+=r;return c}Lf.exports=MA});var Bf=l((Tq,Df)=>{var NA=Pf(),FA=st(),xn=Qr();function IA(t){return function(e,r,n){return n&&typeof n!="number"&&FA(e,r,n)&&(r=n=void 0),e=xn(e),r===void 0?(r=e,e=0):r=xn(r),n=n===void 0?e<r?1:-1:xn(n),NA(e,r,n,t)}}Df.exports=IA});var Rf=l((qq,jf)=>{var kA=Bf(),LA=kA();jf.exports=LA});var Wf=l((On,An)=>{(function(t,e){typeof define=="function"&&define.amd?define([],e):typeof On<"u"?e():(e(),t.FileSaver={})})(On,function(){"use strict";function t(f,d){return typeof d>"u"?d={autoBom:!1}:typeof d!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),d={autoBom:!d}),d.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(f.type)?new Blob(["\uFEFF",f],{type:f.type}):f}function e(f,d,w){var O=new XMLHttpRequest;O.open("GET",f),O.responseType="blob",O.onload=function(){c(O.response,d,w)},O.onerror=function(){console.error("could not download file")},O.send()}function r(f){var d=new XMLHttpRequest;d.open("HEAD",f,!1);try{d.send()}catch{}return 200<=d.status&&299>=d.status}function n(f){try{f.dispatchEvent(new MouseEvent("click"))}catch{var d=document.createEvent("MouseEvents");d.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),f.dispatchEvent(d)}}var i=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof global=="object"&&global.global===global?global:void 0,s=i.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),c=i.saveAs||(typeof window!="object"||window!==i?function(){}:"download"in HTMLAnchorElement.prototype&&!s?function(f,d,w){var O=i.URL||i.webkitURL,S=document.createElement("a");d=d||f.name||"download",S.download=d,S.rel="noopener",typeof f=="string"?(S.href=f,S.origin===location.origin?n(S):r(S.href)?e(f,d,w):n(S,S.target="_blank")):(S.href=O.createObjectURL(f),setTimeout(function(){O.revokeObjectURL(S.href)},4e4),setTimeout(function(){n(S)},0))}:"msSaveOrOpenBlob"in navigator?function(f,d,w){if(d=d||f.name||"download",typeof f!="string")navigator.msSaveOrOpenBlob(t(f,w),d);else if(r(f))e(f,d,w);else{var O=document.createElement("a");O.href=f,O.target="_blank",setTimeout(function(){n(O)})}}:function(f,d,w,O){if(O=O||open("","_blank"),O&&(O.document.title=O.document.body.innerText="downloading..."),typeof f=="string")return e(f,d,w);var S=f.type==="application/octet-stream",E=/constructor/i.test(i.HTMLElement)||i.safari,M=/CriOS\/[\d]+/.test(navigator.userAgent);if((M||S&&E||s)&&typeof FileReader<"u"){var q=new FileReader;q.onloadend=function(){var j=q.result;j=M?j:j.replace(/^data:[^;]*;/,"data:attachment/file;"),O?O.location.href=j:location=j,O=null},q.readAsDataURL(f)}else{var L=i.URL||i.webkitURL,k=L.createObjectURL(f);O?O.location=k:location.href=k,O=null,setTimeout(function(){L.revokeObjectURL(k)},4e4)}});i.saveAs=c.saveAs=c,typeof An<"u"&&(An.exports=c)})});var Yt=class{constructor(e,r,n){this.eventTarget=e,this.eventName=r,this.eventOptions=n,this.unorderedBindings=new Set}connect(){this.eventTarget.addEventListener(this.eventName,this,this.eventOptions)}disconnect(){this.eventTarget.removeEventListener(this.eventName,this,this.eventOptions)}bindingConnected(e){this.unorderedBindings.add(e)}bindingDisconnected(e){this.unorderedBindings.delete(e)}handleEvent(e){let r=sh(e);for(let n of this.bindings){if(r.immediatePropagationStopped)break;n.handleEvent(r)}}hasBindings(){return this.unorderedBindings.size>0}get bindings(){return Array.from(this.unorderedBindings).sort((e,r)=>{let n=e.index,i=r.index;return n<i?-1:n>i?1:0})}};function sh(t){if("immediatePropagationStopped"in t)return t;{let{stopImmediatePropagation:e}=t;return Object.assign(t,{immediatePropagationStopped:!1,stopImmediatePropagation(){this.immediatePropagationStopped=!0,e.call(this)}})}}var Xt=class{constructor(e){this.application=e,this.eventListenerMaps=new Map,this.started=!1}start(){this.started||(this.started=!0,this.eventListeners.forEach(e=>e.connect()))}stop(){this.started&&(this.started=!1,this.eventListeners.forEach(e=>e.disconnect()))}get eventListeners(){return Array.from(this.eventListenerMaps.values()).reduce((e,r)=>e.concat(Array.from(r.values())),[])}bindingConnected(e){this.fetchEventListenerForBinding(e).bindingConnected(e)}bindingDisconnected(e,r=!1){this.fetchEventListenerForBinding(e).bindingDisconnected(e),r&&this.clearEventListenersForBinding(e)}handleError(e,r,n={}){this.application.handleError(e,`Error ${r}`,n)}clearEventListenersForBinding(e){let r=this.fetchEventListenerForBinding(e);r.hasBindings()||(r.disconnect(),this.removeMappedEventListenerFor(e))}removeMappedEventListenerFor(e){let{eventTarget:r,eventName:n,eventOptions:i}=e,s=this.fetchEventListenerMapForEventTarget(r),c=this.cacheKey(n,i);s.delete(c),s.size==0&&this.eventListenerMaps.delete(r)}fetchEventListenerForBinding(e){let{eventTarget:r,eventName:n,eventOptions:i}=e;return this.fetchEventListener(r,n,i)}fetchEventListener(e,r,n){let i=this.fetchEventListenerMapForEventTarget(e),s=this.cacheKey(r,n),c=i.get(s);return c||(c=this.createEventListener(e,r,n),i.set(s,c)),c}createEventListener(e,r,n){let i=new Yt(e,r,n);return this.started&&i.connect(),i}fetchEventListenerMapForEventTarget(e){let r=this.eventListenerMaps.get(e);return r||(r=new Map,this.eventListenerMaps.set(e,r)),r}cacheKey(e,r){let n=[e];return Object.keys(r).sort().forEach(i=>{n.push(`${r[i]?"":"!"}${i}`)}),n.join(":")}},oh={stop({event:t,value:e}){return e&&t.stopPropagation(),!0},prevent({event:t,value:e}){return e&&t.preventDefault(),!0},self({event:t,value:e,element:r}){return e?r===t.target:!0}},ah=/^(?:(?:([^.]+?)\+)?(.+?)(?:\.(.+?))?(?:@(window|document))?->)?(.+?)(?:#([^:]+?))(?::(.+))?$/;function ch(t){let r=t.trim().match(ah)||[],n=r[2],i=r[3];return i&&!["keydown","keyup","keypress"].includes(n)&&(n+=`.${i}`,i=""),{eventTarget:uh(r[4]),eventName:n,eventOptions:r[7]?lh(r[7]):{},identifier:r[5],methodName:r[6],keyFilter:r[1]||i}}function uh(t){if(t=="window")return window;if(t=="document")return document}function lh(t){return t.split(":").reduce((e,r)=>Object.assign(e,{[r.replace(/^!/,"")]:!/^!/.test(r)}),{})}function fh(t){if(t==window)return"window";if(t==document)return"document"}function yr(t){return t.replace(/(?:[_-])([a-z0-9])/g,(e,r)=>r.toUpperCase())}function Qt(t){return yr(t.replace(/--/g,"-").replace(/__/g,"_"))}function ze(t){return t.charAt(0).toUpperCase()+t.slice(1)}function kn(t){return t.replace(/([A-Z])/g,(e,r)=>`-${r.toLowerCase()}`)}function hh(t){return t.match(/[^\s]+/g)||[]}function _n(t){return t!=null}function er(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var En=["meta","ctrl","alt","shift"],tr=class{constructor(e,r,n,i){this.element=e,this.index=r,this.eventTarget=n.eventTarget||e,this.eventName=n.eventName||ph(e)||xt("missing event name"),this.eventOptions=n.eventOptions||{},this.identifier=n.identifier||xt("missing identifier"),this.methodName=n.methodName||xt("missing method name"),this.keyFilter=n.keyFilter||"",this.schema=i}static forToken(e,r){return new this(e.element,e.index,ch(e.content),r)}toString(){let e=this.keyFilter?`.${this.keyFilter}`:"",r=this.eventTargetName?`@${this.eventTargetName}`:"";return`${this.eventName}${e}${r}->${this.identifier}#${this.methodName}`}shouldIgnoreKeyboardEvent(e){if(!this.keyFilter)return!1;let r=this.keyFilter.split("+");if(this.keyFilterDissatisfied(e,r))return!0;let n=r.filter(i=>!En.includes(i))[0];return n?(er(this.keyMappings,n)||xt(`contains unknown key filter: ${this.keyFilter}`),this.keyMappings[n].toLowerCase()!==e.key.toLowerCase()):!1}shouldIgnoreMouseEvent(e){if(!this.keyFilter)return!1;let r=[this.keyFilter];return!!this.keyFilterDissatisfied(e,r)}get params(){let e={},r=new RegExp(`^data-${this.identifier}-(.+)-param$`,"i");for(let{name:n,value:i}of Array.from(this.element.attributes)){let s=n.match(r),c=s&&s[1];c&&(e[yr(c)]=dh(i))}return e}get eventTargetName(){return fh(this.eventTarget)}get keyMappings(){return this.schema.keyMappings}keyFilterDissatisfied(e,r){let[n,i,s,c]=En.map(f=>r.includes(f));return e.metaKey!==n||e.ctrlKey!==i||e.altKey!==s||e.shiftKey!==c}},Tn={a:()=>"click",button:()=>"click",form:()=>"submit",details:()=>"toggle",input:t=>t.getAttribute("type")=="submit"?"click":"input",select:()=>"change",textarea:()=>"input"};function ph(t){let e=t.tagName.toLowerCase();if(e in Tn)return Tn[e](t)}function xt(t){throw new Error(t)}function dh(t){try{return JSON.parse(t)}catch{return t}}var rr=class{constructor(e,r){this.context=e,this.action=r}get index(){return this.action.index}get eventTarget(){return this.action.eventTarget}get eventOptions(){return this.action.eventOptions}get identifier(){return this.context.identifier}handleEvent(e){let r=this.prepareActionEvent(e);this.willBeInvokedByEvent(e)&&this.applyEventModifiers(r)&&this.invokeWithEvent(r)}get eventName(){return this.action.eventName}get method(){let e=this.controller[this.methodName];if(typeof e=="function")return e;throw new Error(`Action "${this.action}" references undefined method "${this.methodName}"`)}applyEventModifiers(e){let{element:r}=this.action,{actionDescriptorFilters:n}=this.context.application,{controller:i}=this.context,s=!0;for(let[c,f]of Object.entries(this.eventOptions))if(c in n){let d=n[c];s=s&&d({name:c,value:f,event:e,element:r,controller:i})}else continue;return s}prepareActionEvent(e){return Object.assign(e,{params:this.action.params})}invokeWithEvent(e){let{target:r,currentTarget:n}=e;try{this.method.call(this.controller,e),this.context.logDebugActivity(this.methodName,{event:e,target:r,currentTarget:n,action:this.methodName})}catch(i){let{identifier:s,controller:c,element:f,index:d}=this,w={identifier:s,controller:c,element:f,index:d,event:e};this.context.handleError(i,`invoking action "${this.action}"`,w)}}willBeInvokedByEvent(e){let r=e.target;return e instanceof KeyboardEvent&&this.action.shouldIgnoreKeyboardEvent(e)||e instanceof MouseEvent&&this.action.shouldIgnoreMouseEvent(e)?!1:this.element===r?!0:r instanceof Element&&this.element.contains(r)?this.scope.containsElement(r):this.scope.containsElement(this.action.element)}get controller(){return this.context.controller}get methodName(){return this.action.methodName}get element(){return this.scope.element}get scope(){return this.context.scope}},yt=class{constructor(e,r){this.mutationObserverInit={attributes:!0,childList:!0,subtree:!0},this.element=e,this.started=!1,this.delegate=r,this.elements=new Set,this.mutationObserver=new MutationObserver(n=>this.processMutations(n))}start(){this.started||(this.started=!0,this.mutationObserver.observe(this.element,this.mutationObserverInit),this.refresh())}pause(e){this.started&&(this.mutationObserver.disconnect(),this.started=!1),e(),this.started||(this.mutationObserver.observe(this.element,this.mutationObserverInit),this.started=!0)}stop(){this.started&&(this.mutationObserver.takeRecords(),this.mutationObserver.disconnect(),this.started=!1)}refresh(){if(this.started){let e=new Set(this.matchElementsInTree());for(let r of Array.from(this.elements))e.has(r)||this.removeElement(r);for(let r of Array.from(e))this.addElement(r)}}processMutations(e){if(this.started)for(let r of e)this.processMutation(r)}processMutation(e){e.type=="attributes"?this.processAttributeChange(e.target,e.attributeName):e.type=="childList"&&(this.processRemovedNodes(e.removedNodes),this.processAddedNodes(e.addedNodes))}processAttributeChange(e,r){this.elements.has(e)?this.delegate.elementAttributeChanged&&this.matchElement(e)?this.delegate.elementAttributeChanged(e,r):this.removeElement(e):this.matchElement(e)&&this.addElement(e)}processRemovedNodes(e){for(let r of Array.from(e)){let n=this.elementFromNode(r);n&&this.processTree(n,this.removeElement)}}processAddedNodes(e){for(let r of Array.from(e)){let n=this.elementFromNode(r);n&&this.elementIsActive(n)&&this.processTree(n,this.addElement)}}matchElement(e){return this.delegate.matchElement(e)}matchElementsInTree(e=this.element){return this.delegate.matchElementsInTree(e)}processTree(e,r){for(let n of this.matchElementsInTree(e))r.call(this,n)}elementFromNode(e){if(e.nodeType==Node.ELEMENT_NODE)return e}elementIsActive(e){return e.isConnected!=this.element.isConnected?!1:this.element.contains(e)}addElement(e){this.elements.has(e)||this.elementIsActive(e)&&(this.elements.add(e),this.delegate.elementMatched&&this.delegate.elementMatched(e))}removeElement(e){this.elements.has(e)&&(this.elements.delete(e),this.delegate.elementUnmatched&&this.delegate.elementUnmatched(e))}},wt=class{constructor(e,r,n){this.attributeName=r,this.delegate=n,this.elementObserver=new yt(e,this)}get element(){return this.elementObserver.element}get selector(){return`[${this.attributeName}]`}start(){this.elementObserver.start()}pause(e){this.elementObserver.pause(e)}stop(){this.elementObserver.stop()}refresh(){this.elementObserver.refresh()}get started(){return this.elementObserver.started}matchElement(e){return e.hasAttribute(this.attributeName)}matchElementsInTree(e){let r=this.matchElement(e)?[e]:[],n=Array.from(e.querySelectorAll(this.selector));return r.concat(n)}elementMatched(e){this.delegate.elementMatchedAttribute&&this.delegate.elementMatchedAttribute(e,this.attributeName)}elementUnmatched(e){this.delegate.elementUnmatchedAttribute&&this.delegate.elementUnmatchedAttribute(e,this.attributeName)}elementAttributeChanged(e,r){this.delegate.elementAttributeValueChanged&&this.attributeName==r&&this.delegate.elementAttributeValueChanged(e,r)}};function gh(t,e,r){Ln(t,e).add(r)}function mh(t,e,r){Ln(t,e).delete(r),vh(t,e)}function Ln(t,e){let r=t.get(e);return r||(r=new Set,t.set(e,r)),r}function vh(t,e){let r=t.get(e);r!=null&&r.size==0&&t.delete(e)}var me=class{constructor(){this.valuesByKey=new Map}get keys(){return Array.from(this.valuesByKey.keys())}get values(){return Array.from(this.valuesByKey.values()).reduce((r,n)=>r.concat(Array.from(n)),[])}get size(){return Array.from(this.valuesByKey.values()).reduce((r,n)=>r+n.size,0)}add(e,r){gh(this.valuesByKey,e,r)}delete(e,r){mh(this.valuesByKey,e,r)}has(e,r){let n=this.valuesByKey.get(e);return n!=null&&n.has(r)}hasKey(e){return this.valuesByKey.has(e)}hasValue(e){return Array.from(this.valuesByKey.values()).some(n=>n.has(e))}getValuesForKey(e){let r=this.valuesByKey.get(e);return r?Array.from(r):[]}getKeysForValue(e){return Array.from(this.valuesByKey).filter(([r,n])=>n.has(e)).map(([r,n])=>r)}};var nr=class{constructor(e,r,n,i){this._selector=r,this.details=i,this.elementObserver=new yt(e,this),this.delegate=n,this.matchesByElement=new me}get started(){return this.elementObserver.started}get selector(){return this._selector}set selector(e){this._selector=e,this.refresh()}start(){this.elementObserver.start()}pause(e){this.elementObserver.pause(e)}stop(){this.elementObserver.stop()}refresh(){this.elementObserver.refresh()}get element(){return this.elementObserver.element}matchElement(e){let{selector:r}=this;if(r){let n=e.matches(r);return this.delegate.selectorMatchElement?n&&this.delegate.selectorMatchElement(e,this.details):n}else return!1}matchElementsInTree(e){let{selector:r}=this;if(r){let n=this.matchElement(e)?[e]:[],i=Array.from(e.querySelectorAll(r)).filter(s=>this.matchElement(s));return n.concat(i)}else return[]}elementMatched(e){let{selector:r}=this;r&&this.selectorMatched(e,r)}elementUnmatched(e){let r=this.matchesByElement.getKeysForValue(e);for(let n of r)this.selectorUnmatched(e,n)}elementAttributeChanged(e,r){let{selector:n}=this;if(n){let i=this.matchElement(e),s=this.matchesByElement.has(n,e);i&&!s?this.selectorMatched(e,n):!i&&s&&this.selectorUnmatched(e,n)}}selectorMatched(e,r){this.delegate.selectorMatched(e,r,this.details),this.matchesByElement.add(r,e)}selectorUnmatched(e,r){this.delegate.selectorUnmatched(e,r,this.details),this.matchesByElement.delete(r,e)}},ir=class{constructor(e,r){this.element=e,this.delegate=r,this.started=!1,this.stringMap=new Map,this.mutationObserver=new MutationObserver(n=>this.processMutations(n))}start(){this.started||(this.started=!0,this.mutationObserver.observe(this.element,{attributes:!0,attributeOldValue:!0}),this.refresh())}stop(){this.started&&(this.mutationObserver.takeRecords(),this.mutationObserver.disconnect(),this.started=!1)}refresh(){if(this.started)for(let e of this.knownAttributeNames)this.refreshAttribute(e,null)}processMutations(e){if(this.started)for(let r of e)this.processMutation(r)}processMutation(e){let r=e.attributeName;r&&this.refreshAttribute(r,e.oldValue)}refreshAttribute(e,r){let n=this.delegate.getStringMapKeyForAttribute(e);if(n!=null){this.stringMap.has(e)||this.stringMapKeyAdded(n,e);let i=this.element.getAttribute(e);if(this.stringMap.get(e)!=i&&this.stringMapValueChanged(i,n,r),i==null){let s=this.stringMap.get(e);this.stringMap.delete(e),s&&this.stringMapKeyRemoved(n,e,s)}else this.stringMap.set(e,i)}}stringMapKeyAdded(e,r){this.delegate.stringMapKeyAdded&&this.delegate.stringMapKeyAdded(e,r)}stringMapValueChanged(e,r,n){this.delegate.stringMapValueChanged&&this.delegate.stringMapValueChanged(e,r,n)}stringMapKeyRemoved(e,r,n){this.delegate.stringMapKeyRemoved&&this.delegate.stringMapKeyRemoved(e,r,n)}get knownAttributeNames(){return Array.from(new Set(this.currentAttributeNames.concat(this.recordedAttributeNames)))}get currentAttributeNames(){return Array.from(this.element.attributes).map(e=>e.name)}get recordedAttributeNames(){return Array.from(this.stringMap.keys())}},Ot=class{constructor(e,r,n){this.attributeObserver=new wt(e,r,this),this.delegate=n,this.tokensByElement=new me}get started(){return this.attributeObserver.started}start(){this.attributeObserver.start()}pause(e){this.attributeObserver.pause(e)}stop(){this.attributeObserver.stop()}refresh(){this.attributeObserver.refresh()}get element(){return this.attributeObserver.element}get attributeName(){return this.attributeObserver.attributeName}elementMatchedAttribute(e){this.tokensMatched(this.readTokensForElement(e))}elementAttributeValueChanged(e){let[r,n]=this.refreshTokensForElement(e);this.tokensUnmatched(r),this.tokensMatched(n)}elementUnmatchedAttribute(e){this.tokensUnmatched(this.tokensByElement.getValuesForKey(e))}tokensMatched(e){e.forEach(r=>this.tokenMatched(r))}tokensUnmatched(e){e.forEach(r=>this.tokenUnmatched(r))}tokenMatched(e){this.delegate.tokenMatched(e),this.tokensByElement.add(e.element,e)}tokenUnmatched(e){this.delegate.tokenUnmatched(e),this.tokensByElement.delete(e.element,e)}refreshTokensForElement(e){let r=this.tokensByElement.getValuesForKey(e),n=this.readTokensForElement(e),i=xh(r,n).findIndex(([s,c])=>!yh(s,c));return i==-1?[[],[]]:[r.slice(i),n.slice(i)]}readTokensForElement(e){let r=this.attributeName,n=e.getAttribute(r)||"";return bh(n,e,r)}};function bh(t,e,r){return t.trim().split(/\s+/).filter(n=>n.length).map((n,i)=>({element:e,attributeName:r,content:n,index:i}))}function xh(t,e){let r=Math.max(t.length,e.length);return Array.from({length:r},(n,i)=>[t[i],e[i]])}function yh(t,e){return t&&e&&t.index==e.index&&t.content==e.content}var At=class{constructor(e,r,n){this.tokenListObserver=new Ot(e,r,this),this.delegate=n,this.parseResultsByToken=new WeakMap,this.valuesByTokenByElement=new WeakMap}get started(){return this.tokenListObserver.started}start(){this.tokenListObserver.start()}stop(){this.tokenListObserver.stop()}refresh(){this.tokenListObserver.refresh()}get element(){return this.tokenListObserver.element}get attributeName(){return this.tokenListObserver.attributeName}tokenMatched(e){let{element:r}=e,{value:n}=this.fetchParseResultForToken(e);n&&(this.fetchValuesByTokenForElement(r).set(e,n),this.delegate.elementMatchedValue(r,n))}tokenUnmatched(e){let{element:r}=e,{value:n}=this.fetchParseResultForToken(e);n&&(this.fetchValuesByTokenForElement(r).delete(e),this.delegate.elementUnmatchedValue(r,n))}fetchParseResultForToken(e){let r=this.parseResultsByToken.get(e);return r||(r=this.parseToken(e),this.parseResultsByToken.set(e,r)),r}fetchValuesByTokenForElement(e){let r=this.valuesByTokenByElement.get(e);return r||(r=new Map,this.valuesByTokenByElement.set(e,r)),r}parseToken(e){try{return{value:this.delegate.parseValueForToken(e)}}catch(r){return{error:r}}}},sr=class{constructor(e,r){this.context=e,this.delegate=r,this.bindingsByAction=new Map}start(){this.valueListObserver||(this.valueListObserver=new At(this.element,this.actionAttribute,this),this.valueListObserver.start())}stop(){this.valueListObserver&&(this.valueListObserver.stop(),delete this.valueListObserver,this.disconnectAllActions())}get element(){return this.context.element}get identifier(){return this.context.identifier}get actionAttribute(){return this.schema.actionAttribute}get schema(){return this.context.schema}get bindings(){return Array.from(this.bindingsByAction.values())}connectAction(e){let r=new rr(this.context,e);this.bindingsByAction.set(e,r),this.delegate.bindingConnected(r)}disconnectAction(e){let r=this.bindingsByAction.get(e);r&&(this.bindingsByAction.delete(e),this.delegate.bindingDisconnected(r))}disconnectAllActions(){this.bindings.forEach(e=>this.delegate.bindingDisconnected(e,!0)),this.bindingsByAction.clear()}parseValueForToken(e){let r=tr.forToken(e,this.schema);if(r.identifier==this.identifier)return r}elementMatchedValue(e,r){this.connectAction(r)}elementUnmatchedValue(e,r){this.disconnectAction(r)}},or=class{constructor(e,r){this.context=e,this.receiver=r,this.stringMapObserver=new ir(this.element,this),this.valueDescriptorMap=this.controller.valueDescriptorMap}start(){this.stringMapObserver.start(),this.invokeChangedCallbacksForDefaultValues()}stop(){this.stringMapObserver.stop()}get element(){return this.context.element}get controller(){return this.context.controller}getStringMapKeyForAttribute(e){if(e in this.valueDescriptorMap)return this.valueDescriptorMap[e].name}stringMapKeyAdded(e,r){let n=this.valueDescriptorMap[r];this.hasValue(e)||this.invokeChangedCallback(e,n.writer(this.receiver[e]),n.writer(n.defaultValue))}stringMapValueChanged(e,r,n){let i=this.valueDescriptorNameMap[r];e!==null&&(n===null&&(n=i.writer(i.defaultValue)),this.invokeChangedCallback(r,e,n))}stringMapKeyRemoved(e,r,n){let i=this.valueDescriptorNameMap[e];this.hasValue(e)?this.invokeChangedCallback(e,i.writer(this.receiver[e]),n):this.invokeChangedCallback(e,i.writer(i.defaultValue),n)}invokeChangedCallbacksForDefaultValues(){for(let{key:e,name:r,defaultValue:n,writer:i}of this.valueDescriptors)n!=null&&!this.controller.data.has(e)&&this.invokeChangedCallback(r,i(n),void 0)}invokeChangedCallback(e,r,n){let i=`${e}Changed`,s=this.receiver[i];if(typeof s=="function"){let c=this.valueDescriptorNameMap[e];try{let f=c.reader(r),d=n;n&&(d=c.reader(n)),s.call(this.receiver,f,d)}catch(f){throw f instanceof TypeError&&(f.message=`Stimulus Value "${this.context.identifier}.${c.name}" - ${f.message}`),f}}}get valueDescriptors(){let{valueDescriptorMap:e}=this;return Object.keys(e).map(r=>e[r])}get valueDescriptorNameMap(){let e={};return Object.keys(this.valueDescriptorMap).forEach(r=>{let n=this.valueDescriptorMap[r];e[n.name]=n}),e}hasValue(e){let r=this.valueDescriptorNameMap[e],n=`has${ze(r.name)}`;return this.receiver[n]}},ar=class{constructor(e,r){this.context=e,this.delegate=r,this.targetsByName=new me}start(){this.tokenListObserver||(this.tokenListObserver=new Ot(this.element,this.attributeName,this),this.tokenListObserver.start())}stop(){this.tokenListObserver&&(this.disconnectAllTargets(),this.tokenListObserver.stop(),delete this.tokenListObserver)}tokenMatched({element:e,content:r}){this.scope.containsElement(e)&&this.connectTarget(e,r)}tokenUnmatched({element:e,content:r}){this.disconnectTarget(e,r)}connectTarget(e,r){var n;this.targetsByName.has(r,e)||(this.targetsByName.add(r,e),(n=this.tokenListObserver)===null||n===void 0||n.pause(()=>this.delegate.targetConnected(e,r)))}disconnectTarget(e,r){var n;this.targetsByName.has(r,e)&&(this.targetsByName.delete(r,e),(n=this.tokenListObserver)===null||n===void 0||n.pause(()=>this.delegate.targetDisconnected(e,r)))}disconnectAllTargets(){for(let e of this.targetsByName.keys)for(let r of this.targetsByName.getValuesForKey(e))this.disconnectTarget(r,e)}get attributeName(){return`data-${this.context.identifier}-target`}get element(){return this.context.element}get scope(){return this.context.scope}};function Ke(t,e){let r=Pn(t);return Array.from(r.reduce((n,i)=>(Oh(i,e).forEach(s=>n.add(s)),n),new Set))}function wh(t,e){return Pn(t).reduce((n,i)=>(n.push(...Ah(i,e)),n),[])}function Pn(t){let e=[];for(;t;)e.push(t),t=Object.getPrototypeOf(t);return e.reverse()}function Oh(t,e){let r=t[e];return Array.isArray(r)?r:[]}function Ah(t,e){let r=t[e];return r?Object.keys(r).map(n=>[n,r[n]]):[]}var cr=class{constructor(e,r){this.started=!1,this.context=e,this.delegate=r,this.outletsByName=new me,this.outletElementsByName=new me,this.selectorObserverMap=new Map,this.attributeObserverMap=new Map}start(){this.started||(this.outletDefinitions.forEach(e=>{this.setupSelectorObserverForOutlet(e),this.setupAttributeObserverForOutlet(e)}),this.started=!0,this.dependentContexts.forEach(e=>e.refresh()))}refresh(){this.selectorObserverMap.forEach(e=>e.refresh()),this.attributeObserverMap.forEach(e=>e.refresh())}stop(){this.started&&(this.started=!1,this.disconnectAllOutlets(),this.stopSelectorObservers(),this.stopAttributeObservers())}stopSelectorObservers(){this.selectorObserverMap.size>0&&(this.selectorObserverMap.forEach(e=>e.stop()),this.selectorObserverMap.clear())}stopAttributeObservers(){this.attributeObserverMap.size>0&&(this.attributeObserverMap.forEach(e=>e.stop()),this.attributeObserverMap.clear())}selectorMatched(e,r,{outletName:n}){let i=this.getOutlet(e,n);i&&this.connectOutlet(i,e,n)}selectorUnmatched(e,r,{outletName:n}){let i=this.getOutletFromMap(e,n);i&&this.disconnectOutlet(i,e,n)}selectorMatchElement(e,{outletName:r}){let n=this.selector(r),i=this.hasOutlet(e,r),s=e.matches(`[${this.schema.controllerAttribute}~=${r}]`);return n?i&&s&&e.matches(n):!1}elementMatchedAttribute(e,r){let n=this.getOutletNameFromOutletAttributeName(r);n&&this.updateSelectorObserverForOutlet(n)}elementAttributeValueChanged(e,r){let n=this.getOutletNameFromOutletAttributeName(r);n&&this.updateSelectorObserverForOutlet(n)}elementUnmatchedAttribute(e,r){let n=this.getOutletNameFromOutletAttributeName(r);n&&this.updateSelectorObserverForOutlet(n)}connectOutlet(e,r,n){var i;this.outletElementsByName.has(n,r)||(this.outletsByName.add(n,e),this.outletElementsByName.add(n,r),(i=this.selectorObserverMap.get(n))===null||i===void 0||i.pause(()=>this.delegate.outletConnected(e,r,n)))}disconnectOutlet(e,r,n){var i;this.outletElementsByName.has(n,r)&&(this.outletsByName.delete(n,e),this.outletElementsByName.delete(n,r),(i=this.selectorObserverMap.get(n))===null||i===void 0||i.pause(()=>this.delegate.outletDisconnected(e,r,n)))}disconnectAllOutlets(){for(let e of this.outletElementsByName.keys)for(let r of this.outletElementsByName.getValuesForKey(e))for(let n of this.outletsByName.getValuesForKey(e))this.disconnectOutlet(n,r,e)}updateSelectorObserverForOutlet(e){let r=this.selectorObserverMap.get(e);r&&(r.selector=this.selector(e))}setupSelectorObserverForOutlet(e){let r=this.selector(e),n=new nr(document.body,r,this,{outletName:e});this.selectorObserverMap.set(e,n),n.start()}setupAttributeObserverForOutlet(e){let r=this.attributeNameForOutletName(e),n=new wt(this.scope.element,r,this);this.attributeObserverMap.set(e,n),n.start()}selector(e){return this.scope.outlets.getSelectorForOutletName(e)}attributeNameForOutletName(e){return this.scope.schema.outletAttributeForScope(this.identifier,e)}getOutletNameFromOutletAttributeName(e){return this.outletDefinitions.find(r=>this.attributeNameForOutletName(r)===e)}get outletDependencies(){let e=new me;return this.router.modules.forEach(r=>{let n=r.definition.controllerConstructor;Ke(n,"outlets").forEach(s=>e.add(s,r.identifier))}),e}get outletDefinitions(){return this.outletDependencies.getKeysForValue(this.identifier)}get dependentControllerIdentifiers(){return this.outletDependencies.getValuesForKey(this.identifier)}get dependentContexts(){let e=this.dependentControllerIdentifiers;return this.router.contexts.filter(r=>e.includes(r.identifier))}hasOutlet(e,r){return!!this.getOutlet(e,r)||!!this.getOutletFromMap(e,r)}getOutlet(e,r){return this.application.getControllerForElementAndIdentifier(e,r)}getOutletFromMap(e,r){return this.outletsByName.getValuesForKey(r).find(n=>n.element===e)}get scope(){return this.context.scope}get schema(){return this.context.schema}get identifier(){return this.context.identifier}get application(){return this.context.application}get router(){return this.application.router}},ur=class{constructor(e,r){this.logDebugActivity=(n,i={})=>{let{identifier:s,controller:c,element:f}=this;i=Object.assign({identifier:s,controller:c,element:f},i),this.application.logDebugActivity(this.identifier,n,i)},this.module=e,this.scope=r,this.controller=new e.controllerConstructor(this),this.bindingObserver=new sr(this,this.dispatcher),this.valueObserver=new or(this,this.controller),this.targetObserver=new ar(this,this),this.outletObserver=new cr(this,this);try{this.controller.initialize(),this.logDebugActivity("initialize")}catch(n){this.handleError(n,"initializing controller")}}connect(){this.bindingObserver.start(),this.valueObserver.start(),this.targetObserver.start(),this.outletObserver.start();try{this.controller.connect(),this.logDebugActivity("connect")}catch(e){this.handleError(e,"connecting controller")}}refresh(){this.outletObserver.refresh()}disconnect(){try{this.controller.disconnect(),this.logDebugActivity("disconnect")}catch(e){this.handleError(e,"disconnecting controller")}this.outletObserver.stop(),this.targetObserver.stop(),this.valueObserver.stop(),this.bindingObserver.stop()}get application(){return this.module.application}get identifier(){return this.module.identifier}get schema(){return this.application.schema}get dispatcher(){return this.application.dispatcher}get element(){return this.scope.element}get parentElement(){return this.element.parentElement}handleError(e,r,n={}){let{identifier:i,controller:s,element:c}=this;n=Object.assign({identifier:i,controller:s,element:c},n),this.application.handleError(e,`Error ${r}`,n)}targetConnected(e,r){this.invokeControllerMethod(`${r}TargetConnected`,e)}targetDisconnected(e,r){this.invokeControllerMethod(`${r}TargetDisconnected`,e)}outletConnected(e,r,n){this.invokeControllerMethod(`${Qt(n)}OutletConnected`,e,r)}outletDisconnected(e,r,n){this.invokeControllerMethod(`${Qt(n)}OutletDisconnected`,e,r)}invokeControllerMethod(e,...r){let n=this.controller;typeof n[e]=="function"&&n[e](...r)}};function Sh(t){return _h(t,Eh(t))}function _h(t,e){let r=Mh(t),n=Th(t.prototype,e);return Object.defineProperties(r.prototype,n),r}function Eh(t){return Ke(t,"blessings").reduce((r,n)=>{let i=n(t);for(let s in i){let c=r[s]||{};r[s]=Object.assign(c,i[s])}return r},{})}function Th(t,e){return Ch(e).reduce((r,n)=>{let i=qh(t,e,n);return i&&Object.assign(r,{[n]:i}),r},{})}function qh(t,e,r){let n=Object.getOwnPropertyDescriptor(t,r);if(!(n&&"value"in n)){let s=Object.getOwnPropertyDescriptor(e,r).value;return n&&(s.get=n.get||s.get,s.set=n.set||s.set),s}}var Ch=typeof Object.getOwnPropertySymbols=="function"?t=>[...Object.getOwnPropertyNames(t),...Object.getOwnPropertySymbols(t)]:Object.getOwnPropertyNames,Mh=(()=>{function t(r){function n(){return Reflect.construct(r,arguments,new.target)}return n.prototype=Object.create(r.prototype,{constructor:{value:n}}),Reflect.setPrototypeOf(n,r),n}function e(){let n=t(function(){this.a.call(this)});return n.prototype.a=function(){},new n}try{return e(),t}catch{return n=>class extends n{}}})();function Nh(t){return{identifier:t.identifier,controllerConstructor:Sh(t.controllerConstructor)}}var lr=class{constructor(e,r){this.application=e,this.definition=Nh(r),this.contextsByScope=new WeakMap,this.connectedContexts=new Set}get identifier(){return this.definition.identifier}get controllerConstructor(){return this.definition.controllerConstructor}get contexts(){return Array.from(this.connectedContexts)}connectContextForScope(e){let r=this.fetchContextForScope(e);this.connectedContexts.add(r),r.connect()}disconnectContextForScope(e){let r=this.contextsByScope.get(e);r&&(this.connectedContexts.delete(r),r.disconnect())}fetchContextForScope(e){let r=this.contextsByScope.get(e);return r||(r=new ur(this,e),this.contextsByScope.set(e,r)),r}},fr=class{constructor(e){this.scope=e}has(e){return this.data.has(this.getDataKey(e))}get(e){return this.getAll(e)[0]}getAll(e){let r=this.data.get(this.getDataKey(e))||"";return hh(r)}getAttributeName(e){return this.data.getAttributeNameForKey(this.getDataKey(e))}getDataKey(e){return`${e}-class`}get data(){return this.scope.data}},hr=class{constructor(e){this.scope=e}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get(e){let r=this.getAttributeNameForKey(e);return this.element.getAttribute(r)}set(e,r){let n=this.getAttributeNameForKey(e);return this.element.setAttribute(n,r),this.get(e)}has(e){let r=this.getAttributeNameForKey(e);return this.element.hasAttribute(r)}delete(e){if(this.has(e)){let r=this.getAttributeNameForKey(e);return this.element.removeAttribute(r),!0}else return!1}getAttributeNameForKey(e){return`data-${this.identifier}-${kn(e)}`}},pr=class{constructor(e){this.warnedKeysByObject=new WeakMap,this.logger=e}warn(e,r,n){let i=this.warnedKeysByObject.get(e);i||(i=new Set,this.warnedKeysByObject.set(e,i)),i.has(r)||(i.add(r),this.logger.warn(n,e))}};function dr(t,e){return`[${t}~="${e}"]`}var gr=class{constructor(e){this.scope=e}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get schema(){return this.scope.schema}has(e){return this.find(e)!=null}find(...e){return e.reduce((r,n)=>r||this.findTarget(n)||this.findLegacyTarget(n),void 0)}findAll(...e){return e.reduce((r,n)=>[...r,...this.findAllTargets(n),...this.findAllLegacyTargets(n)],[])}findTarget(e){let r=this.getSelectorForTargetName(e);return this.scope.findElement(r)}findAllTargets(e){let r=this.getSelectorForTargetName(e);return this.scope.findAllElements(r)}getSelectorForTargetName(e){let r=this.schema.targetAttributeForScope(this.identifier);return dr(r,e)}findLegacyTarget(e){let r=this.getLegacySelectorForTargetName(e);return this.deprecate(this.scope.findElement(r),e)}findAllLegacyTargets(e){let r=this.getLegacySelectorForTargetName(e);return this.scope.findAllElements(r).map(n=>this.deprecate(n,e))}getLegacySelectorForTargetName(e){let r=`${this.identifier}.${e}`;return dr(this.schema.targetAttribute,r)}deprecate(e,r){if(e){let{identifier:n}=this,i=this.schema.targetAttribute,s=this.schema.targetAttributeForScope(n);this.guide.warn(e,`target:${r}`,`Please replace ${i}="${n}.${r}" with ${s}="${r}". The ${i} attribute is deprecated and will be removed in a future version of Stimulus.`)}return e}get guide(){return this.scope.guide}},mr=class{constructor(e,r){this.scope=e,this.controllerElement=r}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get schema(){return this.scope.schema}has(e){return this.find(e)!=null}find(...e){return e.reduce((r,n)=>r||this.findOutlet(n),void 0)}findAll(...e){return e.reduce((r,n)=>[...r,...this.findAllOutlets(n)],[])}getSelectorForOutletName(e){let r=this.schema.outletAttributeForScope(this.identifier,e);return this.controllerElement.getAttribute(r)}findOutlet(e){let r=this.getSelectorForOutletName(e);if(r)return this.findElement(r,e)}findAllOutlets(e){let r=this.getSelectorForOutletName(e);return r?this.findAllElements(r,e):[]}findElement(e,r){return this.scope.queryElements(e).filter(i=>this.matchesElement(i,e,r))[0]}findAllElements(e,r){return this.scope.queryElements(e).filter(i=>this.matchesElement(i,e,r))}matchesElement(e,r,n){let i=e.getAttribute(this.scope.schema.controllerAttribute)||"";return e.matches(r)&&i.split(" ").includes(n)}},vr=class t{constructor(e,r,n,i){this.targets=new gr(this),this.classes=new fr(this),this.data=new hr(this),this.containsElement=s=>s.closest(this.controllerSelector)===this.element,this.schema=e,this.element=r,this.identifier=n,this.guide=new pr(i),this.outlets=new mr(this.documentScope,r)}findElement(e){return this.element.matches(e)?this.element:this.queryElements(e).find(this.containsElement)}findAllElements(e){return[...this.element.matches(e)?[this.element]:[],...this.queryElements(e).filter(this.containsElement)]}queryElements(e){return Array.from(this.element.querySelectorAll(e))}get controllerSelector(){return dr(this.schema.controllerAttribute,this.identifier)}get isDocumentScope(){return this.element===document.documentElement}get documentScope(){return this.isDocumentScope?this:new t(this.schema,document.documentElement,this.identifier,this.guide.logger)}},br=class{constructor(e,r,n){this.element=e,this.schema=r,this.delegate=n,this.valueListObserver=new At(this.element,this.controllerAttribute,this),this.scopesByIdentifierByElement=new WeakMap,this.scopeReferenceCounts=new WeakMap}start(){this.valueListObserver.start()}stop(){this.valueListObserver.stop()}get controllerAttribute(){return this.schema.controllerAttribute}parseValueForToken(e){let{element:r,content:n}=e;return this.parseValueForElementAndIdentifier(r,n)}parseValueForElementAndIdentifier(e,r){let n=this.fetchScopesByIdentifierForElement(e),i=n.get(r);return i||(i=this.delegate.createScopeForElementAndIdentifier(e,r),n.set(r,i)),i}elementMatchedValue(e,r){let n=(this.scopeReferenceCounts.get(r)||0)+1;this.scopeReferenceCounts.set(r,n),n==1&&this.delegate.scopeConnected(r)}elementUnmatchedValue(e,r){let n=this.scopeReferenceCounts.get(r);n&&(this.scopeReferenceCounts.set(r,n-1),n==1&&this.delegate.scopeDisconnected(r))}fetchScopesByIdentifierForElement(e){let r=this.scopesByIdentifierByElement.get(e);return r||(r=new Map,this.scopesByIdentifierByElement.set(e,r)),r}},xr=class{constructor(e){this.application=e,this.scopeObserver=new br(this.element,this.schema,this),this.scopesByIdentifier=new me,this.modulesByIdentifier=new Map}get element(){return this.application.element}get schema(){return this.application.schema}get logger(){return this.application.logger}get controllerAttribute(){return this.schema.controllerAttribute}get modules(){return Array.from(this.modulesByIdentifier.values())}get contexts(){return this.modules.reduce((e,r)=>e.concat(r.contexts),[])}start(){this.scopeObserver.start()}stop(){this.scopeObserver.stop()}loadDefinition(e){this.unloadIdentifier(e.identifier);let r=new lr(this.application,e);this.connectModule(r);let n=e.controllerConstructor.afterLoad;n&&n.call(e.controllerConstructor,e.identifier,this.application)}unloadIdentifier(e){let r=this.modulesByIdentifier.get(e);r&&this.disconnectModule(r)}getContextForElementAndIdentifier(e,r){let n=this.modulesByIdentifier.get(r);if(n)return n.contexts.find(i=>i.element==e)}proposeToConnectScopeForElementAndIdentifier(e,r){let n=this.scopeObserver.parseValueForElementAndIdentifier(e,r);n?this.scopeObserver.elementMatchedValue(n.element,n):console.error(`Couldn't find or create scope for identifier: "${r}" and element:`,e)}handleError(e,r,n){this.application.handleError(e,r,n)}createScopeForElementAndIdentifier(e,r){return new vr(this.schema,e,r,this.logger)}scopeConnected(e){this.scopesByIdentifier.add(e.identifier,e);let r=this.modulesByIdentifier.get(e.identifier);r&&r.connectContextForScope(e)}scopeDisconnected(e){this.scopesByIdentifier.delete(e.identifier,e);let r=this.modulesByIdentifier.get(e.identifier);r&&r.disconnectContextForScope(e)}connectModule(e){this.modulesByIdentifier.set(e.identifier,e),this.scopesByIdentifier.getValuesForKey(e.identifier).forEach(n=>e.connectContextForScope(n))}disconnectModule(e){this.modulesByIdentifier.delete(e.identifier),this.scopesByIdentifier.getValuesForKey(e.identifier).forEach(n=>e.disconnectContextForScope(n))}},Fh={controllerAttribute:"data-controller",actionAttribute:"data-action",targetAttribute:"data-target",targetAttributeForScope:t=>`data-${t}-target`,outletAttributeForScope:(t,e)=>`data-${t}-${e}-outlet`,keyMappings:Object.assign(Object.assign({enter:"Enter",tab:"Tab",esc:"Escape",space:" ",up:"ArrowUp",down:"ArrowDown",left:"ArrowLeft",right:"ArrowRight",home:"Home",end:"End",page_up:"PageUp",page_down:"PageDown"},qn("abcdefghijklmnopqrstuvwxyz".split("").map(t=>[t,t]))),qn("0123456789".split("").map(t=>[t,t])))};function qn(t){return t.reduce((e,[r,n])=>Object.assign(Object.assign({},e),{[r]:n}),{})}var St=class{constructor(e=document.documentElement,r=Fh){this.logger=console,this.debug=!1,this.logDebugActivity=(n,i,s={})=>{this.debug&&this.logFormattedMessage(n,i,s)},this.element=e,this.schema=r,this.dispatcher=new Xt(this),this.router=new xr(this),this.actionDescriptorFilters=Object.assign({},oh)}static start(e,r){let n=new this(e,r);return n.start(),n}async start(){await Ih(),this.logDebugActivity("application","starting"),this.dispatcher.start(),this.router.start(),this.logDebugActivity("application","start")}stop(){this.logDebugActivity("application","stopping"),this.dispatcher.stop(),this.router.stop(),this.logDebugActivity("application","stop")}register(e,r){this.load({identifier:e,controllerConstructor:r})}registerActionOption(e,r){this.actionDescriptorFilters[e]=r}load(e,...r){(Array.isArray(e)?e:[e,...r]).forEach(i=>{i.controllerConstructor.shouldLoad&&this.router.loadDefinition(i)})}unload(e,...r){(Array.isArray(e)?e:[e,...r]).forEach(i=>this.router.unloadIdentifier(i))}get controllers(){return this.router.contexts.map(e=>e.controller)}getControllerForElementAndIdentifier(e,r){let n=this.router.getContextForElementAndIdentifier(e,r);return n?n.controller:null}handleError(e,r,n){var i;this.logger.error(`%s

%o

%o`,r,e,n),(i=window.onerror)===null||i===void 0||i.call(window,r,"",0,0,e)}logFormattedMessage(e,r,n={}){n=Object.assign({application:this},n),this.logger.groupCollapsed(`${e} #${r}`),this.logger.log("details:",Object.assign({},n)),this.logger.groupEnd()}};function Ih(){return new Promise(t=>{document.readyState=="loading"?document.addEventListener("DOMContentLoaded",()=>t()):t()})}function kh(t){return Ke(t,"classes").reduce((r,n)=>Object.assign(r,Lh(n)),{})}function Lh(t){return{[`${t}Class`]:{get(){let{classes:e}=this;if(e.has(t))return e.get(t);{let r=e.getAttributeName(t);throw new Error(`Missing attribute "${r}"`)}}},[`${t}Classes`]:{get(){return this.classes.getAll(t)}},[`has${ze(t)}Class`]:{get(){return this.classes.has(t)}}}}function Ph(t){return Ke(t,"outlets").reduce((r,n)=>Object.assign(r,Dh(n)),{})}function Cn(t,e,r){return t.application.getControllerForElementAndIdentifier(e,r)}function Mn(t,e,r){let n=Cn(t,e,r);if(n||(t.application.router.proposeToConnectScopeForElementAndIdentifier(e,r),n=Cn(t,e,r),n))return n}function Dh(t){let e=Qt(t);return{[`${e}Outlet`]:{get(){let r=this.outlets.find(t),n=this.outlets.getSelectorForOutletName(t);if(r){let i=Mn(this,r,t);if(i)return i;throw new Error(`The provided outlet element is missing an outlet controller "${t}" instance for host controller "${this.identifier}"`)}throw new Error(`Missing outlet element "${t}" for host controller "${this.identifier}". Stimulus couldn't find a matching outlet element using selector "${n}".`)}},[`${e}Outlets`]:{get(){let r=this.outlets.findAll(t);return r.length>0?r.map(n=>{let i=Mn(this,n,t);if(i)return i;console.warn(`The provided outlet element is missing an outlet controller "${t}" instance for host controller "${this.identifier}"`,n)}).filter(n=>n):[]}},[`${e}OutletElement`]:{get(){let r=this.outlets.find(t),n=this.outlets.getSelectorForOutletName(t);if(r)return r;throw new Error(`Missing outlet element "${t}" for host controller "${this.identifier}". Stimulus couldn't find a matching outlet element using selector "${n}".`)}},[`${e}OutletElements`]:{get(){return this.outlets.findAll(t)}},[`has${ze(e)}Outlet`]:{get(){return this.outlets.has(t)}}}}function Bh(t){return Ke(t,"targets").reduce((r,n)=>Object.assign(r,jh(n)),{})}function jh(t){return{[`${t}Target`]:{get(){let e=this.targets.find(t);if(e)return e;throw new Error(`Missing target element "${t}" for "${this.identifier}" controller`)}},[`${t}Targets`]:{get(){return this.targets.findAll(t)}},[`has${ze(t)}Target`]:{get(){return this.targets.has(t)}}}}function Rh(t){let e=wh(t,"values"),r={valueDescriptorMap:{get(){return e.reduce((n,i)=>{let s=Dn(i,this.identifier),c=this.data.getAttributeNameForKey(s.key);return Object.assign(n,{[c]:s})},{})}}};return e.reduce((n,i)=>Object.assign(n,$h(i)),r)}function $h(t,e){let r=Dn(t,e),{key:n,name:i,reader:s,writer:c}=r;return{[i]:{get(){let f=this.data.get(n);return f!==null?s(f):r.defaultValue},set(f){f===void 0?this.data.delete(n):this.data.set(n,c(f))}},[`has${ze(i)}`]:{get(){return this.data.has(n)||r.hasCustomDefaultValue}}}}function Dn([t,e],r){return Kh({controller:r,token:t,typeDefinition:e})}function _t(t){switch(t){case Array:return"array";case Boolean:return"boolean";case Number:return"number";case Object:return"object";case String:return"string"}}function Ve(t){switch(typeof t){case"boolean":return"boolean";case"number":return"number";case"string":return"string"}if(Array.isArray(t))return"array";if(Object.prototype.toString.call(t)==="[object Object]")return"object"}function Uh(t){let{controller:e,token:r,typeObject:n}=t,i=_n(n.type),s=_n(n.default),c=i&&s,f=i&&!s,d=!i&&s,w=_t(n.type),O=Ve(t.typeObject.default);if(f)return w;if(d)return O;if(w!==O){let S=e?`${e}.${r}`:r;throw new Error(`The specified default value for the Stimulus Value "${S}" must match the defined type "${w}". The provided default value of "${n.default}" is of type "${O}".`)}if(c)return w}function Vh(t){let{controller:e,token:r,typeDefinition:n}=t,s=Uh({controller:e,token:r,typeObject:n}),c=Ve(n),f=_t(n),d=s||c||f;if(d)return d;let w=e?`${e}.${n}`:r;throw new Error(`Unknown value type "${w}" for "${r}" value`)}function zh(t){let e=_t(t);if(e)return Nn[e];let r=er(t,"default"),n=er(t,"type"),i=t;if(r)return i.default;if(n){let{type:s}=i,c=_t(s);if(c)return Nn[c]}return t}function Kh(t){let{token:e,typeDefinition:r}=t,n=`${kn(e)}-value`,i=Vh(t);return{type:i,key:n,name:yr(n),get defaultValue(){return zh(r)},get hasCustomDefaultValue(){return Ve(r)!==void 0},reader:Hh[i],writer:Fn[i]||Fn.default}}var Nn={get array(){return[]},boolean:!1,number:0,get object(){return{}},string:""},Hh={array(t){let e=JSON.parse(t);if(!Array.isArray(e))throw new TypeError(`expected value of type "array" but instead got value "${t}" of type "${Ve(e)}"`);return e},boolean(t){return!(t=="0"||String(t).toLowerCase()=="false")},number(t){return Number(t.replace(/_/g,""))},object(t){let e=JSON.parse(t);if(e===null||typeof e!="object"||Array.isArray(e))throw new TypeError(`expected value of type "object" but instead got value "${t}" of type "${Ve(e)}"`);return e},string(t){return t}},Fn={default:Gh,array:In,object:In};function In(t){return JSON.stringify(t)}function Gh(t){return`${t}`}var be=class{constructor(e){this.context=e}static get shouldLoad(){return!0}static afterLoad(e,r){}get application(){return this.context.application}get scope(){return this.context.scope}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get targets(){return this.scope.targets}get outlets(){return this.scope.outlets}get classes(){return this.scope.classes}get data(){return this.scope.data}initialize(){}connect(){}disconnect(){}dispatch(e,{target:r=this.element,detail:n={},prefix:i=this.identifier,bubbles:s=!0,cancelable:c=!0}={}){let f=i?`${i}:${e}`:e,d=new CustomEvent(f,{detail:n,bubbles:s,cancelable:c});return r.dispatchEvent(d),d}};be.blessings=[kh,Bh,Rh,Ph];be.targets=[];be.outlets=[];be.values={};var Y=class extends be{};var He=class extends Y{static targets=["input"];static values={id:String,negativePrefix:String,positivePrefix:String};tick({params:{tickValue:t}}){let r=(parseInt(this.inputTarget.value,10)||0)+t,n="";r>0?n=this.positivePrefixValue:r<0&&(n=this.negativePrefixValue),this.inputTarget.value=`${n}${Math.abs(r)}`,this.dispatch("change",{detail:{id:this.idValue,value:this.inputTarget.value}})}load({detail:{state:t}}){this.inputTarget.value=t[this.idValue]}};var Uf=de(Tr()),Vf=de(Fs()),zf=de(Ta());var rc=de(tc()),ub=(t,e)=>{let r=[],n=[];return r.push(e),e||r.push(t.locale),t.enableFallback&&r.push(t.defaultLocale),r.filter(Boolean).map(i=>i.toString()).forEach(function(i){if(n.includes(i)||n.push(i),!t.enableFallback)return;let s=i.split("-");s.length===3&&n.push(`${s[0]}-${s[1]}`),n.push(s[0])}),(0,rc.default)(n)},ot=class{constructor(e){this.i18n=e,this.registry={},this.register("default",ub)}register(e,r){if(typeof r!="function"){let n=r;r=()=>n}this.registry[e]=r}get(e){let r=this.registry[e]||this.registry[this.i18n.locale]||this.registry.default;return typeof r=="function"&&(r=r(this.i18n,e)),r instanceof Array||(r=[r]),r}};var nc=(t,e)=>{let r=String(t).split("."),n=!r[1],i=Number(r[0])==t,s=i&&r[0].slice(-1),c=i&&r[0].slice(-2);return e?s==1&&c!=11?"one":s==2&&c!=12?"two":s==3&&c!=13?"few":"other":t==1&&n?"one":"other"};function ic({pluralizer:t,includeZero:e=!0,ordinal:r=!1}){return function(n,i){return[e&&i===0?"zero":"",t(i,r)].filter(Boolean)}}var lb=ic({pluralizer:nc,includeZero:!0}),at=class{constructor(e){this.i18n=e,this.registry={},this.register("default",lb)}register(e,r){this.registry[e]=r}get(e){return this.registry[e]||this.registry[this.i18n.locale]||this.registry.default}};var fu=de(lu());function re(t){return t?Object.keys(t).reduce((e,r)=>(e[(0,fu.default)(r)]=t[r],e),{}):{}}function Z(t){return t!=null}function Zr(t,e,r){let n=[{scope:e}];if(Z(r.defaults)&&(n=n.concat(r.defaults)),Z(r.defaultValue)){let i=typeof r.defaultValue=="function"?r.defaultValue(t,e,r):r.defaultValue;n.push({message:i}),delete r.defaultValue}return n}var Qx=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,Jr=Math.ceil,ae=Math.floor,X="[BigNumber Error] ",hu=X+"Number primitive has more than 15 significant digits: ",fe=1e14,N=14,Yr=9007199254740991,Xr=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],we=1e7,z=1e9;function pu(t){var e,r,n,i=_.prototype={constructor:_,toString:null,valueOf:null},s=new _(1),c=20,f=4,d=-7,w=21,O=-1e7,S=1e7,E=!1,M=1,q=0,L={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"\xA0",suffix:""},k="0123456789abcdefghijklmnopqrstuvwxyz",j=!0;function _(o,a){var u,b,p,m,y,h,g,x,v=this;if(!(v instanceof _))return new _(o,a);if(a==null){if(o&&o._isBigNumber===!0){v.s=o.s,!o.c||o.e>S?v.c=v.e=null:o.e<O?v.c=[v.e=0]:(v.e=o.e,v.c=o.c.slice());return}if((h=typeof o=="number")&&o*0==0){if(v.s=1/o<0?(o=-o,-1):1,o===~~o){for(m=0,y=o;y>=10;y/=10,m++);m>S?v.c=v.e=null:(v.e=m,v.c=[o]);return}x=String(o)}else{if(!Qx.test(x=String(o)))return n(v,x,h);v.s=x.charCodeAt(0)==45?(x=x.slice(1),-1):1}(m=x.indexOf("."))>-1&&(x=x.replace(".","")),(y=x.search(/e/i))>0?(m<0&&(m=y),m+=+x.slice(y+1),x=x.substring(0,y)):m<0&&(m=x.length)}else{if(R(a,2,k.length,"Base"),a==10&&j)return v=new _(o),G(v,c+v.e+1,f);if(x=String(o),h=typeof o=="number"){if(o*0!=0)return n(v,x,h,a);if(v.s=1/o<0?(x=x.slice(1),-1):1,_.DEBUG&&x.replace(/^0\.0*|\./,"").length>15)throw Error(hu+o)}else v.s=x.charCodeAt(0)===45?(x=x.slice(1),-1):1;for(u=k.slice(0,a),m=y=0,g=x.length;y<g;y++)if(u.indexOf(b=x.charAt(y))<0){if(b=="."){if(y>m){m=g;continue}}else if(!p&&(x==x.toUpperCase()&&(x=x.toLowerCase())||x==x.toLowerCase()&&(x=x.toUpperCase()))){p=!0,y=-1,m=0;continue}return n(v,String(o),h,a)}h=!1,x=r(x,a,10,v.s),(m=x.indexOf("."))>-1?x=x.replace(".",""):m=x.length}for(y=0;x.charCodeAt(y)===48;y++);for(g=x.length;x.charCodeAt(--g)===48;);if(x=x.slice(y,++g)){if(g-=y,h&&_.DEBUG&&g>15&&(o>Yr||o!==ae(o)))throw Error(hu+v.s*o);if((m=m-y-1)>S)v.c=v.e=null;else if(m<O)v.c=[v.e=0];else{if(v.e=m,v.c=[],y=(m+1)%N,m<0&&(y+=N),y<g){for(y&&v.c.push(+x.slice(0,y)),g-=N;y<g;)v.c.push(+x.slice(y,y+=N));y=N-(x=x.slice(y)).length}else y-=g;for(;y--;x+="0");v.c.push(+x)}}else v.c=[v.e=0]}_.clone=pu,_.ROUND_UP=0,_.ROUND_DOWN=1,_.ROUND_CEIL=2,_.ROUND_FLOOR=3,_.ROUND_HALF_UP=4,_.ROUND_HALF_DOWN=5,_.ROUND_HALF_EVEN=6,_.ROUND_HALF_CEIL=7,_.ROUND_HALF_FLOOR=8,_.EUCLID=9,_.config=_.set=function(o){var a,u;if(o!=null)if(typeof o=="object"){if(o.hasOwnProperty(a="DECIMAL_PLACES")&&(u=o[a],R(u,0,z,a),c=u),o.hasOwnProperty(a="ROUNDING_MODE")&&(u=o[a],R(u,0,8,a),f=u),o.hasOwnProperty(a="EXPONENTIAL_AT")&&(u=o[a],u&&u.pop?(R(u[0],-z,0,a),R(u[1],0,z,a),d=u[0],w=u[1]):(R(u,-z,z,a),d=-(w=u<0?-u:u))),o.hasOwnProperty(a="RANGE"))if(u=o[a],u&&u.pop)R(u[0],-z,-1,a),R(u[1],1,z,a),O=u[0],S=u[1];else if(R(u,-z,z,a),u)O=-(S=u<0?-u:u);else throw Error(X+a+" cannot be zero: "+u);if(o.hasOwnProperty(a="CRYPTO"))if(u=o[a],u===!!u)if(u)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))E=u;else throw E=!u,Error(X+"crypto unavailable");else E=u;else throw Error(X+a+" not true or false: "+u);if(o.hasOwnProperty(a="MODULO_MODE")&&(u=o[a],R(u,0,9,a),M=u),o.hasOwnProperty(a="POW_PRECISION")&&(u=o[a],R(u,0,z,a),q=u),o.hasOwnProperty(a="FORMAT"))if(u=o[a],typeof u=="object")L=u;else throw Error(X+a+" not an object: "+u);if(o.hasOwnProperty(a="ALPHABET"))if(u=o[a],typeof u=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(u))j=u.slice(0,10)=="0123456789",k=u;else throw Error(X+a+" invalid: "+u)}else throw Error(X+"Object expected: "+o);return{DECIMAL_PLACES:c,ROUNDING_MODE:f,EXPONENTIAL_AT:[d,w],RANGE:[O,S],CRYPTO:E,MODULO_MODE:M,POW_PRECISION:q,FORMAT:L,ALPHABET:k}},_.isBigNumber=function(o){if(!o||o._isBigNumber!==!0)return!1;if(!_.DEBUG)return!0;var a,u,b=o.c,p=o.e,m=o.s;e:if({}.toString.call(b)=="[object Array]"){if((m===1||m===-1)&&p>=-z&&p<=z&&p===ae(p)){if(b[0]===0){if(p===0&&b.length===1)return!0;break e}if(a=(p+1)%N,a<1&&(a+=N),String(b[0]).length==a){for(a=0;a<b.length;a++)if(u=b[a],u<0||u>=fe||u!==ae(u))break e;if(u!==0)return!0}}}else if(b===null&&p===null&&(m===null||m===1||m===-1))return!0;throw Error(X+"Invalid BigNumber: "+o)},_.maximum=_.max=function(){return J(arguments,-1)},_.minimum=_.min=function(){return J(arguments,1)},_.random=function(){var o=9007199254740992,a=Math.random()*o&2097151?function(){return ae(Math.random()*o)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(u){var b,p,m,y,h,g=0,x=[],v=new _(s);if(u==null?u=c:R(u,0,z),y=Jr(u/N),E)if(crypto.getRandomValues){for(b=crypto.getRandomValues(new Uint32Array(y*=2));g<y;)h=b[g]*131072+(b[g+1]>>>11),h>=9e15?(p=crypto.getRandomValues(new Uint32Array(2)),b[g]=p[0],b[g+1]=p[1]):(x.push(h%1e14),g+=2);g=y/2}else if(crypto.randomBytes){for(b=crypto.randomBytes(y*=7);g<y;)h=(b[g]&31)*281474976710656+b[g+1]*1099511627776+b[g+2]*4294967296+b[g+3]*16777216+(b[g+4]<<16)+(b[g+5]<<8)+b[g+6],h>=9e15?crypto.randomBytes(7).copy(b,g):(x.push(h%1e14),g+=7);g=y/7}else throw E=!1,Error(X+"crypto unavailable");if(!E)for(;g<y;)h=a(),h<9e15&&(x[g++]=h%1e14);for(y=x[--g],u%=N,y&&u&&(h=Xr[N-u],x[g]=ae(y/h)*h);x[g]===0;x.pop(),g--);if(g<0)x=[m=0];else{for(m=-1;x[0]===0;x.splice(0,1),m-=N);for(g=1,h=x[0];h>=10;h/=10,g++);g<N&&(m-=N-g)}return v.e=m,v.c=x,v}}(),_.sum=function(){for(var o=1,a=arguments,u=new _(a[0]);o<a.length;)u=u.plus(a[o++]);return u},r=function(){var o="0123456789";function a(u,b,p,m){for(var y,h=[0],g,x=0,v=u.length;x<v;){for(g=h.length;g--;h[g]*=b);for(h[0]+=m.indexOf(u.charAt(x++)),y=0;y<h.length;y++)h[y]>p-1&&(h[y+1]==null&&(h[y+1]=0),h[y+1]+=h[y]/p|0,h[y]%=p)}return h.reverse()}return function(u,b,p,m,y){var h,g,x,v,A,T,C,I,$=u.indexOf("."),V=c,F=f;for($>=0&&(v=q,q=0,u=u.replace(".",""),I=new _(b),T=I.pow(u.length-$),q=v,I.c=a(ve(oe(T.c),T.e,"0"),10,p,o),I.e=I.c.length),C=a(u,b,p,y?(h=k,o):(h=o,k)),x=v=C.length;C[--v]==0;C.pop());if(!C[0])return h.charAt(0);if($<0?--x:(T.c=C,T.e=x,T.s=m,T=e(T,I,V,F,p),C=T.c,A=T.r,x=T.e),g=x+V+1,$=C[g],v=p/2,A=A||g<0||C[g+1]!=null,A=F<4?($!=null||A)&&(F==0||F==(T.s<0?3:2)):$>v||$==v&&(F==4||A||F==6&&C[g-1]&1||F==(T.s<0?8:7)),g<1||!C[0])u=A?ve(h.charAt(1),-V,h.charAt(0)):h.charAt(0);else{if(C.length=g,A)for(--p;++C[--g]>p;)C[g]=0,g||(++x,C=[1].concat(C));for(v=C.length;!C[--v];);for($=0,u="";$<=v;u+=h.charAt(C[$++]));u=ve(u,x,h.charAt(0))}return u}}(),e=function(){function o(b,p,m){var y,h,g,x,v=0,A=b.length,T=p%we,C=p/we|0;for(b=b.slice();A--;)g=b[A]%we,x=b[A]/we|0,y=C*g+x*T,h=T*g+y%we*we+v,v=(h/m|0)+(y/we|0)+C*x,b[A]=h%m;return v&&(b=[v].concat(b)),b}function a(b,p,m,y){var h,g;if(m!=y)g=m>y?1:-1;else for(h=g=0;h<m;h++)if(b[h]!=p[h]){g=b[h]>p[h]?1:-1;break}return g}function u(b,p,m,y){for(var h=0;m--;)b[m]-=h,h=b[m]<p[m]?1:0,b[m]=h*y+b[m]-p[m];for(;!b[0]&&b.length>1;b.splice(0,1));}return function(b,p,m,y,h){var g,x,v,A,T,C,I,$,V,F,P,K,bt,Zt,Jt,pe,Ue,ie=b.s==p.s?1:-1,W=b.c,U=p.c;if(!W||!W[0]||!U||!U[0])return new _(!b.s||!p.s||(W?U&&W[0]==U[0]:!U)?NaN:W&&W[0]==0||!U?ie*0:ie/0);for($=new _(ie),V=$.c=[],x=b.e-p.e,ie=m+x+1,h||(h=fe,x=ce(b.e/N)-ce(p.e/N),ie=ie/N|0),v=0;U[v]==(W[v]||0);v++);if(U[v]>(W[v]||0)&&x--,ie<0)V.push(1),A=!0;else{for(Zt=W.length,pe=U.length,v=0,ie+=2,T=ae(h/(U[0]+1)),T>1&&(U=o(U,T,h),W=o(W,T,h),pe=U.length,Zt=W.length),bt=pe,F=W.slice(0,pe),P=F.length;P<pe;F[P++]=0);Ue=U.slice(),Ue=[0].concat(Ue),Jt=U[0],U[1]>=h/2&&Jt++;do{if(T=0,g=a(U,F,pe,P),g<0){if(K=F[0],pe!=P&&(K=K*h+(F[1]||0)),T=ae(K/Jt),T>1)for(T>=h&&(T=h-1),C=o(U,T,h),I=C.length,P=F.length;a(C,F,I,P)==1;)T--,u(C,pe<I?Ue:U,I,h),I=C.length,g=1;else T==0&&(g=T=1),C=U.slice(),I=C.length;if(I<P&&(C=[0].concat(C)),u(F,C,P,h),P=F.length,g==-1)for(;a(U,F,pe,P)<1;)T++,u(F,pe<P?Ue:U,P,h),P=F.length}else g===0&&(T++,F=[0]);V[v++]=T,F[0]?F[P++]=W[bt]||0:(F=[W[bt]],P=1)}while((bt++<Zt||F[0]!=null)&&ie--);A=F[0]!=null,V[0]||V.splice(0,1)}if(h==fe){for(v=1,ie=V[0];ie>=10;ie/=10,v++);G($,m+($.e=v+x*N-1)+1,y,A)}else $.e=x,$.r=+A;return $}}();function ee(o,a,u,b){var p,m,y,h,g;if(u==null?u=f:R(u,0,8),!o.c)return o.toString();if(p=o.c[0],y=o.e,a==null)g=oe(o.c),g=b==1||b==2&&(y<=d||y>=w)?$t(g,y):ve(g,y,"0");else if(o=G(new _(o),a,u),m=o.e,g=oe(o.c),h=g.length,b==1||b==2&&(a<=m||m<=d)){for(;h<a;g+="0",h++);g=$t(g,m)}else if(a-=y,g=ve(g,m,"0"),m+1>h){if(--a>0)for(g+=".";a--;g+="0");}else if(a+=m-h,a>0)for(m+1==h&&(g+=".");a--;g+="0");return o.s<0&&p?"-"+g:g}function J(o,a){for(var u,b,p=1,m=new _(o[0]);p<o.length;p++)b=new _(o[p]),(!b.s||(u=Ee(m,b))===a||u===0&&m.s===a)&&(m=b);return m}function H(o,a,u){for(var b=1,p=a.length;!a[--p];a.pop());for(p=a[0];p>=10;p/=10,b++);return(u=b+u*N-1)>S?o.c=o.e=null:u<O?o.c=[o.e=0]:(o.e=u,o.c=a),o}n=function(){var o=/^(-?)0([xbo])(?=\w[\w.]*$)/i,a=/^([^.]+)\.$/,u=/^\.([^.]+)$/,b=/^-?(Infinity|NaN)$/,p=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(m,y,h,g){var x,v=h?y:y.replace(p,"");if(b.test(v))m.s=isNaN(v)?null:v<0?-1:1;else{if(!h&&(v=v.replace(o,function(A,T,C){return x=(C=C.toLowerCase())=="x"?16:C=="b"?2:8,!g||g==x?T:A}),g&&(x=g,v=v.replace(a,"$1").replace(u,"0.$1")),y!=v))return new _(v,x);if(_.DEBUG)throw Error(X+"Not a"+(g?" base "+g:"")+" number: "+y);m.s=null}m.c=m.e=null}}();function G(o,a,u,b){var p,m,y,h,g,x,v,A=o.c,T=Xr;if(A){e:{for(p=1,h=A[0];h>=10;h/=10,p++);if(m=a-p,m<0)m+=N,y=a,g=A[x=0],v=ae(g/T[p-y-1]%10);else if(x=Jr((m+1)/N),x>=A.length)if(b){for(;A.length<=x;A.push(0));g=v=0,p=1,m%=N,y=m-N+1}else break e;else{for(g=h=A[x],p=1;h>=10;h/=10,p++);m%=N,y=m-N+p,v=y<0?0:ae(g/T[p-y-1]%10)}if(b=b||a<0||A[x+1]!=null||(y<0?g:g%T[p-y-1]),b=u<4?(v||b)&&(u==0||u==(o.s<0?3:2)):v>5||v==5&&(u==4||b||u==6&&(m>0?y>0?g/T[p-y]:0:A[x-1])%10&1||u==(o.s<0?8:7)),a<1||!A[0])return A.length=0,b?(a-=o.e+1,A[0]=T[(N-a%N)%N],o.e=-a||0):A[0]=o.e=0,o;if(m==0?(A.length=x,h=1,x--):(A.length=x+1,h=T[N-m],A[x]=y>0?ae(g/T[p-y]%T[y])*h:0),b)for(;;)if(x==0){for(m=1,y=A[0];y>=10;y/=10,m++);for(y=A[0]+=h,h=1;y>=10;y/=10,h++);m!=h&&(o.e++,A[0]==fe&&(A[0]=1));break}else{if(A[x]+=h,A[x]!=fe)break;A[x--]=0,h=1}for(m=A.length;A[--m]===0;A.pop());}o.e>S?o.c=o.e=null:o.e<O&&(o.c=[o.e=0])}return o}function te(o){var a,u=o.e;return u===null?o.toString():(a=oe(o.c),a=u<=d||u>=w?$t(a,u):ve(a,u,"0"),o.s<0?"-"+a:a)}return i.absoluteValue=i.abs=function(){var o=new _(this);return o.s<0&&(o.s=1),o},i.comparedTo=function(o,a){return Ee(this,new _(o,a))},i.decimalPlaces=i.dp=function(o,a){var u,b,p,m=this;if(o!=null)return R(o,0,z),a==null?a=f:R(a,0,8),G(new _(m),o+m.e+1,a);if(!(u=m.c))return null;if(b=((p=u.length-1)-ce(this.e/N))*N,p=u[p])for(;p%10==0;p/=10,b--);return b<0&&(b=0),b},i.dividedBy=i.div=function(o,a){return e(this,new _(o,a),c,f)},i.dividedToIntegerBy=i.idiv=function(o,a){return e(this,new _(o,a),0,1)},i.exponentiatedBy=i.pow=function(o,a){var u,b,p,m,y,h,g,x,v,A=this;if(o=new _(o),o.c&&!o.isInteger())throw Error(X+"Exponent not an integer: "+te(o));if(a!=null&&(a=new _(a)),h=o.e>14,!A.c||!A.c[0]||A.c[0]==1&&!A.e&&A.c.length==1||!o.c||!o.c[0])return v=new _(Math.pow(+te(A),h?o.s*(2-Rt(o)):+te(o))),a?v.mod(a):v;if(g=o.s<0,a){if(a.c?!a.c[0]:!a.s)return new _(NaN);b=!g&&A.isInteger()&&a.isInteger(),b&&(A=A.mod(a))}else{if(o.e>9&&(A.e>0||A.e<-1||(A.e==0?A.c[0]>1||h&&A.c[1]>=24e7:A.c[0]<8e13||h&&A.c[0]<=9999975e7)))return m=A.s<0&&Rt(o)?-0:0,A.e>-1&&(m=1/m),new _(g?1/m:m);q&&(m=Jr(q/N+2))}for(h?(u=new _(.5),g&&(o.s=1),x=Rt(o)):(p=Math.abs(+te(o)),x=p%2),v=new _(s);;){if(x){if(v=v.times(A),!v.c)break;m?v.c.length>m&&(v.c.length=m):b&&(v=v.mod(a))}if(p){if(p=ae(p/2),p===0)break;x=p%2}else if(o=o.times(u),G(o,o.e+1,1),o.e>14)x=Rt(o);else{if(p=+te(o),p===0)break;x=p%2}A=A.times(A),m?A.c&&A.c.length>m&&(A.c.length=m):b&&(A=A.mod(a))}return b?v:(g&&(v=s.div(v)),a?v.mod(a):m?G(v,q,f,y):v)},i.integerValue=function(o){var a=new _(this);return o==null?o=f:R(o,0,8),G(a,a.e+1,o)},i.isEqualTo=i.eq=function(o,a){return Ee(this,new _(o,a))===0},i.isFinite=function(){return!!this.c},i.isGreaterThan=i.gt=function(o,a){return Ee(this,new _(o,a))>0},i.isGreaterThanOrEqualTo=i.gte=function(o,a){return(a=Ee(this,new _(o,a)))===1||a===0},i.isInteger=function(){return!!this.c&&ce(this.e/N)>this.c.length-2},i.isLessThan=i.lt=function(o,a){return Ee(this,new _(o,a))<0},i.isLessThanOrEqualTo=i.lte=function(o,a){return(a=Ee(this,new _(o,a)))===-1||a===0},i.isNaN=function(){return!this.s},i.isNegative=function(){return this.s<0},i.isPositive=function(){return this.s>0},i.isZero=function(){return!!this.c&&this.c[0]==0},i.minus=function(o,a){var u,b,p,m,y=this,h=y.s;if(o=new _(o,a),a=o.s,!h||!a)return new _(NaN);if(h!=a)return o.s=-a,y.plus(o);var g=y.e/N,x=o.e/N,v=y.c,A=o.c;if(!g||!x){if(!v||!A)return v?(o.s=-a,o):new _(A?y:NaN);if(!v[0]||!A[0])return A[0]?(o.s=-a,o):new _(v[0]?y:f==3?-0:0)}if(g=ce(g),x=ce(x),v=v.slice(),h=g-x){for((m=h<0)?(h=-h,p=v):(x=g,p=A),p.reverse(),a=h;a--;p.push(0));p.reverse()}else for(b=(m=(h=v.length)<(a=A.length))?h:a,h=a=0;a<b;a++)if(v[a]!=A[a]){m=v[a]<A[a];break}if(m&&(p=v,v=A,A=p,o.s=-o.s),a=(b=A.length)-(u=v.length),a>0)for(;a--;v[u++]=0);for(a=fe-1;b>h;){if(v[--b]<A[b]){for(u=b;u&&!v[--u];v[u]=a);--v[u],v[b]+=fe}v[b]-=A[b]}for(;v[0]==0;v.splice(0,1),--x);return v[0]?H(o,v,x):(o.s=f==3?-1:1,o.c=[o.e=0],o)},i.modulo=i.mod=function(o,a){var u,b,p=this;return o=new _(o,a),!p.c||!o.s||o.c&&!o.c[0]?new _(NaN):!o.c||p.c&&!p.c[0]?new _(p):(M==9?(b=o.s,o.s=1,u=e(p,o,0,3),o.s=b,u.s*=b):u=e(p,o,0,M),o=p.minus(u.times(o)),!o.c[0]&&M==1&&(o.s=p.s),o)},i.multipliedBy=i.times=function(o,a){var u,b,p,m,y,h,g,x,v,A,T,C,I,$,V,F=this,P=F.c,K=(o=new _(o,a)).c;if(!P||!K||!P[0]||!K[0])return!F.s||!o.s||P&&!P[0]&&!K||K&&!K[0]&&!P?o.c=o.e=o.s=null:(o.s*=F.s,!P||!K?o.c=o.e=null:(o.c=[0],o.e=0)),o;for(b=ce(F.e/N)+ce(o.e/N),o.s*=F.s,g=P.length,A=K.length,g<A&&(I=P,P=K,K=I,p=g,g=A,A=p),p=g+A,I=[];p--;I.push(0));for($=fe,V=we,p=A;--p>=0;){for(u=0,T=K[p]%V,C=K[p]/V|0,y=g,m=p+y;m>p;)x=P[--y]%V,v=P[y]/V|0,h=C*x+v*T,x=T*x+h%V*V+I[m]+u,u=(x/$|0)+(h/V|0)+C*v,I[m--]=x%$;I[m]=u}return u?++b:I.splice(0,1),H(o,I,b)},i.negated=function(){var o=new _(this);return o.s=-o.s||null,o},i.plus=function(o,a){var u,b=this,p=b.s;if(o=new _(o,a),a=o.s,!p||!a)return new _(NaN);if(p!=a)return o.s=-a,b.minus(o);var m=b.e/N,y=o.e/N,h=b.c,g=o.c;if(!m||!y){if(!h||!g)return new _(p/0);if(!h[0]||!g[0])return g[0]?o:new _(h[0]?b:p*0)}if(m=ce(m),y=ce(y),h=h.slice(),p=m-y){for(p>0?(y=m,u=g):(p=-p,u=h),u.reverse();p--;u.push(0));u.reverse()}for(p=h.length,a=g.length,p-a<0&&(u=g,g=h,h=u,a=p),p=0;a;)p=(h[--a]=h[a]+g[a]+p)/fe|0,h[a]=fe===h[a]?0:h[a]%fe;return p&&(h=[p].concat(h),++y),H(o,h,y)},i.precision=i.sd=function(o,a){var u,b,p,m=this;if(o!=null&&o!==!!o)return R(o,1,z),a==null?a=f:R(a,0,8),G(new _(m),o,a);if(!(u=m.c))return null;if(p=u.length-1,b=p*N+1,p=u[p]){for(;p%10==0;p/=10,b--);for(p=u[0];p>=10;p/=10,b++);}return o&&m.e+1>b&&(b=m.e+1),b},i.shiftedBy=function(o){return R(o,-Yr,Yr),this.times("1e"+o)},i.squareRoot=i.sqrt=function(){var o,a,u,b,p,m=this,y=m.c,h=m.s,g=m.e,x=c+4,v=new _("0.5");if(h!==1||!y||!y[0])return new _(!h||h<0&&(!y||y[0])?NaN:y?m:1/0);if(h=Math.sqrt(+te(m)),h==0||h==1/0?(a=oe(y),(a.length+g)%2==0&&(a+="0"),h=Math.sqrt(+a),g=ce((g+1)/2)-(g<0||g%2),h==1/0?a="5e"+g:(a=h.toExponential(),a=a.slice(0,a.indexOf("e")+1)+g),u=new _(a)):u=new _(h+""),u.c[0]){for(g=u.e,h=g+x,h<3&&(h=0);;)if(p=u,u=v.times(p.plus(e(m,p,x,1))),oe(p.c).slice(0,h)===(a=oe(u.c)).slice(0,h))if(u.e<g&&--h,a=a.slice(h-3,h+1),a=="9999"||!b&&a=="4999"){if(!b&&(G(p,p.e+c+2,0),p.times(p).eq(m))){u=p;break}x+=4,h+=4,b=1}else{(!+a||!+a.slice(1)&&a.charAt(0)=="5")&&(G(u,u.e+c+2,1),o=!u.times(u).eq(m));break}}return G(u,u.e+c+1,f,o)},i.toExponential=function(o,a){return o!=null&&(R(o,0,z),o++),ee(this,o,a,1)},i.toFixed=function(o,a){return o!=null&&(R(o,0,z),o=o+this.e+1),ee(this,o,a)},i.toFormat=function(o,a,u){var b,p=this;if(u==null)o!=null&&a&&typeof a=="object"?(u=a,a=null):o&&typeof o=="object"?(u=o,o=a=null):u=L;else if(typeof u!="object")throw Error(X+"Argument not an object: "+u);if(b=p.toFixed(o,a),p.c){var m,y=b.split("."),h=+u.groupSize,g=+u.secondaryGroupSize,x=u.groupSeparator||"",v=y[0],A=y[1],T=p.s<0,C=T?v.slice(1):v,I=C.length;if(g&&(m=h,h=g,g=m,I-=m),h>0&&I>0){for(m=I%h||h,v=C.substr(0,m);m<I;m+=h)v+=x+C.substr(m,h);g>0&&(v+=x+C.slice(m)),T&&(v="-"+v)}b=A?v+(u.decimalSeparator||"")+((g=+u.fractionGroupSize)?A.replace(new RegExp("\\d{"+g+"}\\B","g"),"$&"+(u.fractionGroupSeparator||"")):A):v}return(u.prefix||"")+b+(u.suffix||"")},i.toFraction=function(o){var a,u,b,p,m,y,h,g,x,v,A,T,C=this,I=C.c;if(o!=null&&(h=new _(o),!h.isInteger()&&(h.c||h.s!==1)||h.lt(s)))throw Error(X+"Argument "+(h.isInteger()?"out of range: ":"not an integer: ")+te(h));if(!I)return new _(C);for(a=new _(s),x=u=new _(s),b=g=new _(s),T=oe(I),m=a.e=T.length-C.e-1,a.c[0]=Xr[(y=m%N)<0?N+y:y],o=!o||h.comparedTo(a)>0?m>0?a:x:h,y=S,S=1/0,h=new _(T),g.c[0]=0;v=e(h,a,0,1),p=u.plus(v.times(b)),p.comparedTo(o)!=1;)u=b,b=p,x=g.plus(v.times(p=x)),g=p,a=h.minus(v.times(p=a)),h=p;return p=e(o.minus(u),b,0,1),g=g.plus(p.times(x)),u=u.plus(p.times(b)),g.s=x.s=C.s,m=m*2,A=e(x,b,m,f).minus(C).abs().comparedTo(e(g,u,m,f).minus(C).abs())<1?[x,b]:[g,u],S=y,A},i.toNumber=function(){return+te(this)},i.toPrecision=function(o,a){return o!=null&&R(o,1,z),ee(this,o,a,2)},i.toString=function(o){var a,u=this,b=u.s,p=u.e;return p===null?b?(a="Infinity",b<0&&(a="-"+a)):a="NaN":(o==null?a=p<=d||p>=w?$t(oe(u.c),p):ve(oe(u.c),p,"0"):o===10&&j?(u=G(new _(u),c+p+1,f),a=ve(oe(u.c),u.e,"0")):(R(o,2,k.length,"Base"),a=r(ve(oe(u.c),p,"0"),10,o,b,!0)),b<0&&u.c[0]&&(a="-"+a)),a},i.valueOf=i.toJSON=function(){return te(this)},i._isBigNumber=!0,i[Symbol.toStringTag]="BigNumber",i[Symbol.for("nodejs.util.inspect.custom")]=i.valueOf,t!=null&&_.set(t),_}function ce(t){var e=t|0;return t>0||t===e?e:e-1}function oe(t){for(var e,r,n=1,i=t.length,s=t[0]+"";n<i;){for(e=t[n++]+"",r=N-e.length;r--;e="0"+e);s+=e}for(i=s.length;s.charCodeAt(--i)===48;);return s.slice(0,i+1||1)}function Ee(t,e){var r,n,i=t.c,s=e.c,c=t.s,f=e.s,d=t.e,w=e.e;if(!c||!f)return null;if(r=i&&!i[0],n=s&&!s[0],r||n)return r?n?0:-f:c;if(c!=f)return c;if(r=c<0,n=d==w,!i||!s)return n?0:!i^r?1:-1;if(!n)return d>w^r?1:-1;for(f=(d=i.length)<(w=s.length)?d:w,c=0;c<f;c++)if(i[c]!=s[c])return i[c]>s[c]^r?1:-1;return d==w?0:d>w^r?1:-1}function R(t,e,r,n){if(t<e||t>r||t!==ae(t))throw Error(X+(n||"Argument")+(typeof t=="number"?t<e||t>r?" out of range: ":" not an integer: ":" not a primitive number: ")+String(t))}function Rt(t){var e=t.c.length-1;return ce(t.e/N)==e&&t.c[e]%2!=0}function $t(t,e){return(t.length>1?t.charAt(0)+"."+t.slice(1):t)+(e<0?"e":"e+")+e}function ve(t,e,r){var n,i;if(e<0){for(i=r+".";++e;i+=r);t=i+t}else if(n=t.length,++e>n){for(i=r,e-=n;--e;i+=r);t+=i}else e<n&&(t=t.slice(0,e)+"."+t.slice(e));return t}var D=pu();var Ut;(function(t){t[t.up=D.ROUND_UP]="up",t[t.down=D.ROUND_DOWN]="down",t[t.truncate=D.ROUND_DOWN]="truncate",t[t.halfUp=D.ROUND_HALF_UP]="halfUp",t[t.default=D.ROUND_HALF_UP]="default",t[t.halfDown=D.ROUND_HALF_DOWN]="halfDown",t[t.halfEven=D.ROUND_HALF_EVEN]="halfEven",t[t.banker=D.ROUND_HALF_EVEN]="banker",t[t.ceiling=D.ROUND_CEIL]="ceiling",t[t.ceil=D.ROUND_CEIL]="ceil",t[t.floor=D.ROUND_FLOOR]="floor"})(Ut||(Ut={}));function ct(t){var e;return(e=Ut[t])!==null&&e!==void 0?e:Ut.default}var Mu=de(Cu());function _y(t){return t.isZero()?1:Math.floor(Math.log10(t.abs().toNumber())+1)}function Ey(t,{precision:e,significant:r}){return r&&e!==null&&e>0?e-_y(t):e}function Oe(t,e){let r=Ey(t,e);if(r===null)return t.toString();let n=ct(e.roundMode);if(r>=0)return t.toFixed(r,n);let i=Math.pow(10,Math.abs(r));return t=new D(t.div(i).toFixed(0,n)).times(i),t.toString()}function Ty(t,{formattedNumber:e,unit:r}){return t.replace("%n",e).replace("%u",r)}function qy({significand:t,whole:e,precision:r}){if(e==="0"||r===null)return t;let n=Math.max(0,r-e.length);return(t??"").substr(0,n)}function Te(t,e){var r,n,i;let s=new D(t);if(e.raise&&!s.isFinite())throw new Error(`"${t}" is not a valid numeric value`);let c=Oe(s,e),f=new D(c),d=f.lt(0),w=f.isZero(),[O,S]=c.split("."),E=[],M,q=(r=e.format)!==null&&r!==void 0?r:"%n",L=(n=e.negativeFormat)!==null&&n!==void 0?n:`-${q}`,k=d&&!w?L:q;for(O=O.replace("-","");O.length>0;)E.unshift(O.substr(Math.max(0,O.length-3),3)),O=O.substr(0,O.length-3);return O=E.join(""),M=E.join(e.delimiter),e.significant?S=qy({whole:O,significand:S,precision:e.precision}):S=S??(0,Mu.default)("0",(i=e.precision)!==null&&i!==void 0?i:0),e.stripInsignificantZeros&&S&&(S=S.replace(/0+$/,"")),s.isNaN()&&(M=t.toString()),S&&s.isFinite()&&(M+=(e.separator||".")+S),Ty(k,{formattedNumber:M,unit:e.unit})}function he(t,e,r){let n="";return(e instanceof String||typeof e=="string")&&(n=e),e instanceof Array&&(n=e.join(t.defaultSeparator)),r.scope&&(n=[r.scope,n].join(t.defaultSeparator)),n}function ue(t){var e,r;if(t===null)return"null";let n=typeof t;return n!=="object"?n:((r=(e=t?.constructor)===null||e===void 0?void 0:e.name)===null||r===void 0?void 0:r.toLowerCase())||"object"}function ut(t,e,r){r=Object.keys(r).reduce((i,s)=>(i[t.transformKey(s)]=r[s],i),{});let n=e.match(t.placeholder);if(!n)return e;for(;n.length;){let i,s=n.shift(),c=s.replace(t.placeholder,"$1");Z(r[c])?i=r[c].toString().replace(/\$/gm,"_#$#_"):c in r?i=t.nullPlaceholder(t,s,e,r):i=t.missingPlaceholder(t,s,e,r);let f=new RegExp(s.replace(/\{/gm,"\\{").replace(/\}/gm,"\\}"),"g");e=e.replace(f,i)}return e.replace(/_#\$#_/g,"$")}function Q(t,e,r={}){r=Object.assign({},r);let n="locale"in r?r.locale:t.locale,i=ue(n),s=t.locales.get(i==="string"?n:typeof n).slice(),c=he(t,e,r).split(t.defaultSeparator).map(d=>t.transformKey(d)),f=s.map(d=>c.reduce((w,O)=>w&&w[O],t.translations[d]));return f.push(r.defaultValue),f.find(d=>Z(d))}function en(t,e){let r=new D(t);if(!r.isFinite())return t.toString();if(!e.delimiterPattern.global)throw new Error(`options.delimiterPattern must be a global regular expression; received ${e.delimiterPattern}`);let[n,i]=r.toString().split(".");return n=n.replace(e.delimiterPattern,s=>`${s}${e.delimiter}`),[n,i].filter(Boolean).join(e.separator)}var Ff=de(Tf()),If=de(Nf());var gn={0:"unit",1:"ten",2:"hundred",3:"thousand",6:"million",9:"billion",12:"trillion",15:"quadrillion","-1":"deci","-2":"centi","-3":"mili","-6":"micro","-9":"nano","-12":"pico","-15":"femto"},EA=(0,If.default)(Object.values(gn),Object.keys(gn).map(t=>parseInt(t,10)));function mn(t,e,r){let n={roundMode:r.roundMode,precision:r.precision,significant:r.significant},i;if(ue(r.units)==="string"){let S=r.units;if(i=Q(t,S),!i)throw new Error(`The scope "${t.locale}${t.defaultSeparator}${he(t,S,{})}" couldn't be found`)}else i=r.units;let s=Oe(new D(e),n),c=S=>(0,Ff.default)(Object.keys(S).map(E=>EA[E]),E=>E*-1),f=(S,E)=>{let M=S.isZero()?0:Math.floor(Math.log10(S.abs().toNumber()));return c(E).find(q=>M>=q)||0},d=(S,E)=>{let M=gn[E.toString()];return S[M]||""},w=f(new D(s),i),O=d(i,w);if(s=Oe(new D(s).div(Math.pow(10,w)),n),r.stripInsignificantZeros){let[S,E]=s.split(".");E=(E||"").replace(/0+$/,""),s=S,E&&(s+=`${r.separator}${E}`)}return r.format.replace("%n",s||"0").replace("%u",O).trim()}var kf=["byte","kb","mb","gb","tb","pb","eb"];function vn(t,e,r){let n=ct(r.roundMode),i=1024,s=new D(e).abs(),c=s.lt(i),f,d=(q,L)=>{let k=L.length-1,j=new D(Math.log(q.toNumber())).div(Math.log(i)).integerValue(D.ROUND_DOWN).toNumber();return Math.min(k,j)},w=q=>`number.human.storage_units.units.${c?"byte":q[O]}`,O=d(s,kf);c?f=s.integerValue():f=new D(Oe(s.div(Math.pow(i,O)),{significant:r.significant,precision:r.precision,roundMode:r.roundMode}));let S=t.translate("number.human.storage_units.format",{defaultValue:"%n %u"}),E=t.translate(w(kf),{count:s.integerValue().toNumber()}),M=f.toFixed(r.precision,n);return r.stripInsignificantZeros&&(M=M.replace(/(\..*?)0+$/,"$1").replace(/\.$/,"")),S.replace("%n",M).replace("%u",E)}function $e(t){if(t instanceof Date)return t;if(typeof t=="number"){let n=new Date;return n.setTime(t),n}let e=new String(t).match(/(\d{4})-(\d{2})-(\d{2})(?:[ T](\d{2}):(\d{2}):(\d{2})(?:[.,](\d{1,3}))?)?(Z|\+00:?00)?/);if(e){let n=e.slice(1,8).map(E=>parseInt(E,10)||0);n[1]-=1;let[i,s,c,f,d,w,O]=n;return e[8]?new Date(Date.UTC(i,s,c,f,d,w,O)):new Date(i,s,c,f,d,w,O)}t.match(/([A-Z][a-z]{2}) ([A-Z][a-z]{2}) (\d+) (\d+:\d+:\d+) ([+-]\d+) (\d+)/)&&new Date().setTime(Date.parse([RegExp.$1,RegExp.$2,RegExp.$3,RegExp.$6,RegExp.$4,RegExp.$5].join(" ")));let r=new Date;return r.setTime(Date.parse(t)),r}function Kt({i18n:t,count:e,scope:r,options:n,baseScope:i}){n=Object.assign({},n);let s,c;if(typeof r=="object"&&r?s=r:s=Q(t,r,n),!s)return t.missingTranslation.get(r,n);let d=t.pluralization.get(n.locale)(t,e),w=[];for(;d.length;){let O=d.shift();if(Z(s[O])){c=s[O];break}w.push(O)}return Z(c)?(n.count=e,t.interpolate(t,c,n)):t.missingTranslation.get(i.split(t.defaultSeparator).concat([w[0]]),n)}var TA={meridian:{am:"AM",pm:"PM"},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],abbrDayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],monthNames:[null,"January","February","March","April","May","June","July","August","September","October","November","December"],abbrMonthNames:[null,"Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]};function bn(t,e,r={}){let{abbrDayNames:n,dayNames:i,abbrMonthNames:s,monthNames:c,meridian:f,utc:d}=Object.assign(Object.assign({},TA),r);if(isNaN(t.getTime()))throw new Error("strftime() requires a valid date object, but received an invalid date.");let w=d?t.getUTCDay():t.getDay(),O=d?t.getUTCDate():t.getDate(),S=d?t.getUTCFullYear():t.getFullYear(),E=(d?t.getUTCMonth():t.getMonth())+1,M=d?t.getUTCHours():t.getHours(),q=M,L=M>11?"pm":"am",k=d?t.getUTCSeconds():t.getSeconds(),j=d?t.getUTCMinutes():t.getMinutes(),_=d?0:t.getTimezoneOffset(),ee=Math.floor(Math.abs(_/60)),J=Math.abs(_)-ee*60,H=(_>0?"-":"+")+(ee.toString().length<2?"0"+ee:ee)+(J.toString().length<2?"0"+J:J);return q>12?q=q-12:q===0&&(q=12),e=e.replace("%a",n[w]),e=e.replace("%A",i[w]),e=e.replace("%b",s[E]),e=e.replace("%B",c[E]),e=e.replace("%d",O.toString().padStart(2,"0")),e=e.replace("%e",O.toString()),e=e.replace("%-d",O.toString()),e=e.replace("%H",M.toString().padStart(2,"0")),e=e.replace("%-H",M.toString()),e=e.replace("%k",M.toString()),e=e.replace("%I",q.toString().padStart(2,"0")),e=e.replace("%-I",q.toString()),e=e.replace("%l",q.toString()),e=e.replace("%m",E.toString().padStart(2,"0")),e=e.replace("%-m",E.toString()),e=e.replace("%M",j.toString().padStart(2,"0")),e=e.replace("%-M",j.toString()),e=e.replace("%p",f[L]),e=e.replace("%P",f[L].toLowerCase()),e=e.replace("%S",k.toString().padStart(2,"0")),e=e.replace("%-S",k.toString()),e=e.replace("%w",w.toString()),e=e.replace("%y",S.toString().padStart(2,"0").substr(-2)),e=e.replace("%-y",S.toString().padStart(2,"0").substr(-2).replace(/^0+/,"")),e=e.replace("%Y",S.toString()),e=e.replace(/%z/i,H),e}var $f=de(Rf());var ne=(t,e,r)=>r>=t&&r<=e;function yn(t,e,r,n={}){let i=n.scope||"datetime.distance_in_words",s=(te,o=0)=>t.t(te,{count:o,scope:i});e=$e(e),r=$e(r);let c=e.getTime()/1e3,f=r.getTime()/1e3;c>f&&([e,r,c,f]=[r,e,f,c]);let d=Math.round(f-c),w=Math.round((f-c)/60),S=w/60/24,E=Math.round(w/60),M=Math.round(S),q=Math.round(M/30);if(ne(0,1,w))return n.includeSeconds?ne(0,4,d)?s("less_than_x_seconds",5):ne(5,9,d)?s("less_than_x_seconds",10):ne(10,19,d)?s("less_than_x_seconds",20):ne(20,39,d)?s("half_a_minute"):ne(40,59,d)?s("less_than_x_minutes",1):s("x_minutes",1):w===0?s("less_than_x_minutes",1):s("x_minutes",w);if(ne(2,44,w))return s("x_minutes",w);if(ne(45,89,w))return s("about_x_hours",1);if(ne(90,1439,w))return s("about_x_hours",E);if(ne(1440,2519,w))return s("x_days",1);if(ne(2520,43199,w))return s("x_days",M);if(ne(43200,86399,w))return s("about_x_months",Math.round(w/43200));if(ne(86400,525599,w))return s("x_months",q);let L=e.getFullYear();e.getMonth()+1>=3&&(L+=1);let k=r.getFullYear();r.getMonth()+1<3&&(k-=1);let j=L>k?0:(0,$f.default)(L,k).filter(te=>new Date(te,1,29).getMonth()==1).length,_=525600,ee=j*1440,J=w-ee,H=Math.trunc(J/_),G=parseFloat((J/_-H).toPrecision(3));return G<.25?s("about_x_years",H):G<.75?s("over_x_years",H):s("almost_x_years",H+1)}var PA=function(t,e){e instanceof Array&&(e=e.join(t.defaultSeparator));let r=e.split(t.defaultSeparator).slice(-1)[0];return t.missingTranslationPrefix+r.replace("_"," ").replace(/([a-z])([A-Z])/g,(n,i,s)=>`${i} ${s.toLowerCase()}`)},DA=(t,e,r)=>{let n=he(t,e,r),i="locale"in r?r.locale:t.locale,s=ue(i);return`[missing "${[s=="string"?i:s,n].join(t.defaultSeparator)}" translation]`},BA=(t,e,r)=>{let n=he(t,e,r),i=[t.locale,n].join(t.defaultSeparator);throw new Error(`Missing translation: ${i}`)},lt=class{constructor(e){this.i18n=e,this.registry={},this.register("guess",PA),this.register("message",DA),this.register("error",BA)}register(e,r){this.registry[e]=r}get(e,r){var n;return this.registry[(n=r.missingBehavior)!==null&&n!==void 0?n:this.i18n.missingBehavior](this.i18n,e,r)}};var jA=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(c){c(s)})}return new(r||(r=Promise))(function(s,c){function f(O){try{w(n.next(O))}catch(S){c(S)}}function d(O){try{w(n.throw(O))}catch(S){c(S)}}function w(O){O.done?s(O.value):i(O.value).then(f,d)}w((n=n.apply(t,e||[])).next())})},wn={defaultLocale:"en",locale:"en",defaultSeparator:".",placeholder:/(?:\{\{|%\{)(.*?)(?:\}\}?)/gm,enableFallback:!1,missingBehavior:"message",missingTranslationPrefix:"",missingPlaceholder:(t,e)=>`[missing "${e}" value]`,nullPlaceholder:(t,e,r,n)=>t.missingPlaceholder(t,e,r,n),transformKey:t=>t},ft=class{constructor(e={},r={}){this._locale=wn.locale,this._defaultLocale=wn.defaultLocale,this._version=0,this.onChangeHandlers=[],this.translations={},this.t=this.translate,this.p=this.pluralize,this.l=this.localize,this.distanceOfTimeInWords=this.timeAgoInWords;let{locale:n,enableFallback:i,missingBehavior:s,missingTranslationPrefix:c,missingPlaceholder:f,nullPlaceholder:d,defaultLocale:w,defaultSeparator:O,placeholder:S,transformKey:E}=Object.assign(Object.assign({},wn),r);this.locale=n,this.defaultLocale=w,this.defaultSeparator=O,this.enableFallback=i,this.locale=n,this.missingBehavior=s,this.missingTranslationPrefix=c,this.missingPlaceholder=f,this.nullPlaceholder=d,this.placeholder=S,this.pluralization=new at(this),this.locales=new ot(this),this.missingTranslation=new lt(this),this.transformKey=E,this.interpolate=ut,this.store(e)}store(e){(0,zf.default)(this.translations,e),this.hasChanged()}get locale(){return this._locale||this.defaultLocale||"en"}set locale(e){if(typeof e!="string")throw new Error(`Expected newLocale to be a string; got ${ue(e)}`);let r=this._locale!==e;this._locale=e,r&&this.hasChanged()}get defaultLocale(){return this._defaultLocale||"en"}set defaultLocale(e){if(typeof e!="string")throw new Error(`Expected newLocale to be a string; got ${ue(e)}`);let r=this._defaultLocale!==e;this._defaultLocale=e,r&&this.hasChanged()}translate(e,r){r=Object.assign({},r);let n=Zr(this,e,r),i;return n.some(c=>(Z(c.scope)?i=Q(this,c.scope,r):Z(c.message)&&(i=c.message),i!=null))?(typeof i=="string"?i=this.interpolate(this,i,r):typeof i=="object"&&i&&Z(r.count)&&(i=Kt({i18n:this,count:r.count||0,scope:i,options:r,baseScope:he(this,e,r)})),r&&i instanceof Array&&(i=i.map(c=>typeof c=="string"?ut(this,c,r):c)),i):this.missingTranslation.get(e,r)}pluralize(e,r,n){return Kt({i18n:this,count:e,scope:r,options:Object.assign({},n),baseScope:he(this,r,n??{})})}localize(e,r,n){if(n=Object.assign({},n),r==null)return"";switch(e){case"currency":return this.numberToCurrency(r);case"number":return Te(r,Object.assign({delimiter:",",precision:3,separator:".",significant:!1,stripInsignificantZeros:!1},Q(this,"number.format")));case"percentage":return this.numberToPercentage(r);default:{let i;return e.match(/^(date|time)/)?i=this.toTime(e,r):i=r.toString(),ut(this,i,n)}}}toTime(e,r){let n=$e(r),i=Q(this,e);return n.toString().match(/invalid/i)||!i?n.toString():this.strftime(n,i)}numberToCurrency(e,r={}){return Te(e,Object.assign(Object.assign(Object.assign({delimiter:",",format:"%u%n",precision:2,separator:".",significant:!1,stripInsignificantZeros:!1,unit:"$"},re(this.get("number.format"))),re(this.get("number.currency.format"))),r))}numberToPercentage(e,r={}){return Te(e,Object.assign(Object.assign(Object.assign({delimiter:"",format:"%n%",precision:3,stripInsignificantZeros:!1,separator:".",significant:!1},re(this.get("number.format"))),re(this.get("number.percentage.format"))),r))}numberToHumanSize(e,r={}){return vn(this,e,Object.assign(Object.assign(Object.assign({delimiter:"",precision:3,significant:!0,stripInsignificantZeros:!0,units:{billion:"Billion",million:"Million",quadrillion:"Quadrillion",thousand:"Thousand",trillion:"Trillion",unit:""}},re(this.get("number.human.format"))),re(this.get("number.human.storage_units"))),r))}numberToHuman(e,r={}){return mn(this,e,Object.assign(Object.assign(Object.assign({delimiter:"",separator:".",precision:3,significant:!0,stripInsignificantZeros:!0,format:"%n %u",roundMode:"default",units:{billion:"Billion",million:"Million",quadrillion:"Quadrillion",thousand:"Thousand",trillion:"Trillion",unit:""}},re(this.get("number.human.format"))),re(this.get("number.human.decimal_units"))),r))}numberToRounded(e,r){return Te(e,Object.assign({unit:"",precision:3,significant:!1,separator:".",delimiter:"",stripInsignificantZeros:!1},r))}numberToDelimited(e,r={}){return en(e,Object.assign({delimiterPattern:/(\d)(?=(\d\d\d)+(?!\d))/g,delimiter:",",separator:"."},r))}withLocale(e,r){return jA(this,void 0,void 0,function*(){let n=this.locale;try{this.locale=e,yield r()}finally{this.locale=n}})}strftime(e,r,n={}){return bn(e,r,Object.assign(Object.assign(Object.assign({},re(Q(this,"date"))),{meridian:{am:Q(this,"time.am")||"AM",pm:Q(this,"time.pm")||"PM"}}),n))}update(e,r,n={strict:!1}){if(n.strict&&!(0,Vf.default)(this.translations,e))throw new Error(`The path "${e}" is not currently defined`);let i=(0,Uf.default)(this.translations,e),s=ue(i),c=ue(r);if(n.strict&&s!==c)throw new Error(`The current type for "${e}" is "${s}", but you're trying to override it with "${c}"`);let f;c==="object"?f=Object.assign(Object.assign({},i),r):f=r;let d=e.split(this.defaultSeparator),w=d.pop(),O=this.translations;for(let S of d)O[S]||(O[S]={}),O=O[S];O[w]=f,this.hasChanged()}toSentence(e,r={}){let{wordsConnector:n,twoWordsConnector:i,lastWordConnector:s}=Object.assign(Object.assign({wordsConnector:", ",twoWordsConnector:" and ",lastWordConnector:", and "},re(Q(this,"support.array"))),r),c=e.length;switch(c){case 0:return"";case 1:return`${e[0]}`;case 2:return e.join(i);default:return[e.slice(0,c-1).join(n),s,e[c-1]].join("")}}timeAgoInWords(e,r,n={}){return yn(this,e,r,n)}onChange(e){return this.onChangeHandlers.push(e),()=>{this.onChangeHandlers.splice(this.onChangeHandlers.indexOf(e),1)}}get version(){return this._version}formatNumber(e,r={}){return r=Object.assign(Object.assign({delimiter:",",precision:3,separator:".",unit:"",format:"%u%n",significant:!1,stripInsignificantZeros:!1},re(this.get("number.format"))),r),Te(e,r)}get(e){return Q(this,e)}runCallbacks(){this.onChangeHandlers.forEach(e=>e(this))}hasChanged(){this._version+=1,this.runCallbacks()}};var Kf={page_not_found:{"404":"404",title:"Page not found :(",description:"The requested page could not be found."},menu:{import:"Import",export:"Export",delete:"Delete"},character:{title:"Character",inputs:{player_name:"Player name",character:{name:"Name",race:"Race",class:"Class",level:"Level",background:"Background",alignment:"Alignment",experience_points:"XP"}}},stats:{hp:{title:"Hit points",current:"Current",temporary:"Temp",maximum:"Max"},hit_dice:{title:"Hit dice",label:"Dice",spent:"Spent",maximum:"Max"},death_saves:{title:"Death saves",successes:"Successes:",failures:"Failures:"},armor_class:"Armor class",initiative:"Initiative",speed:"Speed",passive_perception:"Passive perception",proficiency_bonus:"Proficiency bonus",inspiration:"Heroic inspiration"},specs:{modifier:"Modifier",score:"Score",saving_throw:"Saving throw",names:{strength:"Strength",dexterity:"Dexterity",constitution:"Constitution",intelligence:"Intelligence",wisdom:"Wisdom",charisma:"Charisma"},abilities:{names:{athletics:"Athletics",acrobatics:"Acrobatics",sleight_of_hand:"Sleight of hand",stealth:"Stealth",arcana:"Arcana",history:"History",investigation:"Investigation",nature:"Nature",religion:"Religion",animal_handling:"Animal handling",insight:"Insight",medicine:"Medicine",perception:"Perception",survival:"Survival",deception:"Deception",intimidation:"Intimidation",performance:"Performance",persuasion:"Persuasion"}}},weapons:{title:"Weapons",items:{name:"Name",attack_bonus:"Atk bonus",damage:"Damage",damage_type:"Damage type"},weapons_amount:"Weapons amount",notes:{title:"Weapon notes"}},spellcasting:{stats:{title:"Spellcasting",spellcasting_ability:"Ability",spellcasting_modifier:"Modifier",spell_save_dc:"Save DC",spell_atack_bonus:"Atk bonus"},spell_slots:{title:"Spell slots",level:"Level",total:"Total"},spells:{title:"Spells & Cantrips",items:{level:"Level",name:"Name",concentration:"Concentration",ritual:"Ritual",components:{title:"Materials",verbal:"V",somatic:"S",material:"M"},notes:"Notes"},spells_amount:"Spells amount"}},proficiencies:{title:"Proficiencies",armor_training:{title:"Armor training",light:"Light",medium:"Medium",heavy:"Heavy",shields:"Shields"},weapons:"Weapons",tools:"Tools",languages:"Languages"},inventory:{title:"Inventory",weight:"Weight",max_weight:"Max weight"},coins:{title:"Coins",types:{cp:"CP",sp:"SP",ep:"EP",gp:"GP",pp:"PP"}},features_traits_feats:{title:"Features, traits & feats"},backstory_and_appearance:{title:"Backstory and appearance",appearance:"Appearance",backstory:"Backstory"},notes:{title:"For notes"}};var Hf={page_not_found:{"404":"404",title:"\u0421\u0442\u043E\u0440\u0456\u043D\u043A\u0443 \u043D\u0435 \u0437\u043D\u0430\u0439\u0434\u0435\u043D\u043E :(",description:"\u0417\u0430\u043F\u0438\u0442\u0430\u043D\u0443 \u0441\u0442\u043E\u0440\u0456\u043D\u043A\u0443 \u043D\u0435 \u0437\u043D\u0430\u0439\u0434\u0435\u043D\u043E."},menu:{import:"\u0406\u043C\u043F\u043E\u0440\u0442\u0443\u0432\u0430\u0442\u0438",export:"\u0415\u043A\u0441\u043F\u043E\u0440\u0442\u0443\u0432\u0430\u0442\u0438",delete:"\u0412\u0438\u0434\u0430\u043B\u0438\u0442\u0438"},character:{title:"\u041F\u0435\u0440\u0441\u043E\u043D\u0430\u0436",inputs:{player_name:"\u0406\u043C\u2019\u044F \u0433\u0440\u0430\u0432\u0446\u044F",character:{name:"\u0406\u043C\u2019\u044F",race:"\u0420\u0430\u0441\u0430",class:"\u041A\u043B\u0430\u0441",level:"\u0420\u0456\u0432\u0435\u043D\u044C",background:"\u041F\u0435\u0440\u0435\u0434\u0456\u0441\u0442\u043E\u0440\u0456\u044F",alignment:"\u0421\u0432\u0456\u0442\u043E\u0433\u043B\u044F\u0434",experience_points:"\u0414\u043E\u0441\u0432\u0456\u0434"}}},stats:{hp:{title:"\u041E\u0447\u043A\u0438 \u0437\u0434\u043E\u0440\u043E\u0432\u2019\u044F",current:"\u041F\u043E\u0442\u043E\u0447\u043D\u0456",temporary:"\u0422\u0438\u043C\u0447\u0430\u0441\u043E\u0432\u0456",maximum:"\u041C\u0430\u043A\u0441\u0438\u043C\u0443\u043C"},hit_dice:{title:"\u041A\u0456\u0441\u0442\u043A\u0438 \u0437\u0434\u043E\u0440\u043E\u0432\u2019\u044F",label:"\u041A\u0456\u0441\u0442\u043A\u0438",spent:"\u0412\u0438\u0442\u0440\u0430\u0447\u0435\u043D\u043E",maximum:"\u041C\u0430\u043A\u0441\u0438\u043C\u0443\u043C"},death_saves:{title:"\u0420\u044F\u0442\u043A\u0438\u0434\u043A\u0438 \u0432\u0456\u0434 \u0441\u043C\u0435\u0440\u0442\u0456",successes:"\u0423\u0441\u043F\u0456\u0445\u0438:",failures:"\u041D\u0435\u0432\u0434\u0430\u0447\u0456:"},armor_class:"\u041A\u043B\u0430\u0441 \u0431\u0440\u043E\u043D\u0456",initiative:"\u0406\u043D\u0456\u0446\u0456\u0430\u0442\u0438\u0432\u0430",speed:"\u0428\u0432\u0438\u0434\u043A\u0456\u0441\u0442\u044C",passive_perception:"\u041F\u0430\u0441\u0438\u0432\u043D\u0430 \u0443\u0432\u0430\u0436\u043D\u0456\u0441\u0442\u044C",proficiency_bonus:"\u0411\u043E\u043D\u0443\u0441 \u043C\u0430\u0439\u0441\u0442\u0435\u0440\u043D\u043E\u0441\u0442\u0456",inspiration:"\u0413\u0435\u0440\u043E\u0457\u0447\u043D\u0435 \u043D\u0430\u0442\u0445\u043D\u0435\u043D\u043D\u044F"},specs:{modifier:"\u041C\u043E\u0434\u0438\u0444\u0456\u043A\u0430\u0442\u043E\u0440",score:"\u0417\u043D\u0430\u0447\u0435\u043D\u043D\u044F",saving_throw:"\u0420\u044F\u0442\u043A\u0438\u0434\u043E\u043A",names:{strength:"\u0421\u0438\u043B\u0430",dexterity:"\u0421\u043F\u0440\u0438\u0442\u043D\u0456\u0441\u0442\u044C",constitution:"\u0412\u0438\u0442\u0440\u0438\u0432\u0430\u043B\u0456\u0441\u0442\u044C",intelligence:"\u0406\u043D\u0442\u0435\u043B\u0435\u043A\u0442",wisdom:"\u041C\u0443\u0434\u0440\u0456\u0441\u0442\u044C",charisma:"\u0425\u0430\u0440\u0438\u0437\u043C\u0430"},abilities:{names:{athletics:"\u0410\u0442\u043B\u0435\u0442\u0438\u043A\u0430",acrobatics:"\u0410\u043A\u0440\u043E\u0431\u0430\u0442\u0438\u043A\u0430",sleight_of_hand:"\u0421\u043F\u0440\u0438\u0442\u043D\u0456\u0441\u0442\u044C \u0440\u0443\u043A",stealth:"\u041D\u0435\u043F\u043E\u043C\u0456\u0442\u043D\u0456\u0441\u0442\u044C",arcana:"\u041C\u0430\u0433\u0456\u044F",history:"\u0406\u0441\u0442\u043E\u0440\u0456\u044F",investigation:"\u0420\u043E\u0437\u0441\u043B\u0456\u0434\u0443\u0432\u0430\u043D\u043D\u044F",nature:"\u041F\u0440\u0438\u0440\u043E\u0434\u0430",religion:"\u0420\u0435\u043B\u0456\u0433\u0456\u044F",animal_handling:"\u0414\u043E\u0433\u043B\u044F\u0434 \u0437\u0430 \u0442\u0432\u0430\u0440\u0438\u043D\u0430\u043C\u0438",insight:"\u0417\u0434\u043E\u0433\u0430\u0434\u043B\u0438\u0432\u0456\u0441\u0442\u044C",medicine:"\u041C\u0435\u0434\u0438\u0446\u0438\u043D\u0430",perception:"\u0423\u0432\u0430\u0436\u043D\u0456\u0441\u0442\u044C",survival:"\u0412\u0438\u0436\u0438\u0432\u0430\u043D\u043D\u044F",deception:"\u041E\u0431\u043C\u0430\u043D",intimidation:"\u0417\u0430\u043B\u044F\u043A\u0443\u0432\u0430\u043D\u043D\u044F",performance:"\u0412\u0438\u0441\u0442\u0443\u043F",persuasion:"\u041F\u0435\u0440\u0435\u043A\u043E\u043D\u0430\u043D\u043D\u044F"}}},weapons:{title:"\u0417\u0431\u0440\u043E\u044F",items:{name:"\u041D\u0430\u0437\u0432\u0430",attack_bonus:"\u0411\u043E\u043D\u0443\u0441 \u0430\u0442\u0430\u043A\u0438",damage:"\u0428\u043A\u043E\u0434\u0430",damage_type:"\u0422\u0438\u043F \u0448\u043A\u043E\u0434\u0438"},weapons_amount:"\u041A\u0456\u043B\u044C\u043A\u0456\u0441\u0442\u044C \u0437\u0431\u0440\u043E\u0457",notes:{title:"\u041F\u0440\u0438\u043C\u0456\u0442\u043A\u0438 \u0434\u043E \u0437\u0431\u0440\u043E\u0457"}},spellcasting:{stats:{title:"\u0427\u0430\u043A\u043B\u0443\u043D\u0441\u0442\u0432\u043E",spellcasting_ability:"\u0425\u0430\u0440\u0430\u043A\u0442\u0435\u0440\u0438\u0441\u0442\u0438\u043A\u0430",spellcasting_modifier:"\u041C\u043E\u0434\u0438\u0444\u0456\u043A\u0430\u0442\u043E\u0440",spell_save_dc:"C\u043A \u0440\u044F\u0442\u043A\u0438\u0434\u043A\u0443",spell_atack_bonus:"\u0411\u043E\u043D\u0443\u0441 \u0430\u0442\u0430\u043A\u0438"},spell_slots:{title:"\u041A\u043E\u043C\u0456\u0440\u043A\u0438 \u0437\u0430\u043A\u043B\u044F\u0442\u044C",level:"\u0420\u0456\u0432\u0435\u043D\u044C",total:"\u0423\u0441\u044C\u043E\u0433\u043E"},spells:{title:"\u0417\u0430\u043A\u043B\u044F\u0442\u0442\u044F \u0442\u0430 \u0437\u0430\u043C\u043E\u0432\u043B\u044F\u043D\u043D\u044F",items:{level:"\u0420\u0456\u0432\u0435\u043D\u044C",name:"\u041D\u0430\u0437\u0432\u0430",concentration:"\u041A\u043E\u043D\u0446\u0435\u043D\u0442\u0440\u0430\u0446\u0456\u044F",ritual:"\u0420\u0438\u0442\u0443\u0430\u043B",components:{title:"\u041A\u043E\u043C\u043F\u043E\u043D\u0435\u043D\u0442\u0438",verbal:"\u0412",somatic:"\u0421",material:"\u041C"},notes:"\u041F\u0440\u0438\u043C\u0456\u0442\u043A\u0438"},spells_amount:"\u041A\u0456\u043B\u044C\u043A\u0456\u0441\u0442\u044C \u0437\u0430\u043A\u043B\u044F\u0442\u044C"}},proficiencies:{title:"\u0412\u043E\u043B\u043E\u0434\u0456\u043D\u043D\u044F",armor_training:{title:"\u0412\u043E\u043B\u043E\u0434\u0456\u043D\u043D\u044F \u0431\u0440\u043E\u043D\u0435\u044E",light:"\u041B\u0435\u0433\u043A\u0430",medium:"\u0421\u0435\u0440\u0435\u0434\u043D\u044F",heavy:"\u0412\u0430\u0436\u043A\u0430",shields:"\u0429\u0438\u0442\u0438"},weapons:"\u0417\u0431\u0440\u043E\u044F",tools:"\u0406\u043D\u0441\u0442\u0440\u0443\u043C\u0435\u043D\u0442\u0438",languages:"\u041C\u043E\u0432\u0438"},inventory:{title:"\u0406\u043D\u0432\u0435\u043D\u0442\u0430\u0440",weight:"\u0412\u0430\u0433\u0430",max_weight:"\u041C\u0430\u043A\u0441. \u0432\u0430\u0433\u0430"},coins:{title:"\u041C\u043E\u043D\u0435\u0442\u0438",types:{cp:"\u041C\u041C",sp:"\u0421\u041C",ep:"\u0415\u041C",gp:"\u0417\u041C",pp:"\u041F\u041C"}},features_traits_feats:{title:"\u041E\u0441\u043E\u0431\u043B\u0438\u0432\u043E\u0441\u0442\u0456, \u0440\u0438\u0441\u0438 \u0442\u0430 \u0434\u043E\u0441\u044F\u0433\u043D\u0435\u043D\u043D\u044F"},backstory_and_appearance:{title:"\u041F\u0435\u0440\u0435\u0434\u0456\u0441\u0442\u043E\u0440\u0456\u044F \u0442\u0430 \u0437\u043E\u0432\u043D\u0456\u0448\u043D\u0456\u0441\u0442\u044C",appearance:"\u0417\u043E\u0432\u043D\u0456\u0448\u043D\u0456\u0441\u0442\u044C",backstory:"\u041F\u0435\u0440\u0435\u0434\u0456\u0441\u0442\u043E\u0440\u0456\u044F"},notes:{title:"\u041D\u043E\u0442\u0430\u0442\u043A\u0438"}};var Gf={page_not_found:{"404":"404",title:"\u0421\u0442\u0440\u0430\u043D\u0438\u0446\u0430 \u043D\u0435 \u043D\u0430\u0439\u0434\u0435\u043D\u0430 :(",description:"\u0417\u0430\u043F\u0440\u0430\u0448\u0438\u0432\u0430\u0435\u043C\u0430\u044F \u0441\u0442\u0440\u0430\u043D\u0438\u0446\u0430 \u043D\u0435 \u043D\u0430\u0439\u0434\u0435\u043D\u0430."},menu:{import:"\u0418\u043C\u043F\u043E\u0440\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C",export:"\u0415\u043A\u0441\u043F\u043E\u0440\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C",delete:"\u0423\u0434\u0430\u043B\u0438\u0442\u044C"},character:{title:"\u041F\u0435\u0440\u0441\u043E\u043D\u0430\u0436",inputs:{player_name:"\u0418\u043C\u044F \u0438\u0433\u0440\u043E\u043A\u0430",character:{name:"\u0418\u043C\u044F",race:"\u0420\u0430\u0441\u0430",class:"\u041A\u043B\u0430\u0441\u0441",level:"\u0423\u0440\u043E\u0432\u0435\u043D\u044C",background:"\u041F\u0440\u0435\u0434\u044B\u0441\u0442\u043E\u0440\u0438\u044F",alignment:"\u041C\u0438\u0440\u043E\u0432\u043E\u0437\u0437\u0440\u0435\u043D\u0438\u0435",experience_points:"\u041E\u043F\u044B\u0442"}}},stats:{hp:{title:"\u041E\u0447\u043A\u0438 \u0437\u0434\u043E\u0440\u043E\u0432\u044C\u044F",current:"\u0422\u0435\u043A\u0443\u0449\u0438\u0435",temporary:"\u0412\u0440\u0435\u043C\u0435\u043D\u043D\u044B\u0435",maximum:"\u041C\u0430\u043A\u0441\u0438\u043C\u0443\u043C"},hit_dice:{title:"\u041A\u043E\u0441\u0442\u0438 \u0437\u0434\u043E\u0440\u043E\u0432\u044C\u044F",label:"\u041A\u043E\u0441\u0442\u0438",spent:"\u041F\u043E\u0442\u0440\u0430\u0447\u0435\u043D\u043E",maximum:"\u041C\u0430\u043A\u0441\u0438\u043C\u0443\u043C"},death_saves:{title:"\u0421\u043F\u0430\u0441\u0431\u0440\u043E\u0441\u043A\u0438 \u043E\u0442 \u0441\u043C\u0435\u0440\u0442\u0438",successes:"\u0423\u0441\u043F\u0435\u0445\u0438:",failures:"\u041F\u0440\u043E\u0432\u0430\u043B\u044B:"},armor_class:"\u041A\u043B\u0430\u0441\u0441 \u0434\u043E\u0441\u043F\u0435\u0445\u0430",initiative:"\u0418\u043D\u0438\u0446\u0438\u0430\u0442\u0438\u0432\u0430",speed:"\u0421\u043A\u043E\u0440\u043E\u0441\u0442\u044C",passive_perception:"\u041F\u0430\u0441\u0441\u0438\u0432\u043D\u043E\u0435 \u0432\u043E\u0441\u043F\u0440\u0438\u044F\u0442\u0438\u0435",proficiency_bonus:"\u0411\u043E\u043D\u0443\u0441 \u043C\u0430\u0441\u0442\u0435\u0440\u0441\u0442\u0432\u0430",inspiration:"\u0413\u0435\u0440\u043E\u0438\u0447\u0435\u0441\u043A\u043E\u0435 \u0432\u0434\u043E\u0445\u043D\u043E\u0432\u0435\u043D\u0438\u0435"},specs:{modifier:"\u041C\u043E\u0434\u0438\u0444\u0438\u043A\u0430\u0442\u043E\u0440",score:"\u0417\u043D\u0430\u0447\u0435\u043D\u0438\u0435",saving_throw:"\u0421\u043F\u0430\u0441\u0431\u0440\u043E\u0441\u043E\u043A",names:{strength:"\u0421\u0438\u043B\u0430",dexterity:"\u041B\u043E\u0432\u043A\u043E\u0441\u0442\u044C",constitution:"\u0422\u0435\u043B\u043E\u0441\u043B\u043E\u0436\u0435\u043D\u0438\u0435",intelligence:"\u0418\u043D\u0442\u0435\u043B\u043B\u0435\u043A\u0442",wisdom:"\u041C\u0443\u0434\u0440\u043E\u0441\u0442\u044C",charisma:"\u0425\u0430\u0440\u0438\u0437\u043C\u0430"},abilities:{names:{athletics:"\u0410\u0442\u043B\u0435\u0442\u0438\u043A\u0430",acrobatics:"\u0410\u043A\u0440\u043E\u0431\u0430\u0442\u0438\u043A\u0430",sleight_of_hand:"\u041B\u043E\u0432\u043A\u043E\u0441\u0442\u044C \u0440\u0443\u043A",stealth:"\u0421\u043A\u0440\u044B\u0442\u043D\u043E\u0441\u0442\u044C",arcana:"\u041C\u0430\u0433\u0438\u044F",history:"\u0418\u0441\u0442\u043E\u0440\u0438\u044F",investigation:"\u0420\u0430\u0441\u0441\u043B\u0435\u0434\u043E\u0432\u0430\u043D\u0438\u0435",nature:"\u041F\u0440\u0438\u0440\u043E\u0434\u0430",religion:"\u0420\u0435\u043B\u0438\u0433\u0438\u044F",animal_handling:"\u0423\u0445\u043E\u0434 \u0437\u0430 \u0436\u0438\u0432\u043E\u0442\u043D\u044B\u043C\u0438",insight:"\u041F\u0440\u043E\u043D\u0438\u0446\u0430\u0442\u0435\u043B\u044C\u043D\u043E\u0441\u0442\u044C",medicine:"\u041C\u0435\u0434\u0438\u0446\u0438\u043D\u0430",perception:"\u0412\u043E\u0441\u043F\u0440\u0438\u044F\u0442\u0438\u0435",survival:"\u0412\u044B\u0436\u0438\u0432\u0430\u043D\u0438\u0435",deception:"\u041E\u0431\u043C\u0430\u043D",intimidation:"\u0417\u0430\u043F\u0443\u0433\u0438\u0432\u0430\u043D\u0438\u0435",performance:"\u0412\u044B\u0441\u0442\u0443\u043F\u043B\u0435\u043D\u0438\u0435",persuasion:"\u0423\u0431\u0435\u0436\u0434\u0435\u043D\u0438\u0435"}}},weapons:{title:"\u041E\u0440\u0443\u0436\u0438\u0435",items:{name:"\u041D\u0430\u0437\u0432\u0430\u043D\u0438\u0435",attack_bonus:"\u0411\u043E\u043D\u0443\u0441 \u0430\u0442\u0430\u043A\u0438",damage:"\u0423\u0440\u043E\u043D",damage_type:"\u0422\u0438\u043F \u0443\u0440\u043E\u043D\u0430"},weapons_amount:"\u041A\u043E\u043B\u0438\u0447\u0435\u0441\u0442\u0432\u043E \u043E\u0440\u0443\u0436\u0438\u044F",notes:{title:"\u041F\u0440\u0438\u043C\u0435\u0447\u0430\u043D\u0438\u044F \u043A \u043E\u0440\u0443\u0436\u0438\u044E"}},spellcasting:{stats:{title:"\u041C\u0430\u0433\u0438\u044F",spellcasting_ability:"\u0425\u0430\u0440\u0430\u043A\u0442\u0435\u0440\u0438\u0441\u0442\u0438\u043A\u0430",spellcasting_modifier:"\u041C\u043E\u0434\u0438\u0444\u0438\u043A\u0430\u0442\u043E\u0440",spell_save_dc:"\u0421\u043B \u0441\u043F\u0430\u0441\u0431\u0440\u043E\u0441\u043A\u0430",spell_atack_bonus:"\u0411\u043E\u043D\u0443\u0441 \u0430\u0442\u0430\u043A\u0438"},spell_slots:{title:"\u042F\u0447\u0435\u0439\u043A\u0438 \u0437\u0430\u043A\u043B\u0438\u043D\u0430\u043D\u0438\u0439",level:"\u0423\u0440\u043E\u0432\u0435\u043D\u044C",total:"\u0412\u0441\u0435\u0433\u043E"},spells:{title:"\u0417\u0430\u043A\u043B\u0438\u043D\u0430\u043D\u0438\u044F \u0438 \u0437\u0430\u0433\u043E\u0432\u043E\u0440\u044B",items:{level:"\u0423\u0440\u043E\u0432\u0435\u043D\u044C",name:"\u041D\u0430\u0437\u0432\u0430\u043D\u0438\u0435",concentration:"\u041A\u043E\u043D\u0446\u0435\u043D\u0442\u0440\u0430\u0446\u0438\u044F",ritual:"\u0420\u0438\u0442\u0443\u0430\u043B",components:{title:"\u041A\u043E\u043C\u043F\u043E\u043D\u0435\u043D\u0442\u044B",verbal:"\u0412",somatic:"\u0421",material:"\u041C"},notes:"\u041F\u0440\u0438\u043C\u0435\u0447\u0430\u043D\u0438\u044F"},spells_amount:"\u041A\u043E\u043B\u0438\u0447\u0435\u0441\u0442\u0432\u043E \u0437\u0430\u043A\u043B\u0438\u043D\u0430\u043D\u0438\u0439"}},proficiencies:{title:"\u0412\u043B\u0430\u0434\u0435\u043D\u0438\u044F",armor_training:{title:"\u0412\u043B\u0430\u0434\u0435\u043D\u0438\u0435 \u0434\u043E\u0441\u043F\u0435\u0445\u0430\u043C\u0438",light:"\u041B\u0451\u0433\u043A\u0438\u0435",medium:"\u0421\u0440\u0435\u0434\u043D\u0438\u0435",heavy:"\u0422\u044F\u0436\u0451\u043B\u044B\u0435",shields:"\u0429\u0438\u0442\u044B"},weapons:"\u041E\u0440\u0443\u0436\u0438\u0435",tools:"\u0418\u043D\u0441\u0442\u0440\u0443\u043C\u0435\u043D\u0442\u044B",languages:"\u042F\u0437\u044B\u043A\u0438"},inventory:{title:"\u0418\u043D\u0432\u0435\u043D\u0442\u0430\u0440\u044C",weight:"\u0412\u0435\u0441",max_weight:"\u041C\u0430\u043A\u0441. \u0432\u0435\u0441"},coins:{title:"\u041C\u043E\u043D\u0435\u0442\u044B",types:{cp:"\u041C\u041C",sp:"\u0421\u041C",ep:"\u042D\u041C",gp:"\u0417\u041C",pp:"\u041F\u041C"}},features_traits_feats:{title:"\u0427\u0435\u0440\u0442\u044B, \u043E\u0441\u043E\u0431\u0435\u043D\u043D\u043E\u0441\u0442\u0438 \u0438 \u043F\u043E\u0434\u0432\u0438\u0433\u0438"},backstory_and_appearance:{title:"\u041F\u0440\u0435\u0434\u044B\u0441\u0442\u043E\u0440\u0438\u044F \u0438 \u0432\u043D\u0435\u0448\u043D\u043E\u0441\u0442\u044C",appearance:"\u0412\u043D\u0435\u0448\u043D\u043E\u0441\u0442\u044C",backstory:"\u041F\u0440\u0435\u0434\u044B\u0441\u0442\u043E\u0440\u0438\u044F"},notes:{title:"\u0417\u0430\u043C\u0435\u0442\u043A\u0438"}};var VA={expires:400,suffix:!0};function Ht(t){return t.replace(/(?:[_-])([a-z0-9])/g,(e,r)=>r.toUpperCase())}var Gt=(t,e={})=>{let{expires:r,suffix:n,prefix:i}=Object.assign({},VA,e),s=w=>Ht(i?`${i}_${w}`:w),c=w=>n?`${Ht(w)}Cookie`:Ht(w),f=w=>{let O=s(w),S=c(w);Object.defineProperty(t,S,{get(){let M=document.cookie.split(";").map(q=>q.trim()).find(q=>q.startsWith(O+"="));return M?M.split("=")[1]:void 0},set(E){if(E===null)return HA(O);let M=typeof E=="string"?E:E.value,q=zA(O+"="+M);KA(q,r)}})};t.constructor.cookieNames?.forEach(w=>{f(w)})};function zA(t){let[e,r]=t.split("=");return{name:e,value:r}}function KA(t,e){let{name:r,value:n,expires:i=e}=t,s=new Date(new Date().getTime()+i*24*60*60*1e3).toUTCString();document.cookie=`${r}=${n};expires=${s};`}function HA(t){document.cookie=`${t}=; expires=Thu, 01 Jan 1970 00:00:00 UTC;`}var Wt=["en","ua","ru"],ht=class extends Y{static targets=["toggle","translation"];static classes=["toggled"];static cookieNames=["locale"];connect(){Gt(this),this.i18n=new ft({en:Kf,ua:Hf,ru:Gf}),this._setLocale(this.localeCookie||Wt[0]),this._toggleLocale()}toggle(){let t=Wt.indexOf(this.localeCookie),e=t+1<Wt.length?t+1:0;this._setLocale(Wt[e]),this.toggleTarget.classList.toggle(this.toggledClass,!this.toggleTarget.classList.contains(this.toggledClass)),this._toggleLocale()}_setLocale(t){this.localeCookie=t,this.i18n.locale=t}_toggleLocale(){this.translationTargets.forEach(t=>{t.innerHTML=this.i18n.t(t.dataset.t)})}};var pt=class extends Y{static targets=["state"];static values={states:Array,id:String,currectState:String};static classes=["hidden"];connect(){this._toggleState(this.statesValue[0])}toggle(){let t=this.statesValue.indexOf(this.currentState),e=this.statesValue[t+1<this.statesValue.length?t+1:0];this._toggleState(e),this._dispatchChangeEvent()}load({detail:{state:t}}){let e=t[this.idValue]||this.statesValue[0];this._toggleState(e)}_toggleState(t){this.currentState=t;let e=this.statesValue.indexOf(this.currentState);this.stateTargets.forEach((r,n)=>{r.classList.toggle(this.hiddenClass,e!==n)})}_dispatchChangeEvent(){this.dispatch("change",{detail:{value:this.currentState,id:this.idValue}})}};var dt=class extends Y{static targets=["input","item"];static classes=["hidden"];static values={id:String};update(){this._updateItems(this.inputTarget.value),this._dispatchChangeEvent()}load({detail:{state:t}}){let e=t[this.idValue];this.inputTarget.value=e,this._updateItems(e)}_updateItems(t){let e=Number(t);this.itemTargets.forEach((r,n)=>{r.classList.toggle(this.hiddenClass,n>=e)})}_dispatchChangeEvent(){this.dispatch("change",{detail:{id:this.idValue,value:this.inputTarget.value}})}};var Yf=de(Wf()),Zf="state",GA="character.json",WA="application/json;charset=utf-8",Jf={weapons_amount:4,spells_amount:6,strength_modifier:0,dexterity_modifier:0,constitution_modifier:0,intelligence_modifier:0,wisdom_modifier:0,charisma_modifier:0,athletics:0,acrobatics:0,sleight_of_hand:0,stealth:0,arcana:0,history:0,investigation:0,nature:0,religion:0,animal_handling:0,insight:0,medicine:0,perception:0,survival:0,deception:0,intimidation:0,performance:0,persuasion:0},gt=class extends Y{static targets=["input","importInput"];connect(){this._load()}save({target:t,detail:e}){let r=e||t;this.state[r.id]=r.value,this.storedState=JSON.stringify(this.state)}export(){let t=new Blob([JSON.stringify(this.state,void 0,2)],{type:WA});(0,Yf.saveAs)(t,GA)}async import(t){let e=t.currentTarget.files[0];e!==void 0&&(this.storedState=await e.text(),this._load(),this.importInputTarget.value=null)}delete(){this.storedState=JSON.stringify(Jf),this._load()}_load(){this.state={...Jf,...this.storedState?JSON.parse(this.storedState):{}},this.inputTargets.forEach(t=>{let e=this.state[t.id];t.value=e===void 0?"":e}),setTimeout(()=>this.dispatch("loaded",{detail:{state:this.state},bubbles:!0}))}get storedState(){return window.localStorage.getItem(Zf)}set storedState(t){window.localStorage.setItem(Zf,t)}};var mt={enabled:"true",disabled:"false"},ZA="meta[name=theme-color]",Xf={dark:"#27272a",light:"#f5f5f5"},vt=class extends Y{static targets=["body","toggle"];static classes=["darkMode","darkModeEnabled"];static cookieNames=["darkMode"];connect(){Gt(this),this.darkModeCookie===void 0&&(this.darkModeCookie=mt.enabled),this._toggleDarkMode()}toggle(){this.darkModeCookie=this.darkModeCookie===mt.enabled?mt.disabled:mt.enabled,this._toggleDarkMode()}_toggleDarkMode(){let t=this.darkModeCookie===mt.enabled;this.bodyTarget.classList.toggle(this.darkModeClass,t),this.toggleTarget.classList.toggle(this.darkModeEnabledClass,t);let e=document.querySelector(ZA);e.content=t?Xf.dark:Xf.light}};window.Stimulus=St.start();Object.entries({theme:vt,i18n:ht,"multi-toggle":pt,pagination:dt,state:gt,counter:He}).forEach(([t,e])=>window.Stimulus.register(t,e));"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("sw.js",{scope:"/dcs/"})});})();
