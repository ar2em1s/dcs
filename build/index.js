(()=>{var zf=Object.create;var xn=Object.defineProperty;var Kf=Object.getOwnPropertyDescriptor;var Vf=Object.getOwnPropertyNames;var Hf=Object.getPrototypeOf,Gf=Object.prototype.hasOwnProperty;var l=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var Wf=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Vf(e))!Gf.call(t,i)&&i!==r&&xn(t,i,{get:()=>e[i],enumerable:!(n=Kf(e,i))||n.enumerable});return t};var de=(t,e,r)=>(r=t!=null?zf(Hf(t)):{},Wf(e||!t||!t.__esModule?xn(r,"default",{value:t,enumerable:!0}):r,t));var ie=l((ZA,In)=>{var zh=Array.isArray;In.exports=zh});var br=l((YA,Dn)=>{var Kh=typeof global=="object"&&global&&global.Object===Object&&global;Dn.exports=Kh});var ue=l((JA,Pn)=>{var Vh=br(),Hh=typeof self=="object"&&self&&self.Object===Object&&self,Gh=Vh||Hh||Function("return this")();Pn.exports=Gh});var Ne=l((XA,Ln)=>{var Wh=ue(),Zh=Wh.Symbol;Ln.exports=Zh});var $n=l((QA,jn)=>{var kn=Ne(),Bn=Object.prototype,Yh=Bn.hasOwnProperty,Jh=Bn.toString,We=kn?kn.toStringTag:void 0;function Xh(t){var e=Yh.call(t,We),r=t[We];try{t[We]=void 0;var n=!0}catch{}var i=Jh.call(t);return n&&(e?t[We]=r:delete t[We]),i}jn.exports=Xh});var Un=l((eS,Rn)=>{var Qh=Object.prototype,ep=Qh.toString;function tp(t){return ep.call(t)}Rn.exports=tp});var Ae=l((tS,Vn)=>{var zn=Ne(),rp=$n(),np=Un(),ip="[object Null]",sp="[object Undefined]",Kn=zn?zn.toStringTag:void 0;function op(t){return t==null?t===void 0?sp:ip:Kn&&Kn in Object(t)?rp(t):np(t)}Vn.exports=op});var ve=l((rS,Hn)=>{function ap(t){return t!=null&&typeof t=="object"}Hn.exports=ap});var Me=l((nS,Gn)=>{var cp=Ae(),up=ve(),lp="[object Symbol]";function fp(t){return typeof t=="symbol"||up(t)&&cp(t)==lp}Gn.exports=fp});var St=l((iS,Wn)=>{var hp=ie(),pp=Me(),dp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,gp=/^\w*$/;function mp(t,e){if(hp(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||pp(t)?!0:gp.test(t)||!dp.test(t)||e!=null&&t in Object(e)}Wn.exports=mp});var pe=l((sS,Zn)=>{function bp(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}Zn.exports=bp});var Et=l((oS,Yn)=>{var xp=Ae(),vp=pe(),yp="[object AsyncFunction]",Op="[object Function]",wp="[object GeneratorFunction]",Ap="[object Proxy]";function Sp(t){if(!vp(t))return!1;var e=xp(t);return e==Op||e==wp||e==yp||e==Ap}Yn.exports=Sp});var Xn=l((aS,Jn)=>{var Ep=ue(),qp=Ep["__core-js_shared__"];Jn.exports=qp});var ti=l((cS,ei)=>{var xr=Xn(),Qn=function(){var t=/[^.]+$/.exec(xr&&xr.keys&&xr.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Tp(t){return!!Qn&&Qn in t}ei.exports=Tp});var vr=l((uS,ri)=>{var _p=Function.prototype,Cp=_p.toString;function Np(t){if(t!=null){try{return Cp.call(t)}catch{}try{return t+""}catch{}}return""}ri.exports=Np});var ii=l((lS,ni)=>{var Mp=Et(),Fp=ti(),Ip=pe(),Dp=vr(),Pp=/[\\^$.*+?()[\]{}|]/g,Lp=/^\[object .+?Constructor\]$/,kp=Function.prototype,Bp=Object.prototype,jp=kp.toString,$p=Bp.hasOwnProperty,Rp=RegExp("^"+jp.call($p).replace(Pp,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Up(t){if(!Ip(t)||Fp(t))return!1;var e=Mp(t)?Rp:Lp;return e.test(Dp(t))}ni.exports=Up});var oi=l((fS,si)=>{function zp(t,e){return t?.[e]}si.exports=zp});var ye=l((hS,ai)=>{var Kp=ii(),Vp=oi();function Hp(t,e){var r=Vp(t,e);return Kp(r)?r:void 0}ai.exports=Hp});var Ze=l((pS,ci)=>{var Gp=ye(),Wp=Gp(Object,"create");ci.exports=Wp});var fi=l((dS,li)=>{var ui=Ze();function Zp(){this.__data__=ui?ui(null):{},this.size=0}li.exports=Zp});var pi=l((gS,hi)=>{function Yp(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}hi.exports=Yp});var gi=l((mS,di)=>{var Jp=Ze(),Xp="__lodash_hash_undefined__",Qp=Object.prototype,ed=Qp.hasOwnProperty;function td(t){var e=this.__data__;if(Jp){var r=e[t];return r===Xp?void 0:r}return ed.call(e,t)?e[t]:void 0}di.exports=td});var bi=l((bS,mi)=>{var rd=Ze(),nd=Object.prototype,id=nd.hasOwnProperty;function sd(t){var e=this.__data__;return rd?e[t]!==void 0:id.call(e,t)}mi.exports=sd});var vi=l((xS,xi)=>{var od=Ze(),ad="__lodash_hash_undefined__";function cd(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=od&&e===void 0?ad:e,this}xi.exports=cd});var Oi=l((vS,yi)=>{var ud=fi(),ld=pi(),fd=gi(),hd=bi(),pd=vi();function Fe(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Fe.prototype.clear=ud;Fe.prototype.delete=ld;Fe.prototype.get=fd;Fe.prototype.has=hd;Fe.prototype.set=pd;yi.exports=Fe});var Ai=l((yS,wi)=>{function dd(){this.__data__=[],this.size=0}wi.exports=dd});var Ie=l((OS,Si)=>{function gd(t,e){return t===e||t!==t&&e!==e}Si.exports=gd});var Ye=l((wS,Ei)=>{var md=Ie();function bd(t,e){for(var r=t.length;r--;)if(md(t[r][0],e))return r;return-1}Ei.exports=bd});var Ti=l((AS,qi)=>{var xd=Ye(),vd=Array.prototype,yd=vd.splice;function Od(t){var e=this.__data__,r=xd(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():yd.call(e,r,1),--this.size,!0}qi.exports=Od});var Ci=l((SS,_i)=>{var wd=Ye();function Ad(t){var e=this.__data__,r=wd(e,t);return r<0?void 0:e[r][1]}_i.exports=Ad});var Mi=l((ES,Ni)=>{var Sd=Ye();function Ed(t){return Sd(this.__data__,t)>-1}Ni.exports=Ed});var Ii=l((qS,Fi)=>{var qd=Ye();function Td(t,e){var r=this.__data__,n=qd(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}Fi.exports=Td});var Je=l((TS,Di)=>{var _d=Ai(),Cd=Ti(),Nd=Ci(),Md=Mi(),Fd=Ii();function De(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}De.prototype.clear=_d;De.prototype.delete=Cd;De.prototype.get=Nd;De.prototype.has=Md;De.prototype.set=Fd;Di.exports=De});var qt=l((_S,Pi)=>{var Id=ye(),Dd=ue(),Pd=Id(Dd,"Map");Pi.exports=Pd});var Bi=l((CS,ki)=>{var Li=Oi(),Ld=Je(),kd=qt();function Bd(){this.size=0,this.__data__={hash:new Li,map:new(kd||Ld),string:new Li}}ki.exports=Bd});var $i=l((NS,ji)=>{function jd(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}ji.exports=jd});var Xe=l((MS,Ri)=>{var $d=$i();function Rd(t,e){var r=t.__data__;return $d(e)?r[typeof e=="string"?"string":"hash"]:r.map}Ri.exports=Rd});var zi=l((FS,Ui)=>{var Ud=Xe();function zd(t){var e=Ud(this,t).delete(t);return this.size-=e?1:0,e}Ui.exports=zd});var Vi=l((IS,Ki)=>{var Kd=Xe();function Vd(t){return Kd(this,t).get(t)}Ki.exports=Vd});var Gi=l((DS,Hi)=>{var Hd=Xe();function Gd(t){return Hd(this,t).has(t)}Hi.exports=Gd});var Zi=l((PS,Wi)=>{var Wd=Xe();function Zd(t,e){var r=Wd(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}Wi.exports=Zd});var Tt=l((LS,Yi)=>{var Yd=Bi(),Jd=zi(),Xd=Vi(),Qd=Gi(),eg=Zi();function Pe(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Pe.prototype.clear=Yd;Pe.prototype.delete=Jd;Pe.prototype.get=Xd;Pe.prototype.has=Qd;Pe.prototype.set=eg;Yi.exports=Pe});var Qi=l((kS,Xi)=>{var Ji=Tt(),tg="Expected a function";function yr(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(tg);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],s=r.cache;if(s.has(i))return s.get(i);var u=t.apply(this,n);return r.cache=s.set(i,u)||s,u};return r.cache=new(yr.Cache||Ji),r}yr.Cache=Ji;Xi.exports=yr});var ts=l((BS,es)=>{var rg=Qi(),ng=500;function ig(t){var e=rg(t,function(n){return r.size===ng&&r.clear(),n}),r=e.cache;return e}es.exports=ig});var ns=l((jS,rs)=>{var sg=ts(),og=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ag=/\\(\\)?/g,cg=sg(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(og,function(r,n,i,s){e.push(i?s.replace(ag,"$1"):n||r)}),e});rs.exports=cg});var Or=l(($S,is)=>{function ug(t,e){for(var r=-1,n=t==null?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}is.exports=ug});var ls=l((RS,us)=>{var ss=Ne(),lg=Or(),fg=ie(),hg=Me(),pg=1/0,os=ss?ss.prototype:void 0,as=os?os.toString:void 0;function cs(t){if(typeof t=="string")return t;if(fg(t))return lg(t,cs)+"";if(hg(t))return as?as.call(t):"";var e=t+"";return e=="0"&&1/t==-pg?"-0":e}us.exports=cs});var Se=l((US,fs)=>{var dg=ls();function gg(t){return t==null?"":dg(t)}fs.exports=gg});var wr=l((zS,hs)=>{var mg=ie(),bg=St(),xg=ns(),vg=Se();function yg(t,e){return mg(t)?t:bg(t,e)?[t]:xg(vg(t))}hs.exports=yg});var Qe=l((KS,ps)=>{var Og=Me(),wg=1/0;function Ag(t){if(typeof t=="string"||Og(t))return t;var e=t+"";return e=="0"&&1/t==-wg?"-0":e}ps.exports=Ag});var _t=l((VS,ds)=>{var Sg=wr(),Eg=Qe();function qg(t,e){e=Sg(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[Eg(e[r++])];return r&&r==n?t:void 0}ds.exports=qg});var Ar=l((HS,gs)=>{var Tg=_t();function _g(t,e,r){var n=t==null?void 0:Tg(t,e);return n===void 0?r:n}gs.exports=_g});var bs=l((GS,ms)=>{var Cg=Object.prototype,Ng=Cg.hasOwnProperty;function Mg(t,e){return t!=null&&Ng.call(t,e)}ms.exports=Mg});var vs=l((WS,xs)=>{var Fg=Ae(),Ig=ve(),Dg="[object Arguments]";function Pg(t){return Ig(t)&&Fg(t)==Dg}xs.exports=Pg});var et=l((ZS,ws)=>{var ys=vs(),Lg=ve(),Os=Object.prototype,kg=Os.hasOwnProperty,Bg=Os.propertyIsEnumerable,jg=ys(function(){return arguments}())?ys:function(t){return Lg(t)&&kg.call(t,"callee")&&!Bg.call(t,"callee")};ws.exports=jg});var Ct=l((YS,As)=>{var $g=9007199254740991,Rg=/^(?:0|[1-9]\d*)$/;function Ug(t,e){var r=typeof t;return e=e??$g,!!e&&(r=="number"||r!="symbol"&&Rg.test(t))&&t>-1&&t%1==0&&t<e}As.exports=Ug});var Nt=l((JS,Ss)=>{var zg=9007199254740991;function Kg(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=zg}Ss.exports=Kg});var Sr=l((XS,Es)=>{var Vg=wr(),Hg=et(),Gg=ie(),Wg=Ct(),Zg=Nt(),Yg=Qe();function Jg(t,e,r){e=Vg(e,t);for(var n=-1,i=e.length,s=!1;++n<i;){var u=Yg(e[n]);if(!(s=t!=null&&r(t,u)))break;t=t[u]}return s||++n!=i?s:(i=t==null?0:t.length,!!i&&Zg(i)&&Wg(u,i)&&(Gg(t)||Hg(t)))}Es.exports=Jg});var Ts=l((QS,qs)=>{var Xg=bs(),Qg=Sr();function e0(t,e){return t!=null&&Qg(t,e,Xg)}qs.exports=e0});var Cs=l((eE,_s)=>{var t0=Je();function r0(){this.__data__=new t0,this.size=0}_s.exports=r0});var Ms=l((tE,Ns)=>{function n0(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}Ns.exports=n0});var Is=l((rE,Fs)=>{function i0(t){return this.__data__.get(t)}Fs.exports=i0});var Ps=l((nE,Ds)=>{function s0(t){return this.__data__.has(t)}Ds.exports=s0});var ks=l((iE,Ls)=>{var o0=Je(),a0=qt(),c0=Tt(),u0=200;function l0(t,e){var r=this.__data__;if(r instanceof o0){var n=r.__data__;if(!a0||n.length<u0-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new c0(n)}return r.set(t,e),this.size=r.size,this}Ls.exports=l0});var Mt=l((sE,Bs)=>{var f0=Je(),h0=Cs(),p0=Ms(),d0=Is(),g0=Ps(),m0=ks();function Le(t){var e=this.__data__=new f0(t);this.size=e.size}Le.prototype.clear=h0;Le.prototype.delete=p0;Le.prototype.get=d0;Le.prototype.has=g0;Le.prototype.set=m0;Bs.exports=Le});var Er=l((oE,js)=>{var b0=ye(),x0=function(){try{var t=b0(Object,"defineProperty");return t({},"",{}),t}catch{}}();js.exports=x0});var Ft=l((aE,Rs)=>{var $s=Er();function v0(t,e,r){e=="__proto__"&&$s?$s(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}Rs.exports=v0});var qr=l((cE,Us)=>{var y0=Ft(),O0=Ie();function w0(t,e,r){(r!==void 0&&!O0(t[e],r)||r===void 0&&!(e in t))&&y0(t,e,r)}Us.exports=w0});var Ks=l((uE,zs)=>{function A0(t){return function(e,r,n){for(var i=-1,s=Object(e),u=n(e),h=u.length;h--;){var v=u[t?h:++i];if(r(s[v],v,s)===!1)break}return e}}zs.exports=A0});var Tr=l((lE,Vs)=>{var S0=Ks(),E0=S0();Vs.exports=E0});var Ys=l((tt,ke)=>{var q0=ue(),Zs=typeof tt=="object"&&tt&&!tt.nodeType&&tt,Hs=Zs&&typeof ke=="object"&&ke&&!ke.nodeType&&ke,T0=Hs&&Hs.exports===Zs,Gs=T0?q0.Buffer:void 0,Ws=Gs?Gs.allocUnsafe:void 0;function _0(t,e){if(e)return t.slice();var r=t.length,n=Ws?Ws(r):new t.constructor(r);return t.copy(n),n}ke.exports=_0});var _r=l((fE,Js)=>{var C0=ue(),N0=C0.Uint8Array;Js.exports=N0});var eo=l((hE,Qs)=>{var Xs=_r();function M0(t){var e=new t.constructor(t.byteLength);return new Xs(e).set(new Xs(t)),e}Qs.exports=M0});var ro=l((pE,to)=>{var F0=eo();function I0(t,e){var r=e?F0(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}to.exports=I0});var io=l((dE,no)=>{function D0(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}no.exports=D0});var ao=l((gE,oo)=>{var P0=pe(),so=Object.create,L0=function(){function t(){}return function(e){if(!P0(e))return{};if(so)return so(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}();oo.exports=L0});var Cr=l((mE,co)=>{function k0(t,e){return function(r){return t(e(r))}}co.exports=k0});var Nr=l((bE,uo)=>{var B0=Cr(),j0=B0(Object.getPrototypeOf,Object);uo.exports=j0});var It=l((xE,lo)=>{var $0=Object.prototype;function R0(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||$0;return t===r}lo.exports=R0});var ho=l((vE,fo)=>{var U0=ao(),z0=Nr(),K0=It();function V0(t){return typeof t.constructor=="function"&&!K0(t)?U0(z0(t)):{}}fo.exports=V0});var Ee=l((yE,po)=>{var H0=Et(),G0=Nt();function W0(t){return t!=null&&G0(t.length)&&!H0(t)}po.exports=W0});var mo=l((OE,go)=>{var Z0=Ee(),Y0=ve();function J0(t){return Y0(t)&&Z0(t)}go.exports=J0});var xo=l((wE,bo)=>{function X0(){return!1}bo.exports=X0});var Dt=l((rt,Be)=>{var Q0=ue(),em=xo(),Oo=typeof rt=="object"&&rt&&!rt.nodeType&&rt,vo=Oo&&typeof Be=="object"&&Be&&!Be.nodeType&&Be,tm=vo&&vo.exports===Oo,yo=tm?Q0.Buffer:void 0,rm=yo?yo.isBuffer:void 0,nm=rm||em;Be.exports=nm});var So=l((AE,Ao)=>{var im=Ae(),sm=Nr(),om=ve(),am="[object Object]",cm=Function.prototype,um=Object.prototype,wo=cm.toString,lm=um.hasOwnProperty,fm=wo.call(Object);function hm(t){if(!om(t)||im(t)!=am)return!1;var e=sm(t);if(e===null)return!0;var r=lm.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&wo.call(r)==fm}Ao.exports=hm});var qo=l((SE,Eo)=>{var pm=Ae(),dm=Nt(),gm=ve(),mm="[object Arguments]",bm="[object Array]",xm="[object Boolean]",vm="[object Date]",ym="[object Error]",Om="[object Function]",wm="[object Map]",Am="[object Number]",Sm="[object Object]",Em="[object RegExp]",qm="[object Set]",Tm="[object String]",_m="[object WeakMap]",Cm="[object ArrayBuffer]",Nm="[object DataView]",Mm="[object Float32Array]",Fm="[object Float64Array]",Im="[object Int8Array]",Dm="[object Int16Array]",Pm="[object Int32Array]",Lm="[object Uint8Array]",km="[object Uint8ClampedArray]",Bm="[object Uint16Array]",jm="[object Uint32Array]",B={};B[Mm]=B[Fm]=B[Im]=B[Dm]=B[Pm]=B[Lm]=B[km]=B[Bm]=B[jm]=!0;B[mm]=B[bm]=B[Cm]=B[xm]=B[Nm]=B[vm]=B[ym]=B[Om]=B[wm]=B[Am]=B[Sm]=B[Em]=B[qm]=B[Tm]=B[_m]=!1;function $m(t){return gm(t)&&dm(t.length)&&!!B[pm(t)]}Eo.exports=$m});var Mr=l((EE,To)=>{function Rm(t){return function(e){return t(e)}}To.exports=Rm});var Co=l((nt,je)=>{var Um=br(),_o=typeof nt=="object"&&nt&&!nt.nodeType&&nt,it=_o&&typeof je=="object"&&je&&!je.nodeType&&je,zm=it&&it.exports===_o,Fr=zm&&Um.process,Km=function(){try{var t=it&&it.require&&it.require("util").types;return t||Fr&&Fr.binding&&Fr.binding("util")}catch{}}();je.exports=Km});var Pt=l((qE,Fo)=>{var Vm=qo(),Hm=Mr(),No=Co(),Mo=No&&No.isTypedArray,Gm=Mo?Hm(Mo):Vm;Fo.exports=Gm});var Ir=l((TE,Io)=>{function Wm(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}Io.exports=Wm});var Dr=l((_E,Do)=>{var Zm=Ft(),Ym=Ie(),Jm=Object.prototype,Xm=Jm.hasOwnProperty;function Qm(t,e,r){var n=t[e];(!(Xm.call(t,e)&&Ym(n,r))||r===void 0&&!(e in t))&&Zm(t,e,r)}Do.exports=Qm});var Lo=l((CE,Po)=>{var e1=Dr(),t1=Ft();function r1(t,e,r,n){var i=!r;r||(r={});for(var s=-1,u=e.length;++s<u;){var h=e[s],v=n?n(r[h],t[h],h,r,t):void 0;v===void 0&&(v=t[h]),i?t1(r,h,v):e1(r,h,v)}return r}Po.exports=r1});var Bo=l((NE,ko)=>{function n1(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}ko.exports=n1});var Pr=l((ME,jo)=>{var i1=Bo(),s1=et(),o1=ie(),a1=Dt(),c1=Ct(),u1=Pt(),l1=Object.prototype,f1=l1.hasOwnProperty;function h1(t,e){var r=o1(t),n=!r&&s1(t),i=!r&&!n&&a1(t),s=!r&&!n&&!i&&u1(t),u=r||n||i||s,h=u?i1(t.length,String):[],v=h.length;for(var O in t)(e||f1.call(t,O))&&!(u&&(O=="length"||i&&(O=="offset"||O=="parent")||s&&(O=="buffer"||O=="byteLength"||O=="byteOffset")||c1(O,v)))&&h.push(O);return h}jo.exports=h1});var Ro=l((FE,$o)=>{function p1(t){var e=[];if(t!=null)for(var r in Object(t))e.push(r);return e}$o.exports=p1});var zo=l((IE,Uo)=>{var d1=pe(),g1=It(),m1=Ro(),b1=Object.prototype,x1=b1.hasOwnProperty;function v1(t){if(!d1(t))return m1(t);var e=g1(t),r=[];for(var n in t)n=="constructor"&&(e||!x1.call(t,n))||r.push(n);return r}Uo.exports=v1});var Lr=l((DE,Ko)=>{var y1=Pr(),O1=zo(),w1=Ee();function A1(t){return w1(t)?y1(t,!0):O1(t)}Ko.exports=A1});var Ho=l((PE,Vo)=>{var S1=Lo(),E1=Lr();function q1(t){return S1(t,E1(t))}Vo.exports=q1});var Xo=l((LE,Jo)=>{var Go=qr(),T1=Ys(),_1=ro(),C1=io(),N1=ho(),Wo=et(),Zo=ie(),M1=mo(),F1=Dt(),I1=Et(),D1=pe(),P1=So(),L1=Pt(),Yo=Ir(),k1=Ho();function B1(t,e,r,n,i,s,u){var h=Yo(t,r),v=Yo(e,r),O=u.get(v);if(O){Go(t,r,O);return}var S=s?s(h,v,r+"",t,e,u):void 0,E=S===void 0;if(E){var q=Zo(v),M=!q&&F1(v),C=!q&&!M&&L1(v);S=v,q||M||C?Zo(h)?S=h:M1(h)?S=C1(h):M?(E=!1,S=T1(v,!0)):C?(E=!1,S=_1(v,!0)):S=[]:P1(v)||Wo(v)?(S=h,Wo(h)?S=k1(h):(!D1(h)||I1(h))&&(S=N1(v))):E=!1}E&&(u.set(v,S),i(S,v,n,s,u),u.delete(v)),Go(t,r,S)}Jo.exports=B1});var ta=l((kE,ea)=>{var j1=Mt(),$1=qr(),R1=Tr(),U1=Xo(),z1=pe(),K1=Lr(),V1=Ir();function Qo(t,e,r,n,i){t!==e&&R1(e,function(s,u){if(i||(i=new j1),z1(s))U1(t,e,u,r,Qo,n,i);else{var h=n?n(V1(t,u),s,u+"",t,e,i):void 0;h===void 0&&(h=s),$1(t,u,h)}},K1)}ea.exports=Qo});var st=l((BE,ra)=>{function H1(t){return t}ra.exports=H1});var ia=l((jE,na)=>{function G1(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}na.exports=G1});var aa=l(($E,oa)=>{var W1=ia(),sa=Math.max;function Z1(t,e,r){return e=sa(e===void 0?t.length-1:e,0),function(){for(var n=arguments,i=-1,s=sa(n.length-e,0),u=Array(s);++i<s;)u[i]=n[e+i];i=-1;for(var h=Array(e+1);++i<e;)h[i]=n[i];return h[e]=r(u),W1(t,this,h)}}oa.exports=Z1});var ua=l((RE,ca)=>{function Y1(t){return function(){return t}}ca.exports=Y1});var ha=l((UE,fa)=>{var J1=ua(),la=Er(),X1=st(),Q1=la?function(t,e){return la(t,"toString",{configurable:!0,enumerable:!1,value:J1(e),writable:!0})}:X1;fa.exports=Q1});var da=l((zE,pa)=>{var eb=800,tb=16,rb=Date.now;function nb(t){var e=0,r=0;return function(){var n=rb(),i=tb-(n-r);if(r=n,i>0){if(++e>=eb)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}pa.exports=nb});var ma=l((KE,ga)=>{var ib=ha(),sb=da(),ob=sb(ib);ga.exports=ob});var kr=l((VE,ba)=>{var ab=st(),cb=aa(),ub=ma();function lb(t,e){return ub(cb(t,e,ab),t+"")}ba.exports=lb});var ot=l((HE,xa)=>{var fb=Ie(),hb=Ee(),pb=Ct(),db=pe();function gb(t,e,r){if(!db(r))return!1;var n=typeof e;return(n=="number"?hb(r)&&pb(e,r.length):n=="string"&&e in r)?fb(r[e],t):!1}xa.exports=gb});var ya=l((GE,va)=>{var mb=kr(),bb=ot();function xb(t){return mb(function(e,r){var n=-1,i=r.length,s=i>1?r[i-1]:void 0,u=i>2?r[2]:void 0;for(s=t.length>3&&typeof s=="function"?(i--,s):void 0,u&&bb(r[0],r[1],u)&&(s=i<3?void 0:s,i=1),e=Object(e);++n<i;){var h=r[n];h&&t(e,h,n,s)}return e})}va.exports=xb});var wa=l((WE,Oa)=>{var vb=ta(),yb=ya(),Ob=yb(function(t,e,r){vb(t,e,r)});Oa.exports=Ob});var Sa=l((ZE,Aa)=>{var wb="__lodash_hash_undefined__";function Ab(t){return this.__data__.set(t,wb),this}Aa.exports=Ab});var qa=l((YE,Ea)=>{function Sb(t){return this.__data__.has(t)}Ea.exports=Sb});var Br=l((JE,Ta)=>{var Eb=Tt(),qb=Sa(),Tb=qa();function Lt(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new Eb;++e<r;)this.add(t[e])}Lt.prototype.add=Lt.prototype.push=qb;Lt.prototype.has=Tb;Ta.exports=Lt});var Ca=l((XE,_a)=>{function _b(t,e,r,n){for(var i=t.length,s=r+(n?1:-1);n?s--:++s<i;)if(e(t[s],s,t))return s;return-1}_a.exports=_b});var Ma=l((QE,Na)=>{function Cb(t){return t!==t}Na.exports=Cb});var Ia=l((eq,Fa)=>{function Nb(t,e,r){for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}Fa.exports=Nb});var Pa=l((tq,Da)=>{var Mb=Ca(),Fb=Ma(),Ib=Ia();function Db(t,e,r){return e===e?Ib(t,e,r):Mb(t,Fb,r)}Da.exports=Db});var ka=l((rq,La)=>{var Pb=Pa();function Lb(t,e){var r=t==null?0:t.length;return!!r&&Pb(t,e,0)>-1}La.exports=Lb});var ja=l((nq,Ba)=>{function kb(t,e,r){for(var n=-1,i=t==null?0:t.length;++n<i;)if(r(e,t[n]))return!0;return!1}Ba.exports=kb});var jr=l((iq,$a)=>{function Bb(t,e){return t.has(e)}$a.exports=Bb});var $r=l((sq,Ra)=>{var jb=ye(),$b=ue(),Rb=jb($b,"Set");Ra.exports=Rb});var za=l((oq,Ua)=>{function Ub(){}Ua.exports=Ub});var kt=l((aq,Ka)=>{function zb(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}Ka.exports=zb});var Ha=l((cq,Va)=>{var Rr=$r(),Kb=za(),Vb=kt(),Hb=1/0,Gb=Rr&&1/Vb(new Rr([,-0]))[1]==Hb?function(t){return new Rr(t)}:Kb;Va.exports=Gb});var Wa=l((uq,Ga)=>{var Wb=Br(),Zb=ka(),Yb=ja(),Jb=jr(),Xb=Ha(),Qb=kt(),ex=200;function tx(t,e,r){var n=-1,i=Zb,s=t.length,u=!0,h=[],v=h;if(r)u=!1,i=Yb;else if(s>=ex){var O=e?null:Xb(t);if(O)return Qb(O);u=!1,i=Jb,v=new Wb}else v=e?[]:h;e:for(;++n<s;){var S=t[n],E=e?e(S):S;if(S=r||S!==0?S:0,u&&E===E){for(var q=v.length;q--;)if(v[q]===E)continue e;e&&v.push(E),h.push(S)}else i(v,E,r)||(v!==h&&v.push(E),h.push(S))}return h}Ga.exports=tx});var Ya=l((lq,Za)=>{var rx=Wa();function nx(t){return t&&t.length?rx(t):[]}Za.exports=nx});var tc=l((gq,ec)=>{function ox(t,e,r){var n=-1,i=t.length;e<0&&(e=-e>i?0:i+e),r=r>i?i:r,r<0&&(r+=i),i=e>r?0:r-e>>>0,e>>>=0;for(var s=Array(i);++n<i;)s[n]=t[n+e];return s}ec.exports=ox});var nc=l((mq,rc)=>{var ax=tc();function cx(t,e,r){var n=t.length;return r=r===void 0?n:r,!e&&r>=n?t:ax(t,e,r)}rc.exports=cx});var Ur=l((bq,ic)=>{var ux="\\ud800-\\udfff",lx="\\u0300-\\u036f",fx="\\ufe20-\\ufe2f",hx="\\u20d0-\\u20ff",px=lx+fx+hx,dx="\\ufe0e\\ufe0f",gx="\\u200d",mx=RegExp("["+gx+ux+px+dx+"]");function bx(t){return mx.test(t)}ic.exports=bx});var oc=l((xq,sc)=>{function xx(t){return t.split("")}sc.exports=xx});var dc=l((vq,pc)=>{var ac="\\ud800-\\udfff",vx="\\u0300-\\u036f",yx="\\ufe20-\\ufe2f",Ox="\\u20d0-\\u20ff",wx=vx+yx+Ox,Ax="\\ufe0e\\ufe0f",Sx="["+ac+"]",zr="["+wx+"]",Kr="\\ud83c[\\udffb-\\udfff]",Ex="(?:"+zr+"|"+Kr+")",cc="[^"+ac+"]",uc="(?:\\ud83c[\\udde6-\\uddff]){2}",lc="[\\ud800-\\udbff][\\udc00-\\udfff]",qx="\\u200d",fc=Ex+"?",hc="["+Ax+"]?",Tx="(?:"+qx+"(?:"+[cc,uc,lc].join("|")+")"+hc+fc+")*",_x=hc+fc+Tx,Cx="(?:"+[cc+zr+"?",zr,uc,lc,Sx].join("|")+")",Nx=RegExp(Kr+"(?="+Kr+")|"+Cx+_x,"g");function Mx(t){return t.match(Nx)||[]}pc.exports=Mx});var mc=l((yq,gc)=>{var Fx=oc(),Ix=Ur(),Dx=dc();function Px(t){return Ix(t)?Dx(t):Fx(t)}gc.exports=Px});var xc=l((Oq,bc)=>{var Lx=nc(),kx=Ur(),Bx=mc(),jx=Se();function $x(t){return function(e){e=jx(e);var r=kx(e)?Bx(e):void 0,n=r?r[0]:e.charAt(0),i=r?Lx(r,1).join(""):e.slice(1);return n[t]()+i}}bc.exports=$x});var yc=l((wq,vc)=>{var Rx=xc(),Ux=Rx("toUpperCase");vc.exports=Ux});var wc=l((Aq,Oc)=>{var zx=Se(),Kx=yc();function Vx(t){return Kx(zx(t).toLowerCase())}Oc.exports=Vx});var Sc=l((Sq,Ac)=>{function Hx(t,e,r,n){var i=-1,s=t==null?0:t.length;for(n&&s&&(r=t[++i]);++i<s;)r=e(r,t[i],i,t);return r}Ac.exports=Hx});var qc=l((Eq,Ec)=>{function Gx(t){return function(e){return t?.[e]}}Ec.exports=Gx});var _c=l((qq,Tc)=>{var Wx=qc(),Zx={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},Yx=Wx(Zx);Tc.exports=Yx});var Nc=l((Tq,Cc)=>{var Jx=_c(),Xx=Se(),Qx=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ev="\\u0300-\\u036f",tv="\\ufe20-\\ufe2f",rv="\\u20d0-\\u20ff",nv=ev+tv+rv,iv="["+nv+"]",sv=RegExp(iv,"g");function ov(t){return t=Xx(t),t&&t.replace(Qx,Jx).replace(sv,"")}Cc.exports=ov});var Fc=l((_q,Mc)=>{var av=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function cv(t){return t.match(av)||[]}Mc.exports=cv});var Dc=l((Cq,Ic)=>{var uv=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function lv(t){return uv.test(t)}Ic.exports=lv});var Qc=l((Nq,Xc)=>{var jc="\\ud800-\\udfff",fv="\\u0300-\\u036f",hv="\\ufe20-\\ufe2f",pv="\\u20d0-\\u20ff",dv=fv+hv+pv,$c="\\u2700-\\u27bf",Rc="a-z\\xdf-\\xf6\\xf8-\\xff",gv="\\xac\\xb1\\xd7\\xf7",mv="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",bv="\\u2000-\\u206f",xv=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Uc="A-Z\\xc0-\\xd6\\xd8-\\xde",vv="\\ufe0e\\ufe0f",zc=gv+mv+bv+xv,Kc="['\u2019]",Pc="["+zc+"]",yv="["+dv+"]",Vc="\\d+",Ov="["+$c+"]",Hc="["+Rc+"]",Gc="[^"+jc+zc+Vc+$c+Rc+Uc+"]",wv="\\ud83c[\\udffb-\\udfff]",Av="(?:"+yv+"|"+wv+")",Sv="[^"+jc+"]",Wc="(?:\\ud83c[\\udde6-\\uddff]){2}",Zc="[\\ud800-\\udbff][\\udc00-\\udfff]",$e="["+Uc+"]",Ev="\\u200d",Lc="(?:"+Hc+"|"+Gc+")",qv="(?:"+$e+"|"+Gc+")",kc="(?:"+Kc+"(?:d|ll|m|re|s|t|ve))?",Bc="(?:"+Kc+"(?:D|LL|M|RE|S|T|VE))?",Yc=Av+"?",Jc="["+vv+"]?",Tv="(?:"+Ev+"(?:"+[Sv,Wc,Zc].join("|")+")"+Jc+Yc+")*",_v="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Cv="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Nv=Jc+Yc+Tv,Mv="(?:"+[Ov,Wc,Zc].join("|")+")"+Nv,Fv=RegExp([$e+"?"+Hc+"+"+kc+"(?="+[Pc,$e,"$"].join("|")+")",qv+"+"+Bc+"(?="+[Pc,$e+Lc,"$"].join("|")+")",$e+"?"+Lc+"+"+kc,$e+"+"+Bc,Cv,_v,Vc,Mv].join("|"),"g");function Iv(t){return t.match(Fv)||[]}Xc.exports=Iv});var tu=l((Mq,eu)=>{var Dv=Fc(),Pv=Dc(),Lv=Se(),kv=Qc();function Bv(t,e,r){return t=Lv(t),e=r?void 0:e,e===void 0?Pv(t)?kv(t):Dv(t):t.match(e)||[]}eu.exports=Bv});var nu=l((Fq,ru)=>{var jv=Sc(),$v=Nc(),Rv=tu(),Uv="['\u2019]",zv=RegExp(Uv,"g");function Kv(t){return function(e){return jv(Rv($v(e).replace(zv,"")),t,"")}}ru.exports=Kv});var su=l((Iq,iu)=>{var Vv=wc(),Hv=nu(),Gv=Hv(function(t,e,r){return e=e.toLowerCase(),t+(r?Vv(e):e)});iu.exports=Gv});var lu=l((Rq,uu)=>{var Zv=9007199254740991,Yv=Math.floor;function Jv(t,e){var r="";if(!t||e<1||e>Zv)return r;do e%2&&(r+=t),e=Yv(e/2),e&&(t+=t);while(e);return r}uu.exports=Jv});var hu=l((Uq,fu)=>{var Xv=/\s/;function Qv(t){for(var e=t.length;e--&&Xv.test(t.charAt(e)););return e}fu.exports=Qv});var du=l((zq,pu)=>{var ey=hu(),ty=/^\s+/;function ry(t){return t&&t.slice(0,ey(t)+1).replace(ty,"")}pu.exports=ry});var xu=l((Kq,bu)=>{var ny=du(),gu=pe(),iy=Me(),mu=NaN,sy=/^[-+]0x[0-9a-f]+$/i,oy=/^0b[01]+$/i,ay=/^0o[0-7]+$/i,cy=parseInt;function uy(t){if(typeof t=="number")return t;if(iy(t))return mu;if(gu(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=gu(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=ny(t);var r=oy.test(t);return r||ay.test(t)?cy(t.slice(2),r?2:8):sy.test(t)?mu:+t}bu.exports=uy});var Zr=l((Vq,yu)=>{var ly=xu(),vu=1/0,fy=17976931348623157e292;function hy(t){if(!t)return t===0?t:0;if(t=ly(t),t===vu||t===-vu){var e=t<0?-1:1;return e*fy}return t===t?t:0}yu.exports=hy});var wu=l((Hq,Ou)=>{var py=Zr();function dy(t){var e=py(t),r=e%1;return e===e?r?e-r:e:0}Ou.exports=dy});var Su=l((Gq,Au)=>{var gy=lu(),my=ot(),by=wu(),xy=Se();function vy(t,e,r){return(r?my(t,e,r):e===void 0)?e=1:e=by(e),gy(xy(t),e)}Au.exports=vy});var Jr=l((lT,qu)=>{function Sy(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}qu.exports=Sy});var Nu=l((fT,Cu)=>{var Tu=Ne(),Ey=et(),qy=ie(),_u=Tu?Tu.isConcatSpreadable:void 0;function Ty(t){return qy(t)||Ey(t)||!!(_u&&t&&t[_u])}Cu.exports=Ty});var Iu=l((hT,Fu)=>{var _y=Jr(),Cy=Nu();function Mu(t,e,r,n,i){var s=-1,u=t.length;for(r||(r=Cy),i||(i=[]);++s<u;){var h=t[s];e>0&&r(h)?e>1?Mu(h,e-1,r,n,i):_y(i,h):n||(i[i.length]=h)}return i}Fu.exports=Mu});var Pu=l((pT,Du)=>{function Ny(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}Du.exports=Ny});var Xr=l((dT,Lu)=>{var My=Br(),Fy=Pu(),Iy=jr(),Dy=1,Py=2;function Ly(t,e,r,n,i,s){var u=r&Dy,h=t.length,v=e.length;if(h!=v&&!(u&&v>h))return!1;var O=s.get(t),S=s.get(e);if(O&&S)return O==e&&S==t;var E=-1,q=!0,M=r&Py?new My:void 0;for(s.set(t,e),s.set(e,t);++E<h;){var C=t[E],L=e[E];if(n)var k=u?n(L,C,E,e,t,s):n(C,L,E,t,e,s);if(k!==void 0){if(k)continue;q=!1;break}if(M){if(!Fy(e,function(z,A){if(!Iy(M,A)&&(C===z||i(C,z,r,n,s)))return M.push(A)})){q=!1;break}}else if(!(C===L||i(C,L,r,n,s))){q=!1;break}}return s.delete(t),s.delete(e),q}Lu.exports=Ly});var Bu=l((gT,ku)=>{function ky(t){var e=-1,r=Array(t.size);return t.forEach(function(n,i){r[++e]=[i,n]}),r}ku.exports=ky});var zu=l((mT,Uu)=>{var ju=Ne(),$u=_r(),By=Ie(),jy=Xr(),$y=Bu(),Ry=kt(),Uy=1,zy=2,Ky="[object Boolean]",Vy="[object Date]",Hy="[object Error]",Gy="[object Map]",Wy="[object Number]",Zy="[object RegExp]",Yy="[object Set]",Jy="[object String]",Xy="[object Symbol]",Qy="[object ArrayBuffer]",eO="[object DataView]",Ru=ju?ju.prototype:void 0,Qr=Ru?Ru.valueOf:void 0;function tO(t,e,r,n,i,s,u){switch(r){case eO:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Qy:return!(t.byteLength!=e.byteLength||!s(new $u(t),new $u(e)));case Ky:case Vy:case Wy:return By(+t,+e);case Hy:return t.name==e.name&&t.message==e.message;case Zy:case Jy:return t==e+"";case Gy:var h=$y;case Yy:var v=n&Uy;if(h||(h=Ry),t.size!=e.size&&!v)return!1;var O=u.get(t);if(O)return O==e;n|=zy,u.set(t,e);var S=jy(h(t),h(e),n,i,s,u);return u.delete(t),S;case Xy:if(Qr)return Qr.call(t)==Qr.call(e)}return!1}Uu.exports=tO});var Vu=l((bT,Ku)=>{var rO=Jr(),nO=ie();function iO(t,e,r){var n=e(t);return nO(t)?n:rO(n,r(t))}Ku.exports=iO});var Gu=l((xT,Hu)=>{function sO(t,e){for(var r=-1,n=t==null?0:t.length,i=0,s=[];++r<n;){var u=t[r];e(u,r,t)&&(s[i++]=u)}return s}Hu.exports=sO});var Zu=l((vT,Wu)=>{function oO(){return[]}Wu.exports=oO});var Xu=l((yT,Ju)=>{var aO=Gu(),cO=Zu(),uO=Object.prototype,lO=uO.propertyIsEnumerable,Yu=Object.getOwnPropertySymbols,fO=Yu?function(t){return t==null?[]:(t=Object(t),aO(Yu(t),function(e){return lO.call(t,e)}))}:cO;Ju.exports=fO});var el=l((OT,Qu)=>{var hO=Cr(),pO=hO(Object.keys,Object);Qu.exports=pO});var rl=l((wT,tl)=>{var dO=It(),gO=el(),mO=Object.prototype,bO=mO.hasOwnProperty;function xO(t){if(!dO(t))return gO(t);var e=[];for(var r in Object(t))bO.call(t,r)&&r!="constructor"&&e.push(r);return e}tl.exports=xO});var Rt=l((AT,nl)=>{var vO=Pr(),yO=rl(),OO=Ee();function wO(t){return OO(t)?vO(t):yO(t)}nl.exports=wO});var sl=l((ST,il)=>{var AO=Vu(),SO=Xu(),EO=Rt();function qO(t){return AO(t,EO,SO)}il.exports=qO});var cl=l((ET,al)=>{var ol=sl(),TO=1,_O=Object.prototype,CO=_O.hasOwnProperty;function NO(t,e,r,n,i,s){var u=r&TO,h=ol(t),v=h.length,O=ol(e),S=O.length;if(v!=S&&!u)return!1;for(var E=v;E--;){var q=h[E];if(!(u?q in e:CO.call(e,q)))return!1}var M=s.get(t),C=s.get(e);if(M&&C)return M==e&&C==t;var L=!0;s.set(t,e),s.set(e,t);for(var k=u;++E<v;){q=h[E];var z=t[q],A=e[q];if(n)var Q=u?n(A,z,q,e,t,s):n(z,A,q,t,e,s);if(!(Q===void 0?z===A||i(z,A,r,n,s):Q)){L=!1;break}k||(k=q=="constructor")}if(L&&!k){var Y=t.constructor,H=e.constructor;Y!=H&&"constructor"in t&&"constructor"in e&&!(typeof Y=="function"&&Y instanceof Y&&typeof H=="function"&&H instanceof H)&&(L=!1)}return s.delete(t),s.delete(e),L}al.exports=NO});var ll=l((qT,ul)=>{var MO=ye(),FO=ue(),IO=MO(FO,"DataView");ul.exports=IO});var hl=l((TT,fl)=>{var DO=ye(),PO=ue(),LO=DO(PO,"Promise");fl.exports=LO});var dl=l((_T,pl)=>{var kO=ye(),BO=ue(),jO=kO(BO,"WeakMap");pl.exports=jO});var wl=l((CT,Ol)=>{var en=ll(),tn=qt(),rn=hl(),nn=$r(),sn=dl(),yl=Ae(),Re=vr(),gl="[object Map]",$O="[object Object]",ml="[object Promise]",bl="[object Set]",xl="[object WeakMap]",vl="[object DataView]",RO=Re(en),UO=Re(tn),zO=Re(rn),KO=Re(nn),VO=Re(sn),_e=yl;(en&&_e(new en(new ArrayBuffer(1)))!=vl||tn&&_e(new tn)!=gl||rn&&_e(rn.resolve())!=ml||nn&&_e(new nn)!=bl||sn&&_e(new sn)!=xl)&&(_e=function(t){var e=yl(t),r=e==$O?t.constructor:void 0,n=r?Re(r):"";if(n)switch(n){case RO:return vl;case UO:return gl;case zO:return ml;case KO:return bl;case VO:return xl}return e});Ol.exports=_e});var Nl=l((NT,Cl)=>{var on=Mt(),HO=Xr(),GO=zu(),WO=cl(),Al=wl(),Sl=ie(),El=Dt(),ZO=Pt(),YO=1,ql="[object Arguments]",Tl="[object Array]",Ut="[object Object]",JO=Object.prototype,_l=JO.hasOwnProperty;function XO(t,e,r,n,i,s){var u=Sl(t),h=Sl(e),v=u?Tl:Al(t),O=h?Tl:Al(e);v=v==ql?Ut:v,O=O==ql?Ut:O;var S=v==Ut,E=O==Ut,q=v==O;if(q&&El(t)){if(!El(e))return!1;u=!0,S=!1}if(q&&!S)return s||(s=new on),u||ZO(t)?HO(t,e,r,n,i,s):GO(t,e,v,r,n,i,s);if(!(r&YO)){var M=S&&_l.call(t,"__wrapped__"),C=E&&_l.call(e,"__wrapped__");if(M||C){var L=M?t.value():t,k=C?e.value():e;return s||(s=new on),i(L,k,r,n,s)}}return q?(s||(s=new on),WO(t,e,r,n,i,s)):!1}Cl.exports=XO});var an=l((MT,Il)=>{var QO=Nl(),Ml=ve();function Fl(t,e,r,n,i){return t===e?!0:t==null||e==null||!Ml(t)&&!Ml(e)?t!==t&&e!==e:QO(t,e,r,n,Fl,i)}Il.exports=Fl});var Pl=l((FT,Dl)=>{var ew=Mt(),tw=an(),rw=1,nw=2;function iw(t,e,r,n){var i=r.length,s=i,u=!n;if(t==null)return!s;for(t=Object(t);i--;){var h=r[i];if(u&&h[2]?h[1]!==t[h[0]]:!(h[0]in t))return!1}for(;++i<s;){h=r[i];var v=h[0],O=t[v],S=h[1];if(u&&h[2]){if(O===void 0&&!(v in t))return!1}else{var E=new ew;if(n)var q=n(O,S,v,t,e,E);if(!(q===void 0?tw(S,O,rw|nw,n,E):q))return!1}}return!0}Dl.exports=iw});var cn=l((IT,Ll)=>{var sw=pe();function ow(t){return t===t&&!sw(t)}Ll.exports=ow});var Bl=l((DT,kl)=>{var aw=cn(),cw=Rt();function uw(t){for(var e=cw(t),r=e.length;r--;){var n=e[r],i=t[n];e[r]=[n,i,aw(i)]}return e}kl.exports=uw});var un=l((PT,jl)=>{function lw(t,e){return function(r){return r==null?!1:r[t]===e&&(e!==void 0||t in Object(r))}}jl.exports=lw});var Rl=l((LT,$l)=>{var fw=Pl(),hw=Bl(),pw=un();function dw(t){var e=hw(t);return e.length==1&&e[0][2]?pw(e[0][0],e[0][1]):function(r){return r===t||fw(r,t,e)}}$l.exports=dw});var zl=l((kT,Ul)=>{function gw(t,e){return t!=null&&e in Object(t)}Ul.exports=gw});var Vl=l((BT,Kl)=>{var mw=zl(),bw=Sr();function xw(t,e){return t!=null&&bw(t,e,mw)}Kl.exports=xw});var Gl=l((jT,Hl)=>{var vw=an(),yw=Ar(),Ow=Vl(),ww=St(),Aw=cn(),Sw=un(),Ew=Qe(),qw=1,Tw=2;function _w(t,e){return ww(t)&&Aw(e)?Sw(Ew(t),e):function(r){var n=yw(r,t);return n===void 0&&n===e?Ow(r,t):vw(e,n,qw|Tw)}}Hl.exports=_w});var Zl=l(($T,Wl)=>{function Cw(t){return function(e){return e?.[t]}}Wl.exports=Cw});var Jl=l((RT,Yl)=>{var Nw=_t();function Mw(t){return function(e){return Nw(e,t)}}Yl.exports=Mw});var Ql=l((UT,Xl)=>{var Fw=Zl(),Iw=Jl(),Dw=St(),Pw=Qe();function Lw(t){return Dw(t)?Fw(Pw(t)):Iw(t)}Xl.exports=Lw});var tf=l((zT,ef)=>{var kw=Rl(),Bw=Gl(),jw=st(),$w=ie(),Rw=Ql();function Uw(t){return typeof t=="function"?t:t==null?jw:typeof t=="object"?$w(t)?Bw(t[0],t[1]):kw(t):Rw(t)}ef.exports=Uw});var nf=l((KT,rf)=>{var zw=Tr(),Kw=Rt();function Vw(t,e){return t&&zw(t,e,Kw)}rf.exports=Vw});var of=l((VT,sf)=>{var Hw=Ee();function Gw(t,e){return function(r,n){if(r==null)return r;if(!Hw(r))return t(r,n);for(var i=r.length,s=e?i:-1,u=Object(r);(e?s--:++s<i)&&n(u[s],s,u)!==!1;);return r}}sf.exports=Gw});var cf=l((HT,af)=>{var Ww=nf(),Zw=of(),Yw=Zw(Ww);af.exports=Yw});var lf=l((GT,uf)=>{var Jw=cf(),Xw=Ee();function Qw(t,e){var r=-1,n=Xw(t)?Array(t.length):[];return Jw(t,function(i,s,u){n[++r]=e(i,s,u)}),n}uf.exports=Qw});var hf=l((WT,ff)=>{function eA(t,e){var r=t.length;for(t.sort(e);r--;)t[r]=t[r].value;return t}ff.exports=eA});var gf=l((ZT,df)=>{var pf=Me();function tA(t,e){if(t!==e){var r=t!==void 0,n=t===null,i=t===t,s=pf(t),u=e!==void 0,h=e===null,v=e===e,O=pf(e);if(!h&&!O&&!s&&t>e||s&&u&&v&&!h&&!O||n&&u&&v||!r&&v||!i)return 1;if(!n&&!s&&!O&&t<e||O&&r&&i&&!n&&!s||h&&r&&i||!u&&i||!v)return-1}return 0}df.exports=tA});var bf=l((YT,mf)=>{var rA=gf();function nA(t,e,r){for(var n=-1,i=t.criteria,s=e.criteria,u=i.length,h=r.length;++n<u;){var v=rA(i[n],s[n]);if(v){if(n>=h)return v;var O=r[n];return v*(O=="desc"?-1:1)}}return t.index-e.index}mf.exports=nA});var vf=l((JT,xf)=>{var ln=Or(),iA=_t(),sA=tf(),oA=lf(),aA=hf(),cA=Mr(),uA=bf(),lA=st(),fA=ie();function hA(t,e,r){e.length?e=ln(e,function(s){return fA(s)?function(u){return iA(u,s.length===1?s[0]:s)}:s}):e=[lA];var n=-1;e=ln(e,cA(sA));var i=oA(t,function(s,u,h){var v=ln(e,function(O){return O(s)});return{criteria:v,index:++n,value:s}});return aA(i,function(s,u){return uA(s,u,r)})}xf.exports=hA});var wf=l((XT,Of)=>{var pA=Iu(),dA=vf(),gA=kr(),yf=ot(),mA=gA(function(t,e){if(t==null)return[];var r=e.length;return r>1&&yf(t,e[0],e[1])?e=[]:r>2&&yf(e[0],e[1],e[2])&&(e=[e[0]]),dA(t,pA(e,1),[])});Of.exports=mA});var Sf=l((QT,Af)=>{function bA(t,e,r){for(var n=-1,i=t.length,s=e.length,u={};++n<i;){var h=n<s?e[n]:void 0;r(u,t[n],h)}return u}Af.exports=bA});var qf=l((e_,Ef)=>{var xA=Dr(),vA=Sf();function yA(t,e){return vA(t||[],e||[],xA)}Ef.exports=yA});var Mf=l((m_,Nf)=>{var AA=Math.ceil,SA=Math.max;function EA(t,e,r,n){for(var i=-1,s=SA(AA((e-t)/(r||1)),0),u=Array(s);s--;)u[n?s:++i]=t,t+=r;return u}Nf.exports=EA});var If=l((b_,Ff)=>{var qA=Mf(),TA=ot(),gn=Zr();function _A(t){return function(e,r,n){return n&&typeof n!="number"&&TA(e,r,n)&&(r=n=void 0),e=gn(e),r===void 0?(r=e,e=0):r=gn(r),n=n===void 0?e<r?1:-1:gn(n),qA(e,r,n,t)}}Ff.exports=_A});var Pf=l((x_,Df)=>{var CA=If(),NA=CA();Df.exports=NA});var Gt=class{constructor(e,r,n){this.eventTarget=e,this.eventName=r,this.eventOptions=n,this.unorderedBindings=new Set}connect(){this.eventTarget.addEventListener(this.eventName,this,this.eventOptions)}disconnect(){this.eventTarget.removeEventListener(this.eventName,this,this.eventOptions)}bindingConnected(e){this.unorderedBindings.add(e)}bindingDisconnected(e){this.unorderedBindings.delete(e)}handleEvent(e){let r=Zf(e);for(let n of this.bindings){if(r.immediatePropagationStopped)break;n.handleEvent(r)}}hasBindings(){return this.unorderedBindings.size>0}get bindings(){return Array.from(this.unorderedBindings).sort((e,r)=>{let n=e.index,i=r.index;return n<i?-1:n>i?1:0})}};function Zf(t){if("immediatePropagationStopped"in t)return t;{let{stopImmediatePropagation:e}=t;return Object.assign(t,{immediatePropagationStopped:!1,stopImmediatePropagation(){this.immediatePropagationStopped=!0,e.call(this)}})}}var Wt=class{constructor(e){this.application=e,this.eventListenerMaps=new Map,this.started=!1}start(){this.started||(this.started=!0,this.eventListeners.forEach(e=>e.connect()))}stop(){this.started&&(this.started=!1,this.eventListeners.forEach(e=>e.disconnect()))}get eventListeners(){return Array.from(this.eventListenerMaps.values()).reduce((e,r)=>e.concat(Array.from(r.values())),[])}bindingConnected(e){this.fetchEventListenerForBinding(e).bindingConnected(e)}bindingDisconnected(e,r=!1){this.fetchEventListenerForBinding(e).bindingDisconnected(e),r&&this.clearEventListenersForBinding(e)}handleError(e,r,n={}){this.application.handleError(e,`Error ${r}`,n)}clearEventListenersForBinding(e){let r=this.fetchEventListenerForBinding(e);r.hasBindings()||(r.disconnect(),this.removeMappedEventListenerFor(e))}removeMappedEventListenerFor(e){let{eventTarget:r,eventName:n,eventOptions:i}=e,s=this.fetchEventListenerMapForEventTarget(r),u=this.cacheKey(n,i);s.delete(u),s.size==0&&this.eventListenerMaps.delete(r)}fetchEventListenerForBinding(e){let{eventTarget:r,eventName:n,eventOptions:i}=e;return this.fetchEventListener(r,n,i)}fetchEventListener(e,r,n){let i=this.fetchEventListenerMapForEventTarget(e),s=this.cacheKey(r,n),u=i.get(s);return u||(u=this.createEventListener(e,r,n),i.set(s,u)),u}createEventListener(e,r,n){let i=new Gt(e,r,n);return this.started&&i.connect(),i}fetchEventListenerMapForEventTarget(e){let r=this.eventListenerMaps.get(e);return r||(r=new Map,this.eventListenerMaps.set(e,r)),r}cacheKey(e,r){let n=[e];return Object.keys(r).sort().forEach(i=>{n.push(`${r[i]?"":"!"}${i}`)}),n.join(":")}},Yf={stop({event:t,value:e}){return e&&t.stopPropagation(),!0},prevent({event:t,value:e}){return e&&t.preventDefault(),!0},self({event:t,value:e,element:r}){return e?r===t.target:!0}},Jf=/^(?:(?:([^.]+?)\+)?(.+?)(?:\.(.+?))?(?:@(window|document))?->)?(.+?)(?:#([^:]+?))(?::(.+))?$/;function Xf(t){let r=t.trim().match(Jf)||[],n=r[2],i=r[3];return i&&!["keydown","keyup","keypress"].includes(n)&&(n+=`.${i}`,i=""),{eventTarget:Qf(r[4]),eventName:n,eventOptions:r[7]?eh(r[7]):{},identifier:r[5],methodName:r[6],keyFilter:r[1]||i}}function Qf(t){if(t=="window")return window;if(t=="document")return document}function eh(t){return t.split(":").reduce((e,r)=>Object.assign(e,{[r.replace(/^!/,"")]:!/^!/.test(r)}),{})}function th(t){if(t==window)return"window";if(t==document)return"document"}function mr(t){return t.replace(/(?:[_-])([a-z0-9])/g,(e,r)=>r.toUpperCase())}function Zt(t){return mr(t.replace(/--/g,"-").replace(/__/g,"_"))}function Ve(t){return t.charAt(0).toUpperCase()+t.slice(1)}function _n(t){return t.replace(/([A-Z])/g,(e,r)=>`-${r.toLowerCase()}`)}function rh(t){return t.match(/[^\s]+/g)||[]}function vn(t){return t!=null}function Yt(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var yn=["meta","ctrl","alt","shift"],Jt=class{constructor(e,r,n,i){this.element=e,this.index=r,this.eventTarget=n.eventTarget||e,this.eventName=n.eventName||nh(e)||mt("missing event name"),this.eventOptions=n.eventOptions||{},this.identifier=n.identifier||mt("missing identifier"),this.methodName=n.methodName||mt("missing method name"),this.keyFilter=n.keyFilter||"",this.schema=i}static forToken(e,r){return new this(e.element,e.index,Xf(e.content),r)}toString(){let e=this.keyFilter?`.${this.keyFilter}`:"",r=this.eventTargetName?`@${this.eventTargetName}`:"";return`${this.eventName}${e}${r}->${this.identifier}#${this.methodName}`}shouldIgnoreKeyboardEvent(e){if(!this.keyFilter)return!1;let r=this.keyFilter.split("+");if(this.keyFilterDissatisfied(e,r))return!0;let n=r.filter(i=>!yn.includes(i))[0];return n?(Yt(this.keyMappings,n)||mt(`contains unknown key filter: ${this.keyFilter}`),this.keyMappings[n].toLowerCase()!==e.key.toLowerCase()):!1}shouldIgnoreMouseEvent(e){if(!this.keyFilter)return!1;let r=[this.keyFilter];return!!this.keyFilterDissatisfied(e,r)}get params(){let e={},r=new RegExp(`^data-${this.identifier}-(.+)-param$`,"i");for(let{name:n,value:i}of Array.from(this.element.attributes)){let s=n.match(r),u=s&&s[1];u&&(e[mr(u)]=ih(i))}return e}get eventTargetName(){return th(this.eventTarget)}get keyMappings(){return this.schema.keyMappings}keyFilterDissatisfied(e,r){let[n,i,s,u]=yn.map(h=>r.includes(h));return e.metaKey!==n||e.ctrlKey!==i||e.altKey!==s||e.shiftKey!==u}},On={a:()=>"click",button:()=>"click",form:()=>"submit",details:()=>"toggle",input:t=>t.getAttribute("type")=="submit"?"click":"input",select:()=>"change",textarea:()=>"input"};function nh(t){let e=t.tagName.toLowerCase();if(e in On)return On[e](t)}function mt(t){throw new Error(t)}function ih(t){try{return JSON.parse(t)}catch{return t}}var Xt=class{constructor(e,r){this.context=e,this.action=r}get index(){return this.action.index}get eventTarget(){return this.action.eventTarget}get eventOptions(){return this.action.eventOptions}get identifier(){return this.context.identifier}handleEvent(e){let r=this.prepareActionEvent(e);this.willBeInvokedByEvent(e)&&this.applyEventModifiers(r)&&this.invokeWithEvent(r)}get eventName(){return this.action.eventName}get method(){let e=this.controller[this.methodName];if(typeof e=="function")return e;throw new Error(`Action "${this.action}" references undefined method "${this.methodName}"`)}applyEventModifiers(e){let{element:r}=this.action,{actionDescriptorFilters:n}=this.context.application,{controller:i}=this.context,s=!0;for(let[u,h]of Object.entries(this.eventOptions))if(u in n){let v=n[u];s=s&&v({name:u,value:h,event:e,element:r,controller:i})}else continue;return s}prepareActionEvent(e){return Object.assign(e,{params:this.action.params})}invokeWithEvent(e){let{target:r,currentTarget:n}=e;try{this.method.call(this.controller,e),this.context.logDebugActivity(this.methodName,{event:e,target:r,currentTarget:n,action:this.methodName})}catch(i){let{identifier:s,controller:u,element:h,index:v}=this,O={identifier:s,controller:u,element:h,index:v,event:e};this.context.handleError(i,`invoking action "${this.action}"`,O)}}willBeInvokedByEvent(e){let r=e.target;return e instanceof KeyboardEvent&&this.action.shouldIgnoreKeyboardEvent(e)||e instanceof MouseEvent&&this.action.shouldIgnoreMouseEvent(e)?!1:this.element===r?!0:r instanceof Element&&this.element.contains(r)?this.scope.containsElement(r):this.scope.containsElement(this.action.element)}get controller(){return this.context.controller}get methodName(){return this.action.methodName}get element(){return this.scope.element}get scope(){return this.context.scope}},bt=class{constructor(e,r){this.mutationObserverInit={attributes:!0,childList:!0,subtree:!0},this.element=e,this.started=!1,this.delegate=r,this.elements=new Set,this.mutationObserver=new MutationObserver(n=>this.processMutations(n))}start(){this.started||(this.started=!0,this.mutationObserver.observe(this.element,this.mutationObserverInit),this.refresh())}pause(e){this.started&&(this.mutationObserver.disconnect(),this.started=!1),e(),this.started||(this.mutationObserver.observe(this.element,this.mutationObserverInit),this.started=!0)}stop(){this.started&&(this.mutationObserver.takeRecords(),this.mutationObserver.disconnect(),this.started=!1)}refresh(){if(this.started){let e=new Set(this.matchElementsInTree());for(let r of Array.from(this.elements))e.has(r)||this.removeElement(r);for(let r of Array.from(e))this.addElement(r)}}processMutations(e){if(this.started)for(let r of e)this.processMutation(r)}processMutation(e){e.type=="attributes"?this.processAttributeChange(e.target,e.attributeName):e.type=="childList"&&(this.processRemovedNodes(e.removedNodes),this.processAddedNodes(e.addedNodes))}processAttributeChange(e,r){this.elements.has(e)?this.delegate.elementAttributeChanged&&this.matchElement(e)?this.delegate.elementAttributeChanged(e,r):this.removeElement(e):this.matchElement(e)&&this.addElement(e)}processRemovedNodes(e){for(let r of Array.from(e)){let n=this.elementFromNode(r);n&&this.processTree(n,this.removeElement)}}processAddedNodes(e){for(let r of Array.from(e)){let n=this.elementFromNode(r);n&&this.elementIsActive(n)&&this.processTree(n,this.addElement)}}matchElement(e){return this.delegate.matchElement(e)}matchElementsInTree(e=this.element){return this.delegate.matchElementsInTree(e)}processTree(e,r){for(let n of this.matchElementsInTree(e))r.call(this,n)}elementFromNode(e){if(e.nodeType==Node.ELEMENT_NODE)return e}elementIsActive(e){return e.isConnected!=this.element.isConnected?!1:this.element.contains(e)}addElement(e){this.elements.has(e)||this.elementIsActive(e)&&(this.elements.add(e),this.delegate.elementMatched&&this.delegate.elementMatched(e))}removeElement(e){this.elements.has(e)&&(this.elements.delete(e),this.delegate.elementUnmatched&&this.delegate.elementUnmatched(e))}},xt=class{constructor(e,r,n){this.attributeName=r,this.delegate=n,this.elementObserver=new bt(e,this)}get element(){return this.elementObserver.element}get selector(){return`[${this.attributeName}]`}start(){this.elementObserver.start()}pause(e){this.elementObserver.pause(e)}stop(){this.elementObserver.stop()}refresh(){this.elementObserver.refresh()}get started(){return this.elementObserver.started}matchElement(e){return e.hasAttribute(this.attributeName)}matchElementsInTree(e){let r=this.matchElement(e)?[e]:[],n=Array.from(e.querySelectorAll(this.selector));return r.concat(n)}elementMatched(e){this.delegate.elementMatchedAttribute&&this.delegate.elementMatchedAttribute(e,this.attributeName)}elementUnmatched(e){this.delegate.elementUnmatchedAttribute&&this.delegate.elementUnmatchedAttribute(e,this.attributeName)}elementAttributeChanged(e,r){this.delegate.elementAttributeValueChanged&&this.attributeName==r&&this.delegate.elementAttributeValueChanged(e,r)}};function sh(t,e,r){Cn(t,e).add(r)}function oh(t,e,r){Cn(t,e).delete(r),ah(t,e)}function Cn(t,e){let r=t.get(e);return r||(r=new Set,t.set(e,r)),r}function ah(t,e){let r=t.get(e);r!=null&&r.size==0&&t.delete(e)}var ge=class{constructor(){this.valuesByKey=new Map}get keys(){return Array.from(this.valuesByKey.keys())}get values(){return Array.from(this.valuesByKey.values()).reduce((r,n)=>r.concat(Array.from(n)),[])}get size(){return Array.from(this.valuesByKey.values()).reduce((r,n)=>r+n.size,0)}add(e,r){sh(this.valuesByKey,e,r)}delete(e,r){oh(this.valuesByKey,e,r)}has(e,r){let n=this.valuesByKey.get(e);return n!=null&&n.has(r)}hasKey(e){return this.valuesByKey.has(e)}hasValue(e){return Array.from(this.valuesByKey.values()).some(n=>n.has(e))}getValuesForKey(e){let r=this.valuesByKey.get(e);return r?Array.from(r):[]}getKeysForValue(e){return Array.from(this.valuesByKey).filter(([r,n])=>n.has(e)).map(([r,n])=>r)}};var Qt=class{constructor(e,r,n,i){this._selector=r,this.details=i,this.elementObserver=new bt(e,this),this.delegate=n,this.matchesByElement=new ge}get started(){return this.elementObserver.started}get selector(){return this._selector}set selector(e){this._selector=e,this.refresh()}start(){this.elementObserver.start()}pause(e){this.elementObserver.pause(e)}stop(){this.elementObserver.stop()}refresh(){this.elementObserver.refresh()}get element(){return this.elementObserver.element}matchElement(e){let{selector:r}=this;if(r){let n=e.matches(r);return this.delegate.selectorMatchElement?n&&this.delegate.selectorMatchElement(e,this.details):n}else return!1}matchElementsInTree(e){let{selector:r}=this;if(r){let n=this.matchElement(e)?[e]:[],i=Array.from(e.querySelectorAll(r)).filter(s=>this.matchElement(s));return n.concat(i)}else return[]}elementMatched(e){let{selector:r}=this;r&&this.selectorMatched(e,r)}elementUnmatched(e){let r=this.matchesByElement.getKeysForValue(e);for(let n of r)this.selectorUnmatched(e,n)}elementAttributeChanged(e,r){let{selector:n}=this;if(n){let i=this.matchElement(e),s=this.matchesByElement.has(n,e);i&&!s?this.selectorMatched(e,n):!i&&s&&this.selectorUnmatched(e,n)}}selectorMatched(e,r){this.delegate.selectorMatched(e,r,this.details),this.matchesByElement.add(r,e)}selectorUnmatched(e,r){this.delegate.selectorUnmatched(e,r,this.details),this.matchesByElement.delete(r,e)}},er=class{constructor(e,r){this.element=e,this.delegate=r,this.started=!1,this.stringMap=new Map,this.mutationObserver=new MutationObserver(n=>this.processMutations(n))}start(){this.started||(this.started=!0,this.mutationObserver.observe(this.element,{attributes:!0,attributeOldValue:!0}),this.refresh())}stop(){this.started&&(this.mutationObserver.takeRecords(),this.mutationObserver.disconnect(),this.started=!1)}refresh(){if(this.started)for(let e of this.knownAttributeNames)this.refreshAttribute(e,null)}processMutations(e){if(this.started)for(let r of e)this.processMutation(r)}processMutation(e){let r=e.attributeName;r&&this.refreshAttribute(r,e.oldValue)}refreshAttribute(e,r){let n=this.delegate.getStringMapKeyForAttribute(e);if(n!=null){this.stringMap.has(e)||this.stringMapKeyAdded(n,e);let i=this.element.getAttribute(e);if(this.stringMap.get(e)!=i&&this.stringMapValueChanged(i,n,r),i==null){let s=this.stringMap.get(e);this.stringMap.delete(e),s&&this.stringMapKeyRemoved(n,e,s)}else this.stringMap.set(e,i)}}stringMapKeyAdded(e,r){this.delegate.stringMapKeyAdded&&this.delegate.stringMapKeyAdded(e,r)}stringMapValueChanged(e,r,n){this.delegate.stringMapValueChanged&&this.delegate.stringMapValueChanged(e,r,n)}stringMapKeyRemoved(e,r,n){this.delegate.stringMapKeyRemoved&&this.delegate.stringMapKeyRemoved(e,r,n)}get knownAttributeNames(){return Array.from(new Set(this.currentAttributeNames.concat(this.recordedAttributeNames)))}get currentAttributeNames(){return Array.from(this.element.attributes).map(e=>e.name)}get recordedAttributeNames(){return Array.from(this.stringMap.keys())}},vt=class{constructor(e,r,n){this.attributeObserver=new xt(e,r,this),this.delegate=n,this.tokensByElement=new ge}get started(){return this.attributeObserver.started}start(){this.attributeObserver.start()}pause(e){this.attributeObserver.pause(e)}stop(){this.attributeObserver.stop()}refresh(){this.attributeObserver.refresh()}get element(){return this.attributeObserver.element}get attributeName(){return this.attributeObserver.attributeName}elementMatchedAttribute(e){this.tokensMatched(this.readTokensForElement(e))}elementAttributeValueChanged(e){let[r,n]=this.refreshTokensForElement(e);this.tokensUnmatched(r),this.tokensMatched(n)}elementUnmatchedAttribute(e){this.tokensUnmatched(this.tokensByElement.getValuesForKey(e))}tokensMatched(e){e.forEach(r=>this.tokenMatched(r))}tokensUnmatched(e){e.forEach(r=>this.tokenUnmatched(r))}tokenMatched(e){this.delegate.tokenMatched(e),this.tokensByElement.add(e.element,e)}tokenUnmatched(e){this.delegate.tokenUnmatched(e),this.tokensByElement.delete(e.element,e)}refreshTokensForElement(e){let r=this.tokensByElement.getValuesForKey(e),n=this.readTokensForElement(e),i=uh(r,n).findIndex(([s,u])=>!lh(s,u));return i==-1?[[],[]]:[r.slice(i),n.slice(i)]}readTokensForElement(e){let r=this.attributeName,n=e.getAttribute(r)||"";return ch(n,e,r)}};function ch(t,e,r){return t.trim().split(/\s+/).filter(n=>n.length).map((n,i)=>({element:e,attributeName:r,content:n,index:i}))}function uh(t,e){let r=Math.max(t.length,e.length);return Array.from({length:r},(n,i)=>[t[i],e[i]])}function lh(t,e){return t&&e&&t.index==e.index&&t.content==e.content}var yt=class{constructor(e,r,n){this.tokenListObserver=new vt(e,r,this),this.delegate=n,this.parseResultsByToken=new WeakMap,this.valuesByTokenByElement=new WeakMap}get started(){return this.tokenListObserver.started}start(){this.tokenListObserver.start()}stop(){this.tokenListObserver.stop()}refresh(){this.tokenListObserver.refresh()}get element(){return this.tokenListObserver.element}get attributeName(){return this.tokenListObserver.attributeName}tokenMatched(e){let{element:r}=e,{value:n}=this.fetchParseResultForToken(e);n&&(this.fetchValuesByTokenForElement(r).set(e,n),this.delegate.elementMatchedValue(r,n))}tokenUnmatched(e){let{element:r}=e,{value:n}=this.fetchParseResultForToken(e);n&&(this.fetchValuesByTokenForElement(r).delete(e),this.delegate.elementUnmatchedValue(r,n))}fetchParseResultForToken(e){let r=this.parseResultsByToken.get(e);return r||(r=this.parseToken(e),this.parseResultsByToken.set(e,r)),r}fetchValuesByTokenForElement(e){let r=this.valuesByTokenByElement.get(e);return r||(r=new Map,this.valuesByTokenByElement.set(e,r)),r}parseToken(e){try{return{value:this.delegate.parseValueForToken(e)}}catch(r){return{error:r}}}},tr=class{constructor(e,r){this.context=e,this.delegate=r,this.bindingsByAction=new Map}start(){this.valueListObserver||(this.valueListObserver=new yt(this.element,this.actionAttribute,this),this.valueListObserver.start())}stop(){this.valueListObserver&&(this.valueListObserver.stop(),delete this.valueListObserver,this.disconnectAllActions())}get element(){return this.context.element}get identifier(){return this.context.identifier}get actionAttribute(){return this.schema.actionAttribute}get schema(){return this.context.schema}get bindings(){return Array.from(this.bindingsByAction.values())}connectAction(e){let r=new Xt(this.context,e);this.bindingsByAction.set(e,r),this.delegate.bindingConnected(r)}disconnectAction(e){let r=this.bindingsByAction.get(e);r&&(this.bindingsByAction.delete(e),this.delegate.bindingDisconnected(r))}disconnectAllActions(){this.bindings.forEach(e=>this.delegate.bindingDisconnected(e,!0)),this.bindingsByAction.clear()}parseValueForToken(e){let r=Jt.forToken(e,this.schema);if(r.identifier==this.identifier)return r}elementMatchedValue(e,r){this.connectAction(r)}elementUnmatchedValue(e,r){this.disconnectAction(r)}},rr=class{constructor(e,r){this.context=e,this.receiver=r,this.stringMapObserver=new er(this.element,this),this.valueDescriptorMap=this.controller.valueDescriptorMap}start(){this.stringMapObserver.start(),this.invokeChangedCallbacksForDefaultValues()}stop(){this.stringMapObserver.stop()}get element(){return this.context.element}get controller(){return this.context.controller}getStringMapKeyForAttribute(e){if(e in this.valueDescriptorMap)return this.valueDescriptorMap[e].name}stringMapKeyAdded(e,r){let n=this.valueDescriptorMap[r];this.hasValue(e)||this.invokeChangedCallback(e,n.writer(this.receiver[e]),n.writer(n.defaultValue))}stringMapValueChanged(e,r,n){let i=this.valueDescriptorNameMap[r];e!==null&&(n===null&&(n=i.writer(i.defaultValue)),this.invokeChangedCallback(r,e,n))}stringMapKeyRemoved(e,r,n){let i=this.valueDescriptorNameMap[e];this.hasValue(e)?this.invokeChangedCallback(e,i.writer(this.receiver[e]),n):this.invokeChangedCallback(e,i.writer(i.defaultValue),n)}invokeChangedCallbacksForDefaultValues(){for(let{key:e,name:r,defaultValue:n,writer:i}of this.valueDescriptors)n!=null&&!this.controller.data.has(e)&&this.invokeChangedCallback(r,i(n),void 0)}invokeChangedCallback(e,r,n){let i=`${e}Changed`,s=this.receiver[i];if(typeof s=="function"){let u=this.valueDescriptorNameMap[e];try{let h=u.reader(r),v=n;n&&(v=u.reader(n)),s.call(this.receiver,h,v)}catch(h){throw h instanceof TypeError&&(h.message=`Stimulus Value "${this.context.identifier}.${u.name}" - ${h.message}`),h}}}get valueDescriptors(){let{valueDescriptorMap:e}=this;return Object.keys(e).map(r=>e[r])}get valueDescriptorNameMap(){let e={};return Object.keys(this.valueDescriptorMap).forEach(r=>{let n=this.valueDescriptorMap[r];e[n.name]=n}),e}hasValue(e){let r=this.valueDescriptorNameMap[e],n=`has${Ve(r.name)}`;return this.receiver[n]}},nr=class{constructor(e,r){this.context=e,this.delegate=r,this.targetsByName=new ge}start(){this.tokenListObserver||(this.tokenListObserver=new vt(this.element,this.attributeName,this),this.tokenListObserver.start())}stop(){this.tokenListObserver&&(this.disconnectAllTargets(),this.tokenListObserver.stop(),delete this.tokenListObserver)}tokenMatched({element:e,content:r}){this.scope.containsElement(e)&&this.connectTarget(e,r)}tokenUnmatched({element:e,content:r}){this.disconnectTarget(e,r)}connectTarget(e,r){var n;this.targetsByName.has(r,e)||(this.targetsByName.add(r,e),(n=this.tokenListObserver)===null||n===void 0||n.pause(()=>this.delegate.targetConnected(e,r)))}disconnectTarget(e,r){var n;this.targetsByName.has(r,e)&&(this.targetsByName.delete(r,e),(n=this.tokenListObserver)===null||n===void 0||n.pause(()=>this.delegate.targetDisconnected(e,r)))}disconnectAllTargets(){for(let e of this.targetsByName.keys)for(let r of this.targetsByName.getValuesForKey(e))this.disconnectTarget(r,e)}get attributeName(){return`data-${this.context.identifier}-target`}get element(){return this.context.element}get scope(){return this.context.scope}};function He(t,e){let r=Nn(t);return Array.from(r.reduce((n,i)=>(hh(i,e).forEach(s=>n.add(s)),n),new Set))}function fh(t,e){return Nn(t).reduce((n,i)=>(n.push(...ph(i,e)),n),[])}function Nn(t){let e=[];for(;t;)e.push(t),t=Object.getPrototypeOf(t);return e.reverse()}function hh(t,e){let r=t[e];return Array.isArray(r)?r:[]}function ph(t,e){let r=t[e];return r?Object.keys(r).map(n=>[n,r[n]]):[]}var ir=class{constructor(e,r){this.started=!1,this.context=e,this.delegate=r,this.outletsByName=new ge,this.outletElementsByName=new ge,this.selectorObserverMap=new Map,this.attributeObserverMap=new Map}start(){this.started||(this.outletDefinitions.forEach(e=>{this.setupSelectorObserverForOutlet(e),this.setupAttributeObserverForOutlet(e)}),this.started=!0,this.dependentContexts.forEach(e=>e.refresh()))}refresh(){this.selectorObserverMap.forEach(e=>e.refresh()),this.attributeObserverMap.forEach(e=>e.refresh())}stop(){this.started&&(this.started=!1,this.disconnectAllOutlets(),this.stopSelectorObservers(),this.stopAttributeObservers())}stopSelectorObservers(){this.selectorObserverMap.size>0&&(this.selectorObserverMap.forEach(e=>e.stop()),this.selectorObserverMap.clear())}stopAttributeObservers(){this.attributeObserverMap.size>0&&(this.attributeObserverMap.forEach(e=>e.stop()),this.attributeObserverMap.clear())}selectorMatched(e,r,{outletName:n}){let i=this.getOutlet(e,n);i&&this.connectOutlet(i,e,n)}selectorUnmatched(e,r,{outletName:n}){let i=this.getOutletFromMap(e,n);i&&this.disconnectOutlet(i,e,n)}selectorMatchElement(e,{outletName:r}){let n=this.selector(r),i=this.hasOutlet(e,r),s=e.matches(`[${this.schema.controllerAttribute}~=${r}]`);return n?i&&s&&e.matches(n):!1}elementMatchedAttribute(e,r){let n=this.getOutletNameFromOutletAttributeName(r);n&&this.updateSelectorObserverForOutlet(n)}elementAttributeValueChanged(e,r){let n=this.getOutletNameFromOutletAttributeName(r);n&&this.updateSelectorObserverForOutlet(n)}elementUnmatchedAttribute(e,r){let n=this.getOutletNameFromOutletAttributeName(r);n&&this.updateSelectorObserverForOutlet(n)}connectOutlet(e,r,n){var i;this.outletElementsByName.has(n,r)||(this.outletsByName.add(n,e),this.outletElementsByName.add(n,r),(i=this.selectorObserverMap.get(n))===null||i===void 0||i.pause(()=>this.delegate.outletConnected(e,r,n)))}disconnectOutlet(e,r,n){var i;this.outletElementsByName.has(n,r)&&(this.outletsByName.delete(n,e),this.outletElementsByName.delete(n,r),(i=this.selectorObserverMap.get(n))===null||i===void 0||i.pause(()=>this.delegate.outletDisconnected(e,r,n)))}disconnectAllOutlets(){for(let e of this.outletElementsByName.keys)for(let r of this.outletElementsByName.getValuesForKey(e))for(let n of this.outletsByName.getValuesForKey(e))this.disconnectOutlet(n,r,e)}updateSelectorObserverForOutlet(e){let r=this.selectorObserverMap.get(e);r&&(r.selector=this.selector(e))}setupSelectorObserverForOutlet(e){let r=this.selector(e),n=new Qt(document.body,r,this,{outletName:e});this.selectorObserverMap.set(e,n),n.start()}setupAttributeObserverForOutlet(e){let r=this.attributeNameForOutletName(e),n=new xt(this.scope.element,r,this);this.attributeObserverMap.set(e,n),n.start()}selector(e){return this.scope.outlets.getSelectorForOutletName(e)}attributeNameForOutletName(e){return this.scope.schema.outletAttributeForScope(this.identifier,e)}getOutletNameFromOutletAttributeName(e){return this.outletDefinitions.find(r=>this.attributeNameForOutletName(r)===e)}get outletDependencies(){let e=new ge;return this.router.modules.forEach(r=>{let n=r.definition.controllerConstructor;He(n,"outlets").forEach(s=>e.add(s,r.identifier))}),e}get outletDefinitions(){return this.outletDependencies.getKeysForValue(this.identifier)}get dependentControllerIdentifiers(){return this.outletDependencies.getValuesForKey(this.identifier)}get dependentContexts(){let e=this.dependentControllerIdentifiers;return this.router.contexts.filter(r=>e.includes(r.identifier))}hasOutlet(e,r){return!!this.getOutlet(e,r)||!!this.getOutletFromMap(e,r)}getOutlet(e,r){return this.application.getControllerForElementAndIdentifier(e,r)}getOutletFromMap(e,r){return this.outletsByName.getValuesForKey(r).find(n=>n.element===e)}get scope(){return this.context.scope}get schema(){return this.context.schema}get identifier(){return this.context.identifier}get application(){return this.context.application}get router(){return this.application.router}},sr=class{constructor(e,r){this.logDebugActivity=(n,i={})=>{let{identifier:s,controller:u,element:h}=this;i=Object.assign({identifier:s,controller:u,element:h},i),this.application.logDebugActivity(this.identifier,n,i)},this.module=e,this.scope=r,this.controller=new e.controllerConstructor(this),this.bindingObserver=new tr(this,this.dispatcher),this.valueObserver=new rr(this,this.controller),this.targetObserver=new nr(this,this),this.outletObserver=new ir(this,this);try{this.controller.initialize(),this.logDebugActivity("initialize")}catch(n){this.handleError(n,"initializing controller")}}connect(){this.bindingObserver.start(),this.valueObserver.start(),this.targetObserver.start(),this.outletObserver.start();try{this.controller.connect(),this.logDebugActivity("connect")}catch(e){this.handleError(e,"connecting controller")}}refresh(){this.outletObserver.refresh()}disconnect(){try{this.controller.disconnect(),this.logDebugActivity("disconnect")}catch(e){this.handleError(e,"disconnecting controller")}this.outletObserver.stop(),this.targetObserver.stop(),this.valueObserver.stop(),this.bindingObserver.stop()}get application(){return this.module.application}get identifier(){return this.module.identifier}get schema(){return this.application.schema}get dispatcher(){return this.application.dispatcher}get element(){return this.scope.element}get parentElement(){return this.element.parentElement}handleError(e,r,n={}){let{identifier:i,controller:s,element:u}=this;n=Object.assign({identifier:i,controller:s,element:u},n),this.application.handleError(e,`Error ${r}`,n)}targetConnected(e,r){this.invokeControllerMethod(`${r}TargetConnected`,e)}targetDisconnected(e,r){this.invokeControllerMethod(`${r}TargetDisconnected`,e)}outletConnected(e,r,n){this.invokeControllerMethod(`${Zt(n)}OutletConnected`,e,r)}outletDisconnected(e,r,n){this.invokeControllerMethod(`${Zt(n)}OutletDisconnected`,e,r)}invokeControllerMethod(e,...r){let n=this.controller;typeof n[e]=="function"&&n[e](...r)}};function dh(t){return gh(t,mh(t))}function gh(t,e){let r=yh(t),n=bh(t.prototype,e);return Object.defineProperties(r.prototype,n),r}function mh(t){return He(t,"blessings").reduce((r,n)=>{let i=n(t);for(let s in i){let u=r[s]||{};r[s]=Object.assign(u,i[s])}return r},{})}function bh(t,e){return vh(e).reduce((r,n)=>{let i=xh(t,e,n);return i&&Object.assign(r,{[n]:i}),r},{})}function xh(t,e,r){let n=Object.getOwnPropertyDescriptor(t,r);if(!(n&&"value"in n)){let s=Object.getOwnPropertyDescriptor(e,r).value;return n&&(s.get=n.get||s.get,s.set=n.set||s.set),s}}var vh=typeof Object.getOwnPropertySymbols=="function"?t=>[...Object.getOwnPropertyNames(t),...Object.getOwnPropertySymbols(t)]:Object.getOwnPropertyNames,yh=(()=>{function t(r){function n(){return Reflect.construct(r,arguments,new.target)}return n.prototype=Object.create(r.prototype,{constructor:{value:n}}),Reflect.setPrototypeOf(n,r),n}function e(){let n=t(function(){this.a.call(this)});return n.prototype.a=function(){},new n}try{return e(),t}catch{return n=>class extends n{}}})();function Oh(t){return{identifier:t.identifier,controllerConstructor:dh(t.controllerConstructor)}}var or=class{constructor(e,r){this.application=e,this.definition=Oh(r),this.contextsByScope=new WeakMap,this.connectedContexts=new Set}get identifier(){return this.definition.identifier}get controllerConstructor(){return this.definition.controllerConstructor}get contexts(){return Array.from(this.connectedContexts)}connectContextForScope(e){let r=this.fetchContextForScope(e);this.connectedContexts.add(r),r.connect()}disconnectContextForScope(e){let r=this.contextsByScope.get(e);r&&(this.connectedContexts.delete(r),r.disconnect())}fetchContextForScope(e){let r=this.contextsByScope.get(e);return r||(r=new sr(this,e),this.contextsByScope.set(e,r)),r}},ar=class{constructor(e){this.scope=e}has(e){return this.data.has(this.getDataKey(e))}get(e){return this.getAll(e)[0]}getAll(e){let r=this.data.get(this.getDataKey(e))||"";return rh(r)}getAttributeName(e){return this.data.getAttributeNameForKey(this.getDataKey(e))}getDataKey(e){return`${e}-class`}get data(){return this.scope.data}},cr=class{constructor(e){this.scope=e}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get(e){let r=this.getAttributeNameForKey(e);return this.element.getAttribute(r)}set(e,r){let n=this.getAttributeNameForKey(e);return this.element.setAttribute(n,r),this.get(e)}has(e){let r=this.getAttributeNameForKey(e);return this.element.hasAttribute(r)}delete(e){if(this.has(e)){let r=this.getAttributeNameForKey(e);return this.element.removeAttribute(r),!0}else return!1}getAttributeNameForKey(e){return`data-${this.identifier}-${_n(e)}`}},ur=class{constructor(e){this.warnedKeysByObject=new WeakMap,this.logger=e}warn(e,r,n){let i=this.warnedKeysByObject.get(e);i||(i=new Set,this.warnedKeysByObject.set(e,i)),i.has(r)||(i.add(r),this.logger.warn(n,e))}};function lr(t,e){return`[${t}~="${e}"]`}var fr=class{constructor(e){this.scope=e}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get schema(){return this.scope.schema}has(e){return this.find(e)!=null}find(...e){return e.reduce((r,n)=>r||this.findTarget(n)||this.findLegacyTarget(n),void 0)}findAll(...e){return e.reduce((r,n)=>[...r,...this.findAllTargets(n),...this.findAllLegacyTargets(n)],[])}findTarget(e){let r=this.getSelectorForTargetName(e);return this.scope.findElement(r)}findAllTargets(e){let r=this.getSelectorForTargetName(e);return this.scope.findAllElements(r)}getSelectorForTargetName(e){let r=this.schema.targetAttributeForScope(this.identifier);return lr(r,e)}findLegacyTarget(e){let r=this.getLegacySelectorForTargetName(e);return this.deprecate(this.scope.findElement(r),e)}findAllLegacyTargets(e){let r=this.getLegacySelectorForTargetName(e);return this.scope.findAllElements(r).map(n=>this.deprecate(n,e))}getLegacySelectorForTargetName(e){let r=`${this.identifier}.${e}`;return lr(this.schema.targetAttribute,r)}deprecate(e,r){if(e){let{identifier:n}=this,i=this.schema.targetAttribute,s=this.schema.targetAttributeForScope(n);this.guide.warn(e,`target:${r}`,`Please replace ${i}="${n}.${r}" with ${s}="${r}". The ${i} attribute is deprecated and will be removed in a future version of Stimulus.`)}return e}get guide(){return this.scope.guide}},hr=class{constructor(e,r){this.scope=e,this.controllerElement=r}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get schema(){return this.scope.schema}has(e){return this.find(e)!=null}find(...e){return e.reduce((r,n)=>r||this.findOutlet(n),void 0)}findAll(...e){return e.reduce((r,n)=>[...r,...this.findAllOutlets(n)],[])}getSelectorForOutletName(e){let r=this.schema.outletAttributeForScope(this.identifier,e);return this.controllerElement.getAttribute(r)}findOutlet(e){let r=this.getSelectorForOutletName(e);if(r)return this.findElement(r,e)}findAllOutlets(e){let r=this.getSelectorForOutletName(e);return r?this.findAllElements(r,e):[]}findElement(e,r){return this.scope.queryElements(e).filter(i=>this.matchesElement(i,e,r))[0]}findAllElements(e,r){return this.scope.queryElements(e).filter(i=>this.matchesElement(i,e,r))}matchesElement(e,r,n){let i=e.getAttribute(this.scope.schema.controllerAttribute)||"";return e.matches(r)&&i.split(" ").includes(n)}},pr=class t{constructor(e,r,n,i){this.targets=new fr(this),this.classes=new ar(this),this.data=new cr(this),this.containsElement=s=>s.closest(this.controllerSelector)===this.element,this.schema=e,this.element=r,this.identifier=n,this.guide=new ur(i),this.outlets=new hr(this.documentScope,r)}findElement(e){return this.element.matches(e)?this.element:this.queryElements(e).find(this.containsElement)}findAllElements(e){return[...this.element.matches(e)?[this.element]:[],...this.queryElements(e).filter(this.containsElement)]}queryElements(e){return Array.from(this.element.querySelectorAll(e))}get controllerSelector(){return lr(this.schema.controllerAttribute,this.identifier)}get isDocumentScope(){return this.element===document.documentElement}get documentScope(){return this.isDocumentScope?this:new t(this.schema,document.documentElement,this.identifier,this.guide.logger)}},dr=class{constructor(e,r,n){this.element=e,this.schema=r,this.delegate=n,this.valueListObserver=new yt(this.element,this.controllerAttribute,this),this.scopesByIdentifierByElement=new WeakMap,this.scopeReferenceCounts=new WeakMap}start(){this.valueListObserver.start()}stop(){this.valueListObserver.stop()}get controllerAttribute(){return this.schema.controllerAttribute}parseValueForToken(e){let{element:r,content:n}=e;return this.parseValueForElementAndIdentifier(r,n)}parseValueForElementAndIdentifier(e,r){let n=this.fetchScopesByIdentifierForElement(e),i=n.get(r);return i||(i=this.delegate.createScopeForElementAndIdentifier(e,r),n.set(r,i)),i}elementMatchedValue(e,r){let n=(this.scopeReferenceCounts.get(r)||0)+1;this.scopeReferenceCounts.set(r,n),n==1&&this.delegate.scopeConnected(r)}elementUnmatchedValue(e,r){let n=this.scopeReferenceCounts.get(r);n&&(this.scopeReferenceCounts.set(r,n-1),n==1&&this.delegate.scopeDisconnected(r))}fetchScopesByIdentifierForElement(e){let r=this.scopesByIdentifierByElement.get(e);return r||(r=new Map,this.scopesByIdentifierByElement.set(e,r)),r}},gr=class{constructor(e){this.application=e,this.scopeObserver=new dr(this.element,this.schema,this),this.scopesByIdentifier=new ge,this.modulesByIdentifier=new Map}get element(){return this.application.element}get schema(){return this.application.schema}get logger(){return this.application.logger}get controllerAttribute(){return this.schema.controllerAttribute}get modules(){return Array.from(this.modulesByIdentifier.values())}get contexts(){return this.modules.reduce((e,r)=>e.concat(r.contexts),[])}start(){this.scopeObserver.start()}stop(){this.scopeObserver.stop()}loadDefinition(e){this.unloadIdentifier(e.identifier);let r=new or(this.application,e);this.connectModule(r);let n=e.controllerConstructor.afterLoad;n&&n.call(e.controllerConstructor,e.identifier,this.application)}unloadIdentifier(e){let r=this.modulesByIdentifier.get(e);r&&this.disconnectModule(r)}getContextForElementAndIdentifier(e,r){let n=this.modulesByIdentifier.get(r);if(n)return n.contexts.find(i=>i.element==e)}proposeToConnectScopeForElementAndIdentifier(e,r){let n=this.scopeObserver.parseValueForElementAndIdentifier(e,r);n?this.scopeObserver.elementMatchedValue(n.element,n):console.error(`Couldn't find or create scope for identifier: "${r}" and element:`,e)}handleError(e,r,n){this.application.handleError(e,r,n)}createScopeForElementAndIdentifier(e,r){return new pr(this.schema,e,r,this.logger)}scopeConnected(e){this.scopesByIdentifier.add(e.identifier,e);let r=this.modulesByIdentifier.get(e.identifier);r&&r.connectContextForScope(e)}scopeDisconnected(e){this.scopesByIdentifier.delete(e.identifier,e);let r=this.modulesByIdentifier.get(e.identifier);r&&r.disconnectContextForScope(e)}connectModule(e){this.modulesByIdentifier.set(e.identifier,e),this.scopesByIdentifier.getValuesForKey(e.identifier).forEach(n=>e.connectContextForScope(n))}disconnectModule(e){this.modulesByIdentifier.delete(e.identifier),this.scopesByIdentifier.getValuesForKey(e.identifier).forEach(n=>e.disconnectContextForScope(n))}},wh={controllerAttribute:"data-controller",actionAttribute:"data-action",targetAttribute:"data-target",targetAttributeForScope:t=>`data-${t}-target`,outletAttributeForScope:(t,e)=>`data-${t}-${e}-outlet`,keyMappings:Object.assign(Object.assign({enter:"Enter",tab:"Tab",esc:"Escape",space:" ",up:"ArrowUp",down:"ArrowDown",left:"ArrowLeft",right:"ArrowRight",home:"Home",end:"End",page_up:"PageUp",page_down:"PageDown"},wn("abcdefghijklmnopqrstuvwxyz".split("").map(t=>[t,t]))),wn("0123456789".split("").map(t=>[t,t])))};function wn(t){return t.reduce((e,[r,n])=>Object.assign(Object.assign({},e),{[r]:n}),{})}var Ot=class{constructor(e=document.documentElement,r=wh){this.logger=console,this.debug=!1,this.logDebugActivity=(n,i,s={})=>{this.debug&&this.logFormattedMessage(n,i,s)},this.element=e,this.schema=r,this.dispatcher=new Wt(this),this.router=new gr(this),this.actionDescriptorFilters=Object.assign({},Yf)}static start(e,r){let n=new this(e,r);return n.start(),n}async start(){await Ah(),this.logDebugActivity("application","starting"),this.dispatcher.start(),this.router.start(),this.logDebugActivity("application","start")}stop(){this.logDebugActivity("application","stopping"),this.dispatcher.stop(),this.router.stop(),this.logDebugActivity("application","stop")}register(e,r){this.load({identifier:e,controllerConstructor:r})}registerActionOption(e,r){this.actionDescriptorFilters[e]=r}load(e,...r){(Array.isArray(e)?e:[e,...r]).forEach(i=>{i.controllerConstructor.shouldLoad&&this.router.loadDefinition(i)})}unload(e,...r){(Array.isArray(e)?e:[e,...r]).forEach(i=>this.router.unloadIdentifier(i))}get controllers(){return this.router.contexts.map(e=>e.controller)}getControllerForElementAndIdentifier(e,r){let n=this.router.getContextForElementAndIdentifier(e,r);return n?n.controller:null}handleError(e,r,n){var i;this.logger.error(`%s

%o

%o`,r,e,n),(i=window.onerror)===null||i===void 0||i.call(window,r,"",0,0,e)}logFormattedMessage(e,r,n={}){n=Object.assign({application:this},n),this.logger.groupCollapsed(`${e} #${r}`),this.logger.log("details:",Object.assign({},n)),this.logger.groupEnd()}};function Ah(){return new Promise(t=>{document.readyState=="loading"?document.addEventListener("DOMContentLoaded",()=>t()):t()})}function Sh(t){return He(t,"classes").reduce((r,n)=>Object.assign(r,Eh(n)),{})}function Eh(t){return{[`${t}Class`]:{get(){let{classes:e}=this;if(e.has(t))return e.get(t);{let r=e.getAttributeName(t);throw new Error(`Missing attribute "${r}"`)}}},[`${t}Classes`]:{get(){return this.classes.getAll(t)}},[`has${Ve(t)}Class`]:{get(){return this.classes.has(t)}}}}function qh(t){return He(t,"outlets").reduce((r,n)=>Object.assign(r,Th(n)),{})}function An(t,e,r){return t.application.getControllerForElementAndIdentifier(e,r)}function Sn(t,e,r){let n=An(t,e,r);if(n||(t.application.router.proposeToConnectScopeForElementAndIdentifier(e,r),n=An(t,e,r),n))return n}function Th(t){let e=Zt(t);return{[`${e}Outlet`]:{get(){let r=this.outlets.find(t),n=this.outlets.getSelectorForOutletName(t);if(r){let i=Sn(this,r,t);if(i)return i;throw new Error(`The provided outlet element is missing an outlet controller "${t}" instance for host controller "${this.identifier}"`)}throw new Error(`Missing outlet element "${t}" for host controller "${this.identifier}". Stimulus couldn't find a matching outlet element using selector "${n}".`)}},[`${e}Outlets`]:{get(){let r=this.outlets.findAll(t);return r.length>0?r.map(n=>{let i=Sn(this,n,t);if(i)return i;console.warn(`The provided outlet element is missing an outlet controller "${t}" instance for host controller "${this.identifier}"`,n)}).filter(n=>n):[]}},[`${e}OutletElement`]:{get(){let r=this.outlets.find(t),n=this.outlets.getSelectorForOutletName(t);if(r)return r;throw new Error(`Missing outlet element "${t}" for host controller "${this.identifier}". Stimulus couldn't find a matching outlet element using selector "${n}".`)}},[`${e}OutletElements`]:{get(){return this.outlets.findAll(t)}},[`has${Ve(e)}Outlet`]:{get(){return this.outlets.has(t)}}}}function _h(t){return He(t,"targets").reduce((r,n)=>Object.assign(r,Ch(n)),{})}function Ch(t){return{[`${t}Target`]:{get(){let e=this.targets.find(t);if(e)return e;throw new Error(`Missing target element "${t}" for "${this.identifier}" controller`)}},[`${t}Targets`]:{get(){return this.targets.findAll(t)}},[`has${Ve(t)}Target`]:{get(){return this.targets.has(t)}}}}function Nh(t){let e=fh(t,"values"),r={valueDescriptorMap:{get(){return e.reduce((n,i)=>{let s=Mn(i,this.identifier),u=this.data.getAttributeNameForKey(s.key);return Object.assign(n,{[u]:s})},{})}}};return e.reduce((n,i)=>Object.assign(n,Mh(i)),r)}function Mh(t,e){let r=Mn(t,e),{key:n,name:i,reader:s,writer:u}=r;return{[i]:{get(){let h=this.data.get(n);return h!==null?s(h):r.defaultValue},set(h){h===void 0?this.data.delete(n):this.data.set(n,u(h))}},[`has${Ve(i)}`]:{get(){return this.data.has(n)||r.hasCustomDefaultValue}}}}function Mn([t,e],r){return Ph({controller:r,token:t,typeDefinition:e})}function wt(t){switch(t){case Array:return"array";case Boolean:return"boolean";case Number:return"number";case Object:return"object";case String:return"string"}}function Ke(t){switch(typeof t){case"boolean":return"boolean";case"number":return"number";case"string":return"string"}if(Array.isArray(t))return"array";if(Object.prototype.toString.call(t)==="[object Object]")return"object"}function Fh(t){let{controller:e,token:r,typeObject:n}=t,i=vn(n.type),s=vn(n.default),u=i&&s,h=i&&!s,v=!i&&s,O=wt(n.type),S=Ke(t.typeObject.default);if(h)return O;if(v)return S;if(O!==S){let E=e?`${e}.${r}`:r;throw new Error(`The specified default value for the Stimulus Value "${E}" must match the defined type "${O}". The provided default value of "${n.default}" is of type "${S}".`)}if(u)return O}function Ih(t){let{controller:e,token:r,typeDefinition:n}=t,s=Fh({controller:e,token:r,typeObject:n}),u=Ke(n),h=wt(n),v=s||u||h;if(v)return v;let O=e?`${e}.${n}`:r;throw new Error(`Unknown value type "${O}" for "${r}" value`)}function Dh(t){let e=wt(t);if(e)return En[e];let r=Yt(t,"default"),n=Yt(t,"type"),i=t;if(r)return i.default;if(n){let{type:s}=i,u=wt(s);if(u)return En[u]}return t}function Ph(t){let{token:e,typeDefinition:r}=t,n=`${_n(e)}-value`,i=Ih(t);return{type:i,key:n,name:mr(n),get defaultValue(){return Dh(r)},get hasCustomDefaultValue(){return Ke(r)!==void 0},reader:Lh[i],writer:qn[i]||qn.default}}var En={get array(){return[]},boolean:!1,number:0,get object(){return{}},string:""},Lh={array(t){let e=JSON.parse(t);if(!Array.isArray(e))throw new TypeError(`expected value of type "array" but instead got value "${t}" of type "${Ke(e)}"`);return e},boolean(t){return!(t=="0"||String(t).toLowerCase()=="false")},number(t){return Number(t.replace(/_/g,""))},object(t){let e=JSON.parse(t);if(e===null||typeof e!="object"||Array.isArray(e))throw new TypeError(`expected value of type "object" but instead got value "${t}" of type "${Ke(e)}"`);return e},string(t){return t}},qn={default:kh,array:Tn,object:Tn};function Tn(t){return JSON.stringify(t)}function kh(t){return`${t}`}var be=class{constructor(e){this.context=e}static get shouldLoad(){return!0}static afterLoad(e,r){}get application(){return this.context.application}get scope(){return this.context.scope}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get targets(){return this.scope.targets}get outlets(){return this.scope.outlets}get classes(){return this.scope.classes}get data(){return this.scope.data}initialize(){}connect(){}disconnect(){}dispatch(e,{target:r=this.element,detail:n={},prefix:i=this.identifier,bubbles:s=!0,cancelable:u=!0}={}){let h=i?`${i}:${e}`:e,v=new CustomEvent(h,{detail:n,bubbles:s,cancelable:u});return r.dispatchEvent(v),v}};be.blessings=[Sh,_h,Nh,qh];be.targets=[];be.outlets=[];be.values={};var xe=class extends be{};var Bh={expires:30,suffix:!0};function Fn(t){return t.replace(/(?:[_-])([a-z0-9])/g,(e,r)=>r.toUpperCase())}var At=(t,e={})=>{let{expires:r,suffix:n}=Object.assign({},Bh,e),i=h=>n?`${Fn(h)}Cookie`:Fn(h),s=h=>{let v=i(h);Object.defineProperty(t,v,{get(){let S=document.cookie.split(";").map(E=>E.trim()).find(E=>E.startsWith(h+"="));return S?S.split("=")[1]:void 0},set(O){if(O===null)return Rh(h);let S=typeof O=="string"?O:O.value,E=jh(h+"="+S);$h(E,r)}})};t.constructor.cookieNames?.forEach(h=>{s(h)})};function jh(t){let[e,r]=t.split("=");return{name:e,value:r}}function $h(t,e){let{name:r,value:n,expires:i=e}=t,s=new Date(new Date().getTime()+i*24*60*60*1e3).toUTCString();document.cookie=`${r}=${n};expires=${s};`}function Rh(t){document.cookie=`${t}=; expires=Thu, 01 Jan 1970 00:00:00 UTC;`}var Ce={enabled:"true",disabled:"false"},Uh={[Ce.enabled]:"#1c1618",[Ce.disabled]:"#f5f5f5"},Ge=class extends xe{static targets=["body","toggle"];static classes=["darkMode","darkModeEnabled"];static cookieNames=["darkMode"];connect(){At(this),this._toggleDarkMode()}toggle(){this.darkModeCookie=this.darkModeCookie===Ce.enabled?Ce.disabled:Ce.enabled,this._toggleDarkMode()}_toggleDarkMode(){let t=this.darkModeCookie===Ce.enabled;this.bodyTarget.classList.toggle(this.darkModeClass,t),this.toggleTarget.classList.toggle(this.darkModeEnabledClass,t);let e=document.querySelector("meta[name=theme-color]");e.content=Uh[this.darkModeCookie]}};var kf=de(Ar()),Bf=de(Ts()),jf=de(wa());var Ja=de(Ya()),ix=(t,e)=>{let r=[],n=[];return r.push(e),e||r.push(t.locale),t.enableFallback&&r.push(t.defaultLocale),r.filter(Boolean).map(i=>i.toString()).forEach(function(i){if(n.includes(i)||n.push(i),!t.enableFallback)return;let s=i.split("-");s.length===3&&n.push(`${s[0]}-${s[1]}`),n.push(s[0])}),(0,Ja.default)(n)},at=class{constructor(e){this.i18n=e,this.registry={},this.register("default",ix)}register(e,r){if(typeof r!="function"){let n=r;r=()=>n}this.registry[e]=r}get(e){let r=this.registry[e]||this.registry[this.i18n.locale]||this.registry.default;return typeof r=="function"&&(r=r(this.i18n,e)),r instanceof Array||(r=[r]),r}};var Xa=(t,e)=>{let r=String(t).split("."),n=!r[1],i=Number(r[0])==t,s=i&&r[0].slice(-1),u=i&&r[0].slice(-2);return e?s==1&&u!=11?"one":s==2&&u!=12?"two":s==3&&u!=13?"few":"other":t==1&&n?"one":"other"};function Qa({pluralizer:t,includeZero:e=!0,ordinal:r=!1}){return function(n,i){return[e&&i===0?"zero":"",t(i,r)].filter(Boolean)}}var sx=Qa({pluralizer:Xa,includeZero:!0}),ct=class{constructor(e){this.i18n=e,this.registry={},this.register("default",sx)}register(e,r){this.registry[e]=r}get(e){return this.registry[e]||this.registry[this.i18n.locale]||this.registry.default}};var ou=de(su());function te(t){return t?Object.keys(t).reduce((e,r)=>(e[(0,ou.default)(r)]=t[r],e),{}):{}}function Z(t){return t!=null}function Vr(t,e,r){let n=[{scope:e}];if(Z(r.defaults)&&(n=n.concat(r.defaults)),Z(r.defaultValue)){let i=typeof r.defaultValue=="function"?r.defaultValue(t,e,r):r.defaultValue;n.push({message:i}),delete r.defaultValue}return n}var Wv=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,Hr=Math.ceil,oe=Math.floor,J="[BigNumber Error] ",au=J+"Number primitive has more than 15 significant digits: ",le=1e14,N=14,Gr=9007199254740991,Wr=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],Oe=1e7,K=1e9;function cu(t){var e,r,n,i=A.prototype={constructor:A,toString:null,valueOf:null},s=new A(1),u=20,h=4,v=-7,O=21,S=-1e7,E=1e7,q=!1,M=1,C=0,L={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"\xA0",suffix:""},k="0123456789abcdefghijklmnopqrstuvwxyz",z=!0;function A(o,a){var c,b,p,g,y,f,d,x,m=this;if(!(m instanceof A))return new A(o,a);if(a==null){if(o&&o._isBigNumber===!0){m.s=o.s,!o.c||o.e>E?m.c=m.e=null:o.e<S?m.c=[m.e=0]:(m.e=o.e,m.c=o.c.slice());return}if((f=typeof o=="number")&&o*0==0){if(m.s=1/o<0?(o=-o,-1):1,o===~~o){for(g=0,y=o;y>=10;y/=10,g++);g>E?m.c=m.e=null:(m.e=g,m.c=[o]);return}x=String(o)}else{if(!Wv.test(x=String(o)))return n(m,x,f);m.s=x.charCodeAt(0)==45?(x=x.slice(1),-1):1}(g=x.indexOf("."))>-1&&(x=x.replace(".","")),(y=x.search(/e/i))>0?(g<0&&(g=y),g+=+x.slice(y+1),x=x.substring(0,y)):g<0&&(g=x.length)}else{if(j(a,2,k.length,"Base"),a==10&&z)return m=new A(o),G(m,u+m.e+1,h);if(x=String(o),f=typeof o=="number"){if(o*0!=0)return n(m,x,f,a);if(m.s=1/o<0?(x=x.slice(1),-1):1,A.DEBUG&&x.replace(/^0\.0*|\./,"").length>15)throw Error(au+o)}else m.s=x.charCodeAt(0)===45?(x=x.slice(1),-1):1;for(c=k.slice(0,a),g=y=0,d=x.length;y<d;y++)if(c.indexOf(b=x.charAt(y))<0){if(b=="."){if(y>g){g=d;continue}}else if(!p&&(x==x.toUpperCase()&&(x=x.toLowerCase())||x==x.toLowerCase()&&(x=x.toUpperCase()))){p=!0,y=-1,g=0;continue}return n(m,String(o),f,a)}f=!1,x=r(x,a,10,m.s),(g=x.indexOf("."))>-1?x=x.replace(".",""):g=x.length}for(y=0;x.charCodeAt(y)===48;y++);for(d=x.length;x.charCodeAt(--d)===48;);if(x=x.slice(y,++d)){if(d-=y,f&&A.DEBUG&&d>15&&(o>Gr||o!==oe(o)))throw Error(au+m.s*o);if((g=g-y-1)>E)m.c=m.e=null;else if(g<S)m.c=[m.e=0];else{if(m.e=g,m.c=[],y=(g+1)%N,g<0&&(y+=N),y<d){for(y&&m.c.push(+x.slice(0,y)),d-=N;y<d;)m.c.push(+x.slice(y,y+=N));y=N-(x=x.slice(y)).length}else y-=d;for(;y--;x+="0");m.c.push(+x)}}else m.c=[m.e=0]}A.clone=cu,A.ROUND_UP=0,A.ROUND_DOWN=1,A.ROUND_CEIL=2,A.ROUND_FLOOR=3,A.ROUND_HALF_UP=4,A.ROUND_HALF_DOWN=5,A.ROUND_HALF_EVEN=6,A.ROUND_HALF_CEIL=7,A.ROUND_HALF_FLOOR=8,A.EUCLID=9,A.config=A.set=function(o){var a,c;if(o!=null)if(typeof o=="object"){if(o.hasOwnProperty(a="DECIMAL_PLACES")&&(c=o[a],j(c,0,K,a),u=c),o.hasOwnProperty(a="ROUNDING_MODE")&&(c=o[a],j(c,0,8,a),h=c),o.hasOwnProperty(a="EXPONENTIAL_AT")&&(c=o[a],c&&c.pop?(j(c[0],-K,0,a),j(c[1],0,K,a),v=c[0],O=c[1]):(j(c,-K,K,a),v=-(O=c<0?-c:c))),o.hasOwnProperty(a="RANGE"))if(c=o[a],c&&c.pop)j(c[0],-K,-1,a),j(c[1],1,K,a),S=c[0],E=c[1];else if(j(c,-K,K,a),c)S=-(E=c<0?-c:c);else throw Error(J+a+" cannot be zero: "+c);if(o.hasOwnProperty(a="CRYPTO"))if(c=o[a],c===!!c)if(c)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))q=c;else throw q=!c,Error(J+"crypto unavailable");else q=c;else throw Error(J+a+" not true or false: "+c);if(o.hasOwnProperty(a="MODULO_MODE")&&(c=o[a],j(c,0,9,a),M=c),o.hasOwnProperty(a="POW_PRECISION")&&(c=o[a],j(c,0,K,a),C=c),o.hasOwnProperty(a="FORMAT"))if(c=o[a],typeof c=="object")L=c;else throw Error(J+a+" not an object: "+c);if(o.hasOwnProperty(a="ALPHABET"))if(c=o[a],typeof c=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(c))z=c.slice(0,10)=="0123456789",k=c;else throw Error(J+a+" invalid: "+c)}else throw Error(J+"Object expected: "+o);return{DECIMAL_PLACES:u,ROUNDING_MODE:h,EXPONENTIAL_AT:[v,O],RANGE:[S,E],CRYPTO:q,MODULO_MODE:M,POW_PRECISION:C,FORMAT:L,ALPHABET:k}},A.isBigNumber=function(o){if(!o||o._isBigNumber!==!0)return!1;if(!A.DEBUG)return!0;var a,c,b=o.c,p=o.e,g=o.s;e:if({}.toString.call(b)=="[object Array]"){if((g===1||g===-1)&&p>=-K&&p<=K&&p===oe(p)){if(b[0]===0){if(p===0&&b.length===1)return!0;break e}if(a=(p+1)%N,a<1&&(a+=N),String(b[0]).length==a){for(a=0;a<b.length;a++)if(c=b[a],c<0||c>=le||c!==oe(c))break e;if(c!==0)return!0}}}else if(b===null&&p===null&&(g===null||g===1||g===-1))return!0;throw Error(J+"Invalid BigNumber: "+o)},A.maximum=A.max=function(){return Y(arguments,-1)},A.minimum=A.min=function(){return Y(arguments,1)},A.random=function(){var o=9007199254740992,a=Math.random()*o&2097151?function(){return oe(Math.random()*o)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(c){var b,p,g,y,f,d=0,x=[],m=new A(s);if(c==null?c=u:j(c,0,K),y=Hr(c/N),q)if(crypto.getRandomValues){for(b=crypto.getRandomValues(new Uint32Array(y*=2));d<y;)f=b[d]*131072+(b[d+1]>>>11),f>=9e15?(p=crypto.getRandomValues(new Uint32Array(2)),b[d]=p[0],b[d+1]=p[1]):(x.push(f%1e14),d+=2);d=y/2}else if(crypto.randomBytes){for(b=crypto.randomBytes(y*=7);d<y;)f=(b[d]&31)*281474976710656+b[d+1]*1099511627776+b[d+2]*4294967296+b[d+3]*16777216+(b[d+4]<<16)+(b[d+5]<<8)+b[d+6],f>=9e15?crypto.randomBytes(7).copy(b,d):(x.push(f%1e14),d+=7);d=y/7}else throw q=!1,Error(J+"crypto unavailable");if(!q)for(;d<y;)f=a(),f<9e15&&(x[d++]=f%1e14);for(y=x[--d],c%=N,y&&c&&(f=Wr[N-c],x[d]=oe(y/f)*f);x[d]===0;x.pop(),d--);if(d<0)x=[g=0];else{for(g=-1;x[0]===0;x.splice(0,1),g-=N);for(d=1,f=x[0];f>=10;f/=10,d++);d<N&&(g-=N-d)}return m.e=g,m.c=x,m}}(),A.sum=function(){for(var o=1,a=arguments,c=new A(a[0]);o<a.length;)c=c.plus(a[o++]);return c},r=function(){var o="0123456789";function a(c,b,p,g){for(var y,f=[0],d,x=0,m=c.length;x<m;){for(d=f.length;d--;f[d]*=b);for(f[0]+=g.indexOf(c.charAt(x++)),y=0;y<f.length;y++)f[y]>p-1&&(f[y+1]==null&&(f[y+1]=0),f[y+1]+=f[y]/p|0,f[y]%=p)}return f.reverse()}return function(c,b,p,g,y){var f,d,x,m,w,T,_,I,$=c.indexOf("."),U=u,F=h;for($>=0&&(m=C,C=0,c=c.replace(".",""),I=new A(b),T=I.pow(c.length-$),C=m,I.c=a(me(se(T.c),T.e,"0"),10,p,o),I.e=I.c.length),_=a(c,b,p,y?(f=k,o):(f=o,k)),x=m=_.length;_[--m]==0;_.pop());if(!_[0])return f.charAt(0);if($<0?--x:(T.c=_,T.e=x,T.s=g,T=e(T,I,U,F,p),_=T.c,w=T.r,x=T.e),d=x+U+1,$=_[d],m=p/2,w=w||d<0||_[d+1]!=null,w=F<4?($!=null||w)&&(F==0||F==(T.s<0?3:2)):$>m||$==m&&(F==4||w||F==6&&_[d-1]&1||F==(T.s<0?8:7)),d<1||!_[0])c=w?me(f.charAt(1),-U,f.charAt(0)):f.charAt(0);else{if(_.length=d,w)for(--p;++_[--d]>p;)_[d]=0,d||(++x,_=[1].concat(_));for(m=_.length;!_[--m];);for($=0,c="";$<=m;c+=f.charAt(_[$++]));c=me(c,x,f.charAt(0))}return c}}(),e=function(){function o(b,p,g){var y,f,d,x,m=0,w=b.length,T=p%Oe,_=p/Oe|0;for(b=b.slice();w--;)d=b[w]%Oe,x=b[w]/Oe|0,y=_*d+x*T,f=T*d+y%Oe*Oe+m,m=(f/g|0)+(y/Oe|0)+_*x,b[w]=f%g;return m&&(b=[m].concat(b)),b}function a(b,p,g,y){var f,d;if(g!=y)d=g>y?1:-1;else for(f=d=0;f<g;f++)if(b[f]!=p[f]){d=b[f]>p[f]?1:-1;break}return d}function c(b,p,g,y){for(var f=0;g--;)b[g]-=f,f=b[g]<p[g]?1:0,b[g]=f*y+b[g]-p[g];for(;!b[0]&&b.length>1;b.splice(0,1));}return function(b,p,g,y,f){var d,x,m,w,T,_,I,$,U,F,D,V,gt,Vt,Ht,he,ze,ne=b.s==p.s?1:-1,W=b.c,R=p.c;if(!W||!W[0]||!R||!R[0])return new A(!b.s||!p.s||(W?R&&W[0]==R[0]:!R)?NaN:W&&W[0]==0||!R?ne*0:ne/0);for($=new A(ne),U=$.c=[],x=b.e-p.e,ne=g+x+1,f||(f=le,x=ae(b.e/N)-ae(p.e/N),ne=ne/N|0),m=0;R[m]==(W[m]||0);m++);if(R[m]>(W[m]||0)&&x--,ne<0)U.push(1),w=!0;else{for(Vt=W.length,he=R.length,m=0,ne+=2,T=oe(f/(R[0]+1)),T>1&&(R=o(R,T,f),W=o(W,T,f),he=R.length,Vt=W.length),gt=he,F=W.slice(0,he),D=F.length;D<he;F[D++]=0);ze=R.slice(),ze=[0].concat(ze),Ht=R[0],R[1]>=f/2&&Ht++;do{if(T=0,d=a(R,F,he,D),d<0){if(V=F[0],he!=D&&(V=V*f+(F[1]||0)),T=oe(V/Ht),T>1)for(T>=f&&(T=f-1),_=o(R,T,f),I=_.length,D=F.length;a(_,F,I,D)==1;)T--,c(_,he<I?ze:R,I,f),I=_.length,d=1;else T==0&&(d=T=1),_=R.slice(),I=_.length;if(I<D&&(_=[0].concat(_)),c(F,_,D,f),D=F.length,d==-1)for(;a(R,F,he,D)<1;)T++,c(F,he<D?ze:R,D,f),D=F.length}else d===0&&(T++,F=[0]);U[m++]=T,F[0]?F[D++]=W[gt]||0:(F=[W[gt]],D=1)}while((gt++<Vt||F[0]!=null)&&ne--);w=F[0]!=null,U[0]||U.splice(0,1)}if(f==le){for(m=1,ne=U[0];ne>=10;ne/=10,m++);G($,g+($.e=m+x*N-1)+1,y,w)}else $.e=x,$.r=+w;return $}}();function Q(o,a,c,b){var p,g,y,f,d;if(c==null?c=h:j(c,0,8),!o.c)return o.toString();if(p=o.c[0],y=o.e,a==null)d=se(o.c),d=b==1||b==2&&(y<=v||y>=O)?jt(d,y):me(d,y,"0");else if(o=G(new A(o),a,c),g=o.e,d=se(o.c),f=d.length,b==1||b==2&&(a<=g||g<=v)){for(;f<a;d+="0",f++);d=jt(d,g)}else if(a-=y,d=me(d,g,"0"),g+1>f){if(--a>0)for(d+=".";a--;d+="0");}else if(a+=g-f,a>0)for(g+1==f&&(d+=".");a--;d+="0");return o.s<0&&p?"-"+d:d}function Y(o,a){for(var c,b,p=1,g=new A(o[0]);p<o.length;p++)b=new A(o[p]),(!b.s||(c=qe(g,b))===a||c===0&&g.s===a)&&(g=b);return g}function H(o,a,c){for(var b=1,p=a.length;!a[--p];a.pop());for(p=a[0];p>=10;p/=10,b++);return(c=b+c*N-1)>E?o.c=o.e=null:c<S?o.c=[o.e=0]:(o.e=c,o.c=a),o}n=function(){var o=/^(-?)0([xbo])(?=\w[\w.]*$)/i,a=/^([^.]+)\.$/,c=/^\.([^.]+)$/,b=/^-?(Infinity|NaN)$/,p=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(g,y,f,d){var x,m=f?y:y.replace(p,"");if(b.test(m))g.s=isNaN(m)?null:m<0?-1:1;else{if(!f&&(m=m.replace(o,function(w,T,_){return x=(_=_.toLowerCase())=="x"?16:_=="b"?2:8,!d||d==x?T:w}),d&&(x=d,m=m.replace(a,"$1").replace(c,"0.$1")),y!=m))return new A(m,x);if(A.DEBUG)throw Error(J+"Not a"+(d?" base "+d:"")+" number: "+y);g.s=null}g.c=g.e=null}}();function G(o,a,c,b){var p,g,y,f,d,x,m,w=o.c,T=Wr;if(w){e:{for(p=1,f=w[0];f>=10;f/=10,p++);if(g=a-p,g<0)g+=N,y=a,d=w[x=0],m=oe(d/T[p-y-1]%10);else if(x=Hr((g+1)/N),x>=w.length)if(b){for(;w.length<=x;w.push(0));d=m=0,p=1,g%=N,y=g-N+1}else break e;else{for(d=f=w[x],p=1;f>=10;f/=10,p++);g%=N,y=g-N+p,m=y<0?0:oe(d/T[p-y-1]%10)}if(b=b||a<0||w[x+1]!=null||(y<0?d:d%T[p-y-1]),b=c<4?(m||b)&&(c==0||c==(o.s<0?3:2)):m>5||m==5&&(c==4||b||c==6&&(g>0?y>0?d/T[p-y]:0:w[x-1])%10&1||c==(o.s<0?8:7)),a<1||!w[0])return w.length=0,b?(a-=o.e+1,w[0]=T[(N-a%N)%N],o.e=-a||0):w[0]=o.e=0,o;if(g==0?(w.length=x,f=1,x--):(w.length=x+1,f=T[N-g],w[x]=y>0?oe(d/T[p-y]%T[y])*f:0),b)for(;;)if(x==0){for(g=1,y=w[0];y>=10;y/=10,g++);for(y=w[0]+=f,f=1;y>=10;y/=10,f++);g!=f&&(o.e++,w[0]==le&&(w[0]=1));break}else{if(w[x]+=f,w[x]!=le)break;w[x--]=0,f=1}for(g=w.length;w[--g]===0;w.pop());}o.e>E?o.c=o.e=null:o.e<S&&(o.c=[o.e=0])}return o}function ee(o){var a,c=o.e;return c===null?o.toString():(a=se(o.c),a=c<=v||c>=O?jt(a,c):me(a,c,"0"),o.s<0?"-"+a:a)}return i.absoluteValue=i.abs=function(){var o=new A(this);return o.s<0&&(o.s=1),o},i.comparedTo=function(o,a){return qe(this,new A(o,a))},i.decimalPlaces=i.dp=function(o,a){var c,b,p,g=this;if(o!=null)return j(o,0,K),a==null?a=h:j(a,0,8),G(new A(g),o+g.e+1,a);if(!(c=g.c))return null;if(b=((p=c.length-1)-ae(this.e/N))*N,p=c[p])for(;p%10==0;p/=10,b--);return b<0&&(b=0),b},i.dividedBy=i.div=function(o,a){return e(this,new A(o,a),u,h)},i.dividedToIntegerBy=i.idiv=function(o,a){return e(this,new A(o,a),0,1)},i.exponentiatedBy=i.pow=function(o,a){var c,b,p,g,y,f,d,x,m,w=this;if(o=new A(o),o.c&&!o.isInteger())throw Error(J+"Exponent not an integer: "+ee(o));if(a!=null&&(a=new A(a)),f=o.e>14,!w.c||!w.c[0]||w.c[0]==1&&!w.e&&w.c.length==1||!o.c||!o.c[0])return m=new A(Math.pow(+ee(w),f?o.s*(2-Bt(o)):+ee(o))),a?m.mod(a):m;if(d=o.s<0,a){if(a.c?!a.c[0]:!a.s)return new A(NaN);b=!d&&w.isInteger()&&a.isInteger(),b&&(w=w.mod(a))}else{if(o.e>9&&(w.e>0||w.e<-1||(w.e==0?w.c[0]>1||f&&w.c[1]>=24e7:w.c[0]<8e13||f&&w.c[0]<=9999975e7)))return g=w.s<0&&Bt(o)?-0:0,w.e>-1&&(g=1/g),new A(d?1/g:g);C&&(g=Hr(C/N+2))}for(f?(c=new A(.5),d&&(o.s=1),x=Bt(o)):(p=Math.abs(+ee(o)),x=p%2),m=new A(s);;){if(x){if(m=m.times(w),!m.c)break;g?m.c.length>g&&(m.c.length=g):b&&(m=m.mod(a))}if(p){if(p=oe(p/2),p===0)break;x=p%2}else if(o=o.times(c),G(o,o.e+1,1),o.e>14)x=Bt(o);else{if(p=+ee(o),p===0)break;x=p%2}w=w.times(w),g?w.c&&w.c.length>g&&(w.c.length=g):b&&(w=w.mod(a))}return b?m:(d&&(m=s.div(m)),a?m.mod(a):g?G(m,C,h,y):m)},i.integerValue=function(o){var a=new A(this);return o==null?o=h:j(o,0,8),G(a,a.e+1,o)},i.isEqualTo=i.eq=function(o,a){return qe(this,new A(o,a))===0},i.isFinite=function(){return!!this.c},i.isGreaterThan=i.gt=function(o,a){return qe(this,new A(o,a))>0},i.isGreaterThanOrEqualTo=i.gte=function(o,a){return(a=qe(this,new A(o,a)))===1||a===0},i.isInteger=function(){return!!this.c&&ae(this.e/N)>this.c.length-2},i.isLessThan=i.lt=function(o,a){return qe(this,new A(o,a))<0},i.isLessThanOrEqualTo=i.lte=function(o,a){return(a=qe(this,new A(o,a)))===-1||a===0},i.isNaN=function(){return!this.s},i.isNegative=function(){return this.s<0},i.isPositive=function(){return this.s>0},i.isZero=function(){return!!this.c&&this.c[0]==0},i.minus=function(o,a){var c,b,p,g,y=this,f=y.s;if(o=new A(o,a),a=o.s,!f||!a)return new A(NaN);if(f!=a)return o.s=-a,y.plus(o);var d=y.e/N,x=o.e/N,m=y.c,w=o.c;if(!d||!x){if(!m||!w)return m?(o.s=-a,o):new A(w?y:NaN);if(!m[0]||!w[0])return w[0]?(o.s=-a,o):new A(m[0]?y:h==3?-0:0)}if(d=ae(d),x=ae(x),m=m.slice(),f=d-x){for((g=f<0)?(f=-f,p=m):(x=d,p=w),p.reverse(),a=f;a--;p.push(0));p.reverse()}else for(b=(g=(f=m.length)<(a=w.length))?f:a,f=a=0;a<b;a++)if(m[a]!=w[a]){g=m[a]<w[a];break}if(g&&(p=m,m=w,w=p,o.s=-o.s),a=(b=w.length)-(c=m.length),a>0)for(;a--;m[c++]=0);for(a=le-1;b>f;){if(m[--b]<w[b]){for(c=b;c&&!m[--c];m[c]=a);--m[c],m[b]+=le}m[b]-=w[b]}for(;m[0]==0;m.splice(0,1),--x);return m[0]?H(o,m,x):(o.s=h==3?-1:1,o.c=[o.e=0],o)},i.modulo=i.mod=function(o,a){var c,b,p=this;return o=new A(o,a),!p.c||!o.s||o.c&&!o.c[0]?new A(NaN):!o.c||p.c&&!p.c[0]?new A(p):(M==9?(b=o.s,o.s=1,c=e(p,o,0,3),o.s=b,c.s*=b):c=e(p,o,0,M),o=p.minus(c.times(o)),!o.c[0]&&M==1&&(o.s=p.s),o)},i.multipliedBy=i.times=function(o,a){var c,b,p,g,y,f,d,x,m,w,T,_,I,$,U,F=this,D=F.c,V=(o=new A(o,a)).c;if(!D||!V||!D[0]||!V[0])return!F.s||!o.s||D&&!D[0]&&!V||V&&!V[0]&&!D?o.c=o.e=o.s=null:(o.s*=F.s,!D||!V?o.c=o.e=null:(o.c=[0],o.e=0)),o;for(b=ae(F.e/N)+ae(o.e/N),o.s*=F.s,d=D.length,w=V.length,d<w&&(I=D,D=V,V=I,p=d,d=w,w=p),p=d+w,I=[];p--;I.push(0));for($=le,U=Oe,p=w;--p>=0;){for(c=0,T=V[p]%U,_=V[p]/U|0,y=d,g=p+y;g>p;)x=D[--y]%U,m=D[y]/U|0,f=_*x+m*T,x=T*x+f%U*U+I[g]+c,c=(x/$|0)+(f/U|0)+_*m,I[g--]=x%$;I[g]=c}return c?++b:I.splice(0,1),H(o,I,b)},i.negated=function(){var o=new A(this);return o.s=-o.s||null,o},i.plus=function(o,a){var c,b=this,p=b.s;if(o=new A(o,a),a=o.s,!p||!a)return new A(NaN);if(p!=a)return o.s=-a,b.minus(o);var g=b.e/N,y=o.e/N,f=b.c,d=o.c;if(!g||!y){if(!f||!d)return new A(p/0);if(!f[0]||!d[0])return d[0]?o:new A(f[0]?b:p*0)}if(g=ae(g),y=ae(y),f=f.slice(),p=g-y){for(p>0?(y=g,c=d):(p=-p,c=f),c.reverse();p--;c.push(0));c.reverse()}for(p=f.length,a=d.length,p-a<0&&(c=d,d=f,f=c,a=p),p=0;a;)p=(f[--a]=f[a]+d[a]+p)/le|0,f[a]=le===f[a]?0:f[a]%le;return p&&(f=[p].concat(f),++y),H(o,f,y)},i.precision=i.sd=function(o,a){var c,b,p,g=this;if(o!=null&&o!==!!o)return j(o,1,K),a==null?a=h:j(a,0,8),G(new A(g),o,a);if(!(c=g.c))return null;if(p=c.length-1,b=p*N+1,p=c[p]){for(;p%10==0;p/=10,b--);for(p=c[0];p>=10;p/=10,b++);}return o&&g.e+1>b&&(b=g.e+1),b},i.shiftedBy=function(o){return j(o,-Gr,Gr),this.times("1e"+o)},i.squareRoot=i.sqrt=function(){var o,a,c,b,p,g=this,y=g.c,f=g.s,d=g.e,x=u+4,m=new A("0.5");if(f!==1||!y||!y[0])return new A(!f||f<0&&(!y||y[0])?NaN:y?g:1/0);if(f=Math.sqrt(+ee(g)),f==0||f==1/0?(a=se(y),(a.length+d)%2==0&&(a+="0"),f=Math.sqrt(+a),d=ae((d+1)/2)-(d<0||d%2),f==1/0?a="5e"+d:(a=f.toExponential(),a=a.slice(0,a.indexOf("e")+1)+d),c=new A(a)):c=new A(f+""),c.c[0]){for(d=c.e,f=d+x,f<3&&(f=0);;)if(p=c,c=m.times(p.plus(e(g,p,x,1))),se(p.c).slice(0,f)===(a=se(c.c)).slice(0,f))if(c.e<d&&--f,a=a.slice(f-3,f+1),a=="9999"||!b&&a=="4999"){if(!b&&(G(p,p.e+u+2,0),p.times(p).eq(g))){c=p;break}x+=4,f+=4,b=1}else{(!+a||!+a.slice(1)&&a.charAt(0)=="5")&&(G(c,c.e+u+2,1),o=!c.times(c).eq(g));break}}return G(c,c.e+u+1,h,o)},i.toExponential=function(o,a){return o!=null&&(j(o,0,K),o++),Q(this,o,a,1)},i.toFixed=function(o,a){return o!=null&&(j(o,0,K),o=o+this.e+1),Q(this,o,a)},i.toFormat=function(o,a,c){var b,p=this;if(c==null)o!=null&&a&&typeof a=="object"?(c=a,a=null):o&&typeof o=="object"?(c=o,o=a=null):c=L;else if(typeof c!="object")throw Error(J+"Argument not an object: "+c);if(b=p.toFixed(o,a),p.c){var g,y=b.split("."),f=+c.groupSize,d=+c.secondaryGroupSize,x=c.groupSeparator||"",m=y[0],w=y[1],T=p.s<0,_=T?m.slice(1):m,I=_.length;if(d&&(g=f,f=d,d=g,I-=g),f>0&&I>0){for(g=I%f||f,m=_.substr(0,g);g<I;g+=f)m+=x+_.substr(g,f);d>0&&(m+=x+_.slice(g)),T&&(m="-"+m)}b=w?m+(c.decimalSeparator||"")+((d=+c.fractionGroupSize)?w.replace(new RegExp("\\d{"+d+"}\\B","g"),"$&"+(c.fractionGroupSeparator||"")):w):m}return(c.prefix||"")+b+(c.suffix||"")},i.toFraction=function(o){var a,c,b,p,g,y,f,d,x,m,w,T,_=this,I=_.c;if(o!=null&&(f=new A(o),!f.isInteger()&&(f.c||f.s!==1)||f.lt(s)))throw Error(J+"Argument "+(f.isInteger()?"out of range: ":"not an integer: ")+ee(f));if(!I)return new A(_);for(a=new A(s),x=c=new A(s),b=d=new A(s),T=se(I),g=a.e=T.length-_.e-1,a.c[0]=Wr[(y=g%N)<0?N+y:y],o=!o||f.comparedTo(a)>0?g>0?a:x:f,y=E,E=1/0,f=new A(T),d.c[0]=0;m=e(f,a,0,1),p=c.plus(m.times(b)),p.comparedTo(o)!=1;)c=b,b=p,x=d.plus(m.times(p=x)),d=p,a=f.minus(m.times(p=a)),f=p;return p=e(o.minus(c),b,0,1),d=d.plus(p.times(x)),c=c.plus(p.times(b)),d.s=x.s=_.s,g=g*2,w=e(x,b,g,h).minus(_).abs().comparedTo(e(d,c,g,h).minus(_).abs())<1?[x,b]:[d,c],E=y,w},i.toNumber=function(){return+ee(this)},i.toPrecision=function(o,a){return o!=null&&j(o,1,K),Q(this,o,a,2)},i.toString=function(o){var a,c=this,b=c.s,p=c.e;return p===null?b?(a="Infinity",b<0&&(a="-"+a)):a="NaN":(o==null?a=p<=v||p>=O?jt(se(c.c),p):me(se(c.c),p,"0"):o===10&&z?(c=G(new A(c),u+p+1,h),a=me(se(c.c),c.e,"0")):(j(o,2,k.length,"Base"),a=r(me(se(c.c),p,"0"),10,o,b,!0)),b<0&&c.c[0]&&(a="-"+a)),a},i.valueOf=i.toJSON=function(){return ee(this)},i._isBigNumber=!0,i[Symbol.toStringTag]="BigNumber",i[Symbol.for("nodejs.util.inspect.custom")]=i.valueOf,t!=null&&A.set(t),A}function ae(t){var e=t|0;return t>0||t===e?e:e-1}function se(t){for(var e,r,n=1,i=t.length,s=t[0]+"";n<i;){for(e=t[n++]+"",r=N-e.length;r--;e="0"+e);s+=e}for(i=s.length;s.charCodeAt(--i)===48;);return s.slice(0,i+1||1)}function qe(t,e){var r,n,i=t.c,s=e.c,u=t.s,h=e.s,v=t.e,O=e.e;if(!u||!h)return null;if(r=i&&!i[0],n=s&&!s[0],r||n)return r?n?0:-h:u;if(u!=h)return u;if(r=u<0,n=v==O,!i||!s)return n?0:!i^r?1:-1;if(!n)return v>O^r?1:-1;for(h=(v=i.length)<(O=s.length)?v:O,u=0;u<h;u++)if(i[u]!=s[u])return i[u]>s[u]^r?1:-1;return v==O?0:v>O^r?1:-1}function j(t,e,r,n){if(t<e||t>r||t!==oe(t))throw Error(J+(n||"Argument")+(typeof t=="number"?t<e||t>r?" out of range: ":" not an integer: ":" not a primitive number: ")+String(t))}function Bt(t){var e=t.c.length-1;return ae(t.e/N)==e&&t.c[e]%2!=0}function jt(t,e){return(t.length>1?t.charAt(0)+"."+t.slice(1):t)+(e<0?"e":"e+")+e}function me(t,e,r){var n,i;if(e<0){for(i=r+".";++e;i+=r);t=i+t}else if(n=t.length,++e>n){for(i=r,e-=n;--e;i+=r);t+=i}else e<n&&(t=t.slice(0,e)+"."+t.slice(e));return t}var P=cu();var $t;(function(t){t[t.up=P.ROUND_UP]="up",t[t.down=P.ROUND_DOWN]="down",t[t.truncate=P.ROUND_DOWN]="truncate",t[t.halfUp=P.ROUND_HALF_UP]="halfUp",t[t.default=P.ROUND_HALF_UP]="default",t[t.halfDown=P.ROUND_HALF_DOWN]="halfDown",t[t.halfEven=P.ROUND_HALF_EVEN]="halfEven",t[t.banker=P.ROUND_HALF_EVEN]="banker",t[t.ceiling=P.ROUND_CEIL]="ceiling",t[t.ceil=P.ROUND_CEIL]="ceil",t[t.floor=P.ROUND_FLOOR]="floor"})($t||($t={}));function ut(t){var e;return(e=$t[t])!==null&&e!==void 0?e:$t.default}var Eu=de(Su());function yy(t){return t.isZero()?1:Math.floor(Math.log10(t.abs().toNumber())+1)}function Oy(t,{precision:e,significant:r}){return r&&e!==null&&e>0?e-yy(t):e}function we(t,e){let r=Oy(t,e);if(r===null)return t.toString();let n=ut(e.roundMode);if(r>=0)return t.toFixed(r,n);let i=Math.pow(10,Math.abs(r));return t=new P(t.div(i).toFixed(0,n)).times(i),t.toString()}function wy(t,{formattedNumber:e,unit:r}){return t.replace("%n",e).replace("%u",r)}function Ay({significand:t,whole:e,precision:r}){if(e==="0"||r===null)return t;let n=Math.max(0,r-e.length);return(t??"").substr(0,n)}function Te(t,e){var r,n,i;let s=new P(t);if(e.raise&&!s.isFinite())throw new Error(`"${t}" is not a valid numeric value`);let u=we(s,e),h=new P(u),v=h.lt(0),O=h.isZero(),[S,E]=u.split("."),q=[],M,C=(r=e.format)!==null&&r!==void 0?r:"%n",L=(n=e.negativeFormat)!==null&&n!==void 0?n:`-${C}`,k=v&&!O?L:C;for(S=S.replace("-","");S.length>0;)q.unshift(S.substr(Math.max(0,S.length-3),3)),S=S.substr(0,S.length-3);return S=q.join(""),M=q.join(e.delimiter),e.significant?E=Ay({whole:S,significand:E,precision:e.precision}):E=E??(0,Eu.default)("0",(i=e.precision)!==null&&i!==void 0?i:0),e.stripInsignificantZeros&&E&&(E=E.replace(/0+$/,"")),s.isNaN()&&(M=t.toString()),E&&s.isFinite()&&(M+=(e.separator||".")+E),wy(k,{formattedNumber:M,unit:e.unit})}function fe(t,e,r){let n="";return(e instanceof String||typeof e=="string")&&(n=e),e instanceof Array&&(n=e.join(t.defaultSeparator)),r.scope&&(n=[r.scope,n].join(t.defaultSeparator)),n}function ce(t){var e,r;if(t===null)return"null";let n=typeof t;return n!=="object"?n:((r=(e=t?.constructor)===null||e===void 0?void 0:e.name)===null||r===void 0?void 0:r.toLowerCase())||"object"}function lt(t,e,r){r=Object.keys(r).reduce((i,s)=>(i[t.transformKey(s)]=r[s],i),{});let n=e.match(t.placeholder);if(!n)return e;for(;n.length;){let i,s=n.shift(),u=s.replace(t.placeholder,"$1");Z(r[u])?i=r[u].toString().replace(/\$/gm,"_#$#_"):u in r?i=t.nullPlaceholder(t,s,e,r):i=t.missingPlaceholder(t,s,e,r);let h=new RegExp(s.replace(/\{/gm,"\\{").replace(/\}/gm,"\\}"),"g");e=e.replace(h,i)}return e.replace(/_#\$#_/g,"$")}function X(t,e,r={}){r=Object.assign({},r);let n="locale"in r?r.locale:t.locale,i=ce(n),s=t.locales.get(i==="string"?n:typeof n).slice(),u=fe(t,e,r).split(t.defaultSeparator).map(v=>t.transformKey(v)),h=s.map(v=>u.reduce((O,S)=>O&&O[S],t.translations[v]));return h.push(r.defaultValue),h.find(v=>Z(v))}function Yr(t,e){let r=new P(t);if(!r.isFinite())return t.toString();if(!e.delimiterPattern.global)throw new Error(`options.delimiterPattern must be a global regular expression; received ${e.delimiterPattern}`);let[n,i]=r.toString().split(".");return n=n.replace(e.delimiterPattern,s=>`${s}${e.delimiter}`),[n,i].filter(Boolean).join(e.separator)}var Tf=de(wf()),_f=de(qf());var fn={0:"unit",1:"ten",2:"hundred",3:"thousand",6:"million",9:"billion",12:"trillion",15:"quadrillion","-1":"deci","-2":"centi","-3":"mili","-6":"micro","-9":"nano","-12":"pico","-15":"femto"},OA=(0,_f.default)(Object.values(fn),Object.keys(fn).map(t=>parseInt(t,10)));function hn(t,e,r){let n={roundMode:r.roundMode,precision:r.precision,significant:r.significant},i;if(ce(r.units)==="string"){let E=r.units;if(i=X(t,E),!i)throw new Error(`The scope "${t.locale}${t.defaultSeparator}${fe(t,E,{})}" couldn't be found`)}else i=r.units;let s=we(new P(e),n),u=E=>(0,Tf.default)(Object.keys(E).map(q=>OA[q]),q=>q*-1),h=(E,q)=>{let M=E.isZero()?0:Math.floor(Math.log10(E.abs().toNumber()));return u(q).find(C=>M>=C)||0},v=(E,q)=>{let M=fn[q.toString()];return E[M]||""},O=h(new P(s),i),S=v(i,O);if(s=we(new P(s).div(Math.pow(10,O)),n),r.stripInsignificantZeros){let[E,q]=s.split(".");q=(q||"").replace(/0+$/,""),s=E,q&&(s+=`${r.separator}${q}`)}return r.format.replace("%n",s||"0").replace("%u",S).trim()}var Cf=["byte","kb","mb","gb","tb","pb","eb"];function pn(t,e,r){let n=ut(r.roundMode),i=1024,s=new P(e).abs(),u=s.lt(i),h,v=(C,L)=>{let k=L.length-1,z=new P(Math.log(C.toNumber())).div(Math.log(i)).integerValue(P.ROUND_DOWN).toNumber();return Math.min(k,z)},O=C=>`number.human.storage_units.units.${u?"byte":C[S]}`,S=v(s,Cf);u?h=s.integerValue():h=new P(we(s.div(Math.pow(i,S)),{significant:r.significant,precision:r.precision,roundMode:r.roundMode}));let E=t.translate("number.human.storage_units.format",{defaultValue:"%n %u"}),q=t.translate(O(Cf),{count:s.integerValue().toNumber()}),M=h.toFixed(r.precision,n);return r.stripInsignificantZeros&&(M=M.replace(/(\..*?)0+$/,"$1").replace(/\.$/,"")),E.replace("%n",M).replace("%u",q)}function Ue(t){if(t instanceof Date)return t;if(typeof t=="number"){let n=new Date;return n.setTime(t),n}let e=new String(t).match(/(\d{4})-(\d{2})-(\d{2})(?:[ T](\d{2}):(\d{2}):(\d{2})(?:[.,](\d{1,3}))?)?(Z|\+00:?00)?/);if(e){let n=e.slice(1,8).map(q=>parseInt(q,10)||0);n[1]-=1;let[i,s,u,h,v,O,S]=n;return e[8]?new Date(Date.UTC(i,s,u,h,v,O,S)):new Date(i,s,u,h,v,O,S)}t.match(/([A-Z][a-z]{2}) ([A-Z][a-z]{2}) (\d+) (\d+:\d+:\d+) ([+-]\d+) (\d+)/)&&new Date().setTime(Date.parse([RegExp.$1,RegExp.$2,RegExp.$3,RegExp.$6,RegExp.$4,RegExp.$5].join(" ")));let r=new Date;return r.setTime(Date.parse(t)),r}function zt({i18n:t,count:e,scope:r,options:n,baseScope:i}){n=Object.assign({},n);let s,u;if(typeof r=="object"&&r?s=r:s=X(t,r,n),!s)return t.missingTranslation.get(r,n);let v=t.pluralization.get(n.locale)(t,e),O=[];for(;v.length;){let S=v.shift();if(Z(s[S])){u=s[S];break}O.push(S)}return Z(u)?(n.count=e,t.interpolate(t,u,n)):t.missingTranslation.get(i.split(t.defaultSeparator).concat([O[0]]),n)}var wA={meridian:{am:"AM",pm:"PM"},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],abbrDayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],monthNames:[null,"January","February","March","April","May","June","July","August","September","October","November","December"],abbrMonthNames:[null,"Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]};function dn(t,e,r={}){let{abbrDayNames:n,dayNames:i,abbrMonthNames:s,monthNames:u,meridian:h,utc:v}=Object.assign(Object.assign({},wA),r);if(isNaN(t.getTime()))throw new Error("strftime() requires a valid date object, but received an invalid date.");let O=v?t.getUTCDay():t.getDay(),S=v?t.getUTCDate():t.getDate(),E=v?t.getUTCFullYear():t.getFullYear(),q=(v?t.getUTCMonth():t.getMonth())+1,M=v?t.getUTCHours():t.getHours(),C=M,L=M>11?"pm":"am",k=v?t.getUTCSeconds():t.getSeconds(),z=v?t.getUTCMinutes():t.getMinutes(),A=v?0:t.getTimezoneOffset(),Q=Math.floor(Math.abs(A/60)),Y=Math.abs(A)-Q*60,H=(A>0?"-":"+")+(Q.toString().length<2?"0"+Q:Q)+(Y.toString().length<2?"0"+Y:Y);return C>12?C=C-12:C===0&&(C=12),e=e.replace("%a",n[O]),e=e.replace("%A",i[O]),e=e.replace("%b",s[q]),e=e.replace("%B",u[q]),e=e.replace("%d",S.toString().padStart(2,"0")),e=e.replace("%e",S.toString()),e=e.replace("%-d",S.toString()),e=e.replace("%H",M.toString().padStart(2,"0")),e=e.replace("%-H",M.toString()),e=e.replace("%k",M.toString()),e=e.replace("%I",C.toString().padStart(2,"0")),e=e.replace("%-I",C.toString()),e=e.replace("%l",C.toString()),e=e.replace("%m",q.toString().padStart(2,"0")),e=e.replace("%-m",q.toString()),e=e.replace("%M",z.toString().padStart(2,"0")),e=e.replace("%-M",z.toString()),e=e.replace("%p",h[L]),e=e.replace("%P",h[L].toLowerCase()),e=e.replace("%S",k.toString().padStart(2,"0")),e=e.replace("%-S",k.toString()),e=e.replace("%w",O.toString()),e=e.replace("%y",E.toString().padStart(2,"0").substr(-2)),e=e.replace("%-y",E.toString().padStart(2,"0").substr(-2).replace(/^0+/,"")),e=e.replace("%Y",E.toString()),e=e.replace(/%z/i,H),e}var Lf=de(Pf());var re=(t,e,r)=>r>=t&&r<=e;function mn(t,e,r,n={}){let i=n.scope||"datetime.distance_in_words",s=(ee,o=0)=>t.t(ee,{count:o,scope:i});e=Ue(e),r=Ue(r);let u=e.getTime()/1e3,h=r.getTime()/1e3;u>h&&([e,r,u,h]=[r,e,h,u]);let v=Math.round(h-u),O=Math.round((h-u)/60),E=O/60/24,q=Math.round(O/60),M=Math.round(E),C=Math.round(M/30);if(re(0,1,O))return n.includeSeconds?re(0,4,v)?s("less_than_x_seconds",5):re(5,9,v)?s("less_than_x_seconds",10):re(10,19,v)?s("less_than_x_seconds",20):re(20,39,v)?s("half_a_minute"):re(40,59,v)?s("less_than_x_minutes",1):s("x_minutes",1):O===0?s("less_than_x_minutes",1):s("x_minutes",O);if(re(2,44,O))return s("x_minutes",O);if(re(45,89,O))return s("about_x_hours",1);if(re(90,1439,O))return s("about_x_hours",q);if(re(1440,2519,O))return s("x_days",1);if(re(2520,43199,O))return s("x_days",M);if(re(43200,86399,O))return s("about_x_months",Math.round(O/43200));if(re(86400,525599,O))return s("x_months",C);let L=e.getFullYear();e.getMonth()+1>=3&&(L+=1);let k=r.getFullYear();r.getMonth()+1<3&&(k-=1);let z=L>k?0:(0,Lf.default)(L,k).filter(ee=>new Date(ee,1,29).getMonth()==1).length,A=525600,Q=z*1440,Y=O-Q,H=Math.trunc(Y/A),G=parseFloat((Y/A-H).toPrecision(3));return G<.25?s("about_x_years",H):G<.75?s("over_x_years",H):s("almost_x_years",H+1)}var MA=function(t,e){e instanceof Array&&(e=e.join(t.defaultSeparator));let r=e.split(t.defaultSeparator).slice(-1)[0];return t.missingTranslationPrefix+r.replace("_"," ").replace(/([a-z])([A-Z])/g,(n,i,s)=>`${i} ${s.toLowerCase()}`)},FA=(t,e,r)=>{let n=fe(t,e,r),i="locale"in r?r.locale:t.locale,s=ce(i);return`[missing "${[s=="string"?i:s,n].join(t.defaultSeparator)}" translation]`},IA=(t,e,r)=>{let n=fe(t,e,r),i=[t.locale,n].join(t.defaultSeparator);throw new Error(`Missing translation: ${i}`)},ft=class{constructor(e){this.i18n=e,this.registry={},this.register("guess",MA),this.register("message",FA),this.register("error",IA)}register(e,r){this.registry[e]=r}get(e,r){var n;return this.registry[(n=r.missingBehavior)!==null&&n!==void 0?n:this.i18n.missingBehavior](this.i18n,e,r)}};var DA=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(u){u(s)})}return new(r||(r=Promise))(function(s,u){function h(S){try{O(n.next(S))}catch(E){u(E)}}function v(S){try{O(n.throw(S))}catch(E){u(E)}}function O(S){S.done?s(S.value):i(S.value).then(h,v)}O((n=n.apply(t,e||[])).next())})},bn={defaultLocale:"en",locale:"en",defaultSeparator:".",placeholder:/(?:\{\{|%\{)(.*?)(?:\}\}?)/gm,enableFallback:!1,missingBehavior:"message",missingTranslationPrefix:"",missingPlaceholder:(t,e)=>`[missing "${e}" value]`,nullPlaceholder:(t,e,r,n)=>t.missingPlaceholder(t,e,r,n),transformKey:t=>t},ht=class{constructor(e={},r={}){this._locale=bn.locale,this._defaultLocale=bn.defaultLocale,this._version=0,this.onChangeHandlers=[],this.translations={},this.t=this.translate,this.p=this.pluralize,this.l=this.localize,this.distanceOfTimeInWords=this.timeAgoInWords;let{locale:n,enableFallback:i,missingBehavior:s,missingTranslationPrefix:u,missingPlaceholder:h,nullPlaceholder:v,defaultLocale:O,defaultSeparator:S,placeholder:E,transformKey:q}=Object.assign(Object.assign({},bn),r);this.locale=n,this.defaultLocale=O,this.defaultSeparator=S,this.enableFallback=i,this.locale=n,this.missingBehavior=s,this.missingTranslationPrefix=u,this.missingPlaceholder=h,this.nullPlaceholder=v,this.placeholder=E,this.pluralization=new ct(this),this.locales=new at(this),this.missingTranslation=new ft(this),this.transformKey=q,this.interpolate=lt,this.store(e)}store(e){(0,jf.default)(this.translations,e),this.hasChanged()}get locale(){return this._locale||this.defaultLocale||"en"}set locale(e){if(typeof e!="string")throw new Error(`Expected newLocale to be a string; got ${ce(e)}`);let r=this._locale!==e;this._locale=e,r&&this.hasChanged()}get defaultLocale(){return this._defaultLocale||"en"}set defaultLocale(e){if(typeof e!="string")throw new Error(`Expected newLocale to be a string; got ${ce(e)}`);let r=this._defaultLocale!==e;this._defaultLocale=e,r&&this.hasChanged()}translate(e,r){r=Object.assign({},r);let n=Vr(this,e,r),i;return n.some(u=>(Z(u.scope)?i=X(this,u.scope,r):Z(u.message)&&(i=u.message),i!=null))?(typeof i=="string"?i=this.interpolate(this,i,r):typeof i=="object"&&i&&Z(r.count)&&(i=zt({i18n:this,count:r.count||0,scope:i,options:r,baseScope:fe(this,e,r)})),r&&i instanceof Array&&(i=i.map(u=>typeof u=="string"?lt(this,u,r):u)),i):this.missingTranslation.get(e,r)}pluralize(e,r,n){return zt({i18n:this,count:e,scope:r,options:Object.assign({},n),baseScope:fe(this,r,n??{})})}localize(e,r,n){if(n=Object.assign({},n),r==null)return"";switch(e){case"currency":return this.numberToCurrency(r);case"number":return Te(r,Object.assign({delimiter:",",precision:3,separator:".",significant:!1,stripInsignificantZeros:!1},X(this,"number.format")));case"percentage":return this.numberToPercentage(r);default:{let i;return e.match(/^(date|time)/)?i=this.toTime(e,r):i=r.toString(),lt(this,i,n)}}}toTime(e,r){let n=Ue(r),i=X(this,e);return n.toString().match(/invalid/i)||!i?n.toString():this.strftime(n,i)}numberToCurrency(e,r={}){return Te(e,Object.assign(Object.assign(Object.assign({delimiter:",",format:"%u%n",precision:2,separator:".",significant:!1,stripInsignificantZeros:!1,unit:"$"},te(this.get("number.format"))),te(this.get("number.currency.format"))),r))}numberToPercentage(e,r={}){return Te(e,Object.assign(Object.assign(Object.assign({delimiter:"",format:"%n%",precision:3,stripInsignificantZeros:!1,separator:".",significant:!1},te(this.get("number.format"))),te(this.get("number.percentage.format"))),r))}numberToHumanSize(e,r={}){return pn(this,e,Object.assign(Object.assign(Object.assign({delimiter:"",precision:3,significant:!0,stripInsignificantZeros:!0,units:{billion:"Billion",million:"Million",quadrillion:"Quadrillion",thousand:"Thousand",trillion:"Trillion",unit:""}},te(this.get("number.human.format"))),te(this.get("number.human.storage_units"))),r))}numberToHuman(e,r={}){return hn(this,e,Object.assign(Object.assign(Object.assign({delimiter:"",separator:".",precision:3,significant:!0,stripInsignificantZeros:!0,format:"%n %u",roundMode:"default",units:{billion:"Billion",million:"Million",quadrillion:"Quadrillion",thousand:"Thousand",trillion:"Trillion",unit:""}},te(this.get("number.human.format"))),te(this.get("number.human.decimal_units"))),r))}numberToRounded(e,r){return Te(e,Object.assign({unit:"",precision:3,significant:!1,separator:".",delimiter:"",stripInsignificantZeros:!1},r))}numberToDelimited(e,r={}){return Yr(e,Object.assign({delimiterPattern:/(\d)(?=(\d\d\d)+(?!\d))/g,delimiter:",",separator:"."},r))}withLocale(e,r){return DA(this,void 0,void 0,function*(){let n=this.locale;try{this.locale=e,yield r()}finally{this.locale=n}})}strftime(e,r,n={}){return dn(e,r,Object.assign(Object.assign(Object.assign({},te(X(this,"date"))),{meridian:{am:X(this,"time.am")||"AM",pm:X(this,"time.pm")||"PM"}}),n))}update(e,r,n={strict:!1}){if(n.strict&&!(0,Bf.default)(this.translations,e))throw new Error(`The path "${e}" is not currently defined`);let i=(0,kf.default)(this.translations,e),s=ce(i),u=ce(r);if(n.strict&&s!==u)throw new Error(`The current type for "${e}" is "${s}", but you're trying to override it with "${u}"`);let h;u==="object"?h=Object.assign(Object.assign({},i),r):h=r;let v=e.split(this.defaultSeparator),O=v.pop(),S=this.translations;for(let E of v)S[E]||(S[E]={}),S=S[E];S[O]=h,this.hasChanged()}toSentence(e,r={}){let{wordsConnector:n,twoWordsConnector:i,lastWordConnector:s}=Object.assign(Object.assign({wordsConnector:", ",twoWordsConnector:" and ",lastWordConnector:", and "},te(X(this,"support.array"))),r),u=e.length;switch(u){case 0:return"";case 1:return`${e[0]}`;case 2:return e.join(i);default:return[e.slice(0,u-1).join(n),s,e[u-1]].join("")}}timeAgoInWords(e,r,n={}){return mn(this,e,r,n)}onChange(e){return this.onChangeHandlers.push(e),()=>{this.onChangeHandlers.splice(this.onChangeHandlers.indexOf(e),1)}}get version(){return this._version}formatNumber(e,r={}){return r=Object.assign(Object.assign({delimiter:",",precision:3,separator:".",unit:"",format:"%u%n",significant:!1,stripInsignificantZeros:!1},te(this.get("number.format"))),r),Te(e,r)}get(e){return X(this,e)}runCallbacks(){this.onChangeHandlers.forEach(e=>e(this))}hasChanged(){this._version+=1,this.runCallbacks()}};var $f={page_not_found:{"404":"404",title:"Page not found :(",description:"The requested page could not be found."},character:{title:"Character",inputs:{player_name:"Player name",character:{name:"Name",race:"Race",class:"Class",level:"Level",background:"Background",alignment:"Alignment",experience_points:"XP"}}},stats:{hp:{title:"Hit points",current:"Current",temporary:"Temp",maximum:"Max"},hit_dice:{title:"Hit dice",label:"Dice",spent:"Spent",maximum:"Max"},death_saves:{title:"Death saves",successes:"Successes:",failures:"Failures:"},armor_class:"Armor class",initiative:"Initiative",speed:"Speed",passive_perception:"Passive perception",proficiency_bonus:"Proficiency bonus",inspiration:"Heroic inspiration"},specs:{modifier:"Modifier",score:"Score",saving_throw:"Saving throw",names:{strength:"Strength",dexterity:"Dexterity",constitution:"Constitution",intelligence:"Intelligence",wisdom:"Wisdom",charisma:"Charisma"},abilities:{names:{athletics:"Athletics",acrobatics:"Acrobatics",sleight_of_hand:"Sleight of hand",stealth:"Stealth",arcana:"Arcana",history:"History",investigation:"Investigation",nature:"Nature",religion:"Religion",animal_handling:"Animal handling",insight:"Insight",medicine:"Medicine",perception:"Perception",survival:"Survival",deception:"Deception",intimidation:"Intimidation",performance:"Performance",persuasion:"Persuasion"}}},weapons:{title:"Weapons",items:{name:"Name",attack_bonus:"Atk bonus",damage:"Damage",damage_type:"Damage type"},notes:{title:"Weapon notes"}}};var Rf={character:{title:"Character",inputs:{character_name:"Character name"}}};var Uf={character:{title:"Character",inputs:{character_name:"Character name"}}};var Kt=["en","ua","ru"],pt=class extends xe{static targets=["toggle","translation"];static classes=["toggled"];static cookieNames=["locale"];connect(){At(this),this.i18n=new ht({en:$f,ua:Rf,ru:Uf}),this._setLocale(this.localeCookie||Kt[0]),this._toggleLocale()}toggle(){let t=Kt.indexOf(this.localeCookie),e=t+1<Kt.length?t+1:0;this._setLocale(Kt[e]),this.toggleTarget.classList.toggle(this.toggledClass,!this.toggleTarget.classList.contains(this.toggledClass)),this._toggleLocale()}_setLocale(t){this.localeCookie=t,this.i18n.locale=t}_toggleLocale(){this.translationTargets.forEach(t=>{t.innerHTML=this.i18n.t(t.dataset.t)})}};var dt=class extends xe{static targets=["state","input"];static values={states:Array};static classes=["hidden"];connect(){this._toggleState(0)}toggle(){let t=this.statesValue.indexOf(this.inputTarget.value),e=t+1<this.statesValue.length?t+1:0;this._toggleState(e)}_toggleState(t){this.inputTarget.value=this.statesValue[t],this.stateTargets.forEach((e,r)=>{e.classList.toggle(this.hiddenClass,t!==r)})}};window.Stimulus=Ot.start();window.Stimulus.register("theme",Ge);window.Stimulus.register("i18n",pt);window.Stimulus.register("multi-toggle",dt);"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("sw.js",{scope:"/dcs/"})});})();
