(()=>{var Vf=Object.create;var yn=Object.defineProperty;var Hf=Object.getOwnPropertyDescriptor;var Gf=Object.getOwnPropertyNames;var Wf=Object.getPrototypeOf,Zf=Object.prototype.hasOwnProperty;var l=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var Yf=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Gf(e))!Zf.call(t,i)&&i!==r&&yn(t,i,{get:()=>e[i],enumerable:!(n=Hf(e,i))||n.enumerable});return t};var ge=(t,e,r)=>(r=t!=null?Vf(Wf(t)):{},Yf(e||!t||!t.__esModule?yn(r,"default",{value:t,enumerable:!0}):r,t));var ie=l((zA,Dn)=>{var $h=Array.isArray;Dn.exports=$h});var vr=l((KA,kn)=>{var Rh=typeof global=="object"&&global&&global.Object===Object&&global;kn.exports=Rh});var ue=l((VA,Pn)=>{var Uh=vr(),zh=typeof self=="object"&&self&&self.Object===Object&&self,Kh=Uh||zh||Function("return this")();Pn.exports=Kh});var Ce=l((HA,Ln)=>{var Vh=ue(),Hh=Vh.Symbol;Ln.exports=Hh});var Rn=l((GA,$n)=>{var Bn=Ce(),jn=Object.prototype,Gh=jn.hasOwnProperty,Wh=jn.toString,Ge=Bn?Bn.toStringTag:void 0;function Zh(t){var e=Gh.call(t,Ge),r=t[Ge];try{t[Ge]=void 0;var n=!0}catch{}var i=Wh.call(t);return n&&(e?t[Ge]=r:delete t[Ge]),i}$n.exports=Zh});var zn=l((WA,Un)=>{var Yh=Object.prototype,Jh=Yh.toString;function Xh(t){return Jh.call(t)}Un.exports=Xh});var Ae=l((ZA,Hn)=>{var Kn=Ce(),Qh=Rn(),ep=zn(),tp="[object Null]",rp="[object Undefined]",Vn=Kn?Kn.toStringTag:void 0;function np(t){return t==null?t===void 0?rp:tp:Vn&&Vn in Object(t)?Qh(t):ep(t)}Hn.exports=np});var ve=l((YA,Gn)=>{function ip(t){return t!=null&&typeof t=="object"}Gn.exports=ip});var Ne=l((JA,Wn)=>{var sp=Ae(),op=ve(),ap="[object Symbol]";function cp(t){return typeof t=="symbol"||op(t)&&sp(t)==ap}Wn.exports=cp});var Et=l((XA,Zn)=>{var up=ie(),lp=Ne(),fp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,hp=/^\w*$/;function pp(t,e){if(up(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||lp(t)?!0:hp.test(t)||!fp.test(t)||e!=null&&t in Object(e)}Zn.exports=pp});var pe=l((QA,Yn)=>{function dp(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}Yn.exports=dp});var Tt=l((eS,Jn)=>{var gp=Ae(),mp=pe(),bp="[object AsyncFunction]",xp="[object Function]",vp="[object GeneratorFunction]",yp="[object Proxy]";function Op(t){if(!mp(t))return!1;var e=gp(t);return e==xp||e==vp||e==bp||e==yp}Jn.exports=Op});var Qn=l((tS,Xn)=>{var wp=ue(),Ap=wp["__core-js_shared__"];Xn.exports=Ap});var ri=l((rS,ti)=>{var yr=Qn(),ei=function(){var t=/[^.]+$/.exec(yr&&yr.keys&&yr.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Sp(t){return!!ei&&ei in t}ti.exports=Sp});var Or=l((nS,ni)=>{var Ep=Function.prototype,Tp=Ep.toString;function _p(t){if(t!=null){try{return Tp.call(t)}catch{}try{return t+""}catch{}}return""}ni.exports=_p});var si=l((iS,ii)=>{var qp=Tt(),Cp=ri(),Np=pe(),Mp=Or(),Fp=/[\\^$.*+?()[\]{}|]/g,Ip=/^\[object .+?Constructor\]$/,Dp=Function.prototype,kp=Object.prototype,Pp=Dp.toString,Lp=kp.hasOwnProperty,Bp=RegExp("^"+Pp.call(Lp).replace(Fp,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function jp(t){if(!Np(t)||Cp(t))return!1;var e=qp(t)?Bp:Ip;return e.test(Mp(t))}ii.exports=jp});var ai=l((sS,oi)=>{function $p(t,e){return t?.[e]}oi.exports=$p});var ye=l((oS,ci)=>{var Rp=si(),Up=ai();function zp(t,e){var r=Up(t,e);return Rp(r)?r:void 0}ci.exports=zp});var We=l((aS,ui)=>{var Kp=ye(),Vp=Kp(Object,"create");ui.exports=Vp});var hi=l((cS,fi)=>{var li=We();function Hp(){this.__data__=li?li(null):{},this.size=0}fi.exports=Hp});var di=l((uS,pi)=>{function Gp(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}pi.exports=Gp});var mi=l((lS,gi)=>{var Wp=We(),Zp="__lodash_hash_undefined__",Yp=Object.prototype,Jp=Yp.hasOwnProperty;function Xp(t){var e=this.__data__;if(Wp){var r=e[t];return r===Zp?void 0:r}return Jp.call(e,t)?e[t]:void 0}gi.exports=Xp});var xi=l((fS,bi)=>{var Qp=We(),ed=Object.prototype,td=ed.hasOwnProperty;function rd(t){var e=this.__data__;return Qp?e[t]!==void 0:td.call(e,t)}bi.exports=rd});var yi=l((hS,vi)=>{var nd=We(),id="__lodash_hash_undefined__";function sd(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=nd&&e===void 0?id:e,this}vi.exports=sd});var wi=l((pS,Oi)=>{var od=hi(),ad=di(),cd=mi(),ud=xi(),ld=yi();function Me(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Me.prototype.clear=od;Me.prototype.delete=ad;Me.prototype.get=cd;Me.prototype.has=ud;Me.prototype.set=ld;Oi.exports=Me});var Si=l((dS,Ai)=>{function fd(){this.__data__=[],this.size=0}Ai.exports=fd});var Fe=l((gS,Ei)=>{function hd(t,e){return t===e||t!==t&&e!==e}Ei.exports=hd});var Ze=l((mS,Ti)=>{var pd=Fe();function dd(t,e){for(var r=t.length;r--;)if(pd(t[r][0],e))return r;return-1}Ti.exports=dd});var qi=l((bS,_i)=>{var gd=Ze(),md=Array.prototype,bd=md.splice;function xd(t){var e=this.__data__,r=gd(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():bd.call(e,r,1),--this.size,!0}_i.exports=xd});var Ni=l((xS,Ci)=>{var vd=Ze();function yd(t){var e=this.__data__,r=vd(e,t);return r<0?void 0:e[r][1]}Ci.exports=yd});var Fi=l((vS,Mi)=>{var Od=Ze();function wd(t){return Od(this.__data__,t)>-1}Mi.exports=wd});var Di=l((yS,Ii)=>{var Ad=Ze();function Sd(t,e){var r=this.__data__,n=Ad(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}Ii.exports=Sd});var Ye=l((OS,ki)=>{var Ed=Si(),Td=qi(),_d=Ni(),qd=Fi(),Cd=Di();function Ie(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Ie.prototype.clear=Ed;Ie.prototype.delete=Td;Ie.prototype.get=_d;Ie.prototype.has=qd;Ie.prototype.set=Cd;ki.exports=Ie});var _t=l((wS,Pi)=>{var Nd=ye(),Md=ue(),Fd=Nd(Md,"Map");Pi.exports=Fd});var ji=l((AS,Bi)=>{var Li=wi(),Id=Ye(),Dd=_t();function kd(){this.size=0,this.__data__={hash:new Li,map:new(Dd||Id),string:new Li}}Bi.exports=kd});var Ri=l((SS,$i)=>{function Pd(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}$i.exports=Pd});var Je=l((ES,Ui)=>{var Ld=Ri();function Bd(t,e){var r=t.__data__;return Ld(e)?r[typeof e=="string"?"string":"hash"]:r.map}Ui.exports=Bd});var Ki=l((TS,zi)=>{var jd=Je();function $d(t){var e=jd(this,t).delete(t);return this.size-=e?1:0,e}zi.exports=$d});var Hi=l((_S,Vi)=>{var Rd=Je();function Ud(t){return Rd(this,t).get(t)}Vi.exports=Ud});var Wi=l((qS,Gi)=>{var zd=Je();function Kd(t){return zd(this,t).has(t)}Gi.exports=Kd});var Yi=l((CS,Zi)=>{var Vd=Je();function Hd(t,e){var r=Vd(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}Zi.exports=Hd});var qt=l((NS,Ji)=>{var Gd=ji(),Wd=Ki(),Zd=Hi(),Yd=Wi(),Jd=Yi();function De(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}De.prototype.clear=Gd;De.prototype.delete=Wd;De.prototype.get=Zd;De.prototype.has=Yd;De.prototype.set=Jd;Ji.exports=De});var es=l((MS,Qi)=>{var Xi=qt(),Xd="Expected a function";function wr(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(Xd);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],s=r.cache;if(s.has(i))return s.get(i);var u=t.apply(this,n);return r.cache=s.set(i,u)||s,u};return r.cache=new(wr.Cache||Xi),r}wr.Cache=Xi;Qi.exports=wr});var rs=l((FS,ts)=>{var Qd=es(),eg=500;function tg(t){var e=Qd(t,function(n){return r.size===eg&&r.clear(),n}),r=e.cache;return e}ts.exports=tg});var is=l((IS,ns)=>{var rg=rs(),ng=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ig=/\\(\\)?/g,sg=rg(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(ng,function(r,n,i,s){e.push(i?s.replace(ig,"$1"):n||r)}),e});ns.exports=sg});var Ar=l((DS,ss)=>{function og(t,e){for(var r=-1,n=t==null?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}ss.exports=og});var fs=l((kS,ls)=>{var os=Ce(),ag=Ar(),cg=ie(),ug=Ne(),lg=1/0,as=os?os.prototype:void 0,cs=as?as.toString:void 0;function us(t){if(typeof t=="string")return t;if(cg(t))return ag(t,us)+"";if(ug(t))return cs?cs.call(t):"";var e=t+"";return e=="0"&&1/t==-lg?"-0":e}ls.exports=us});var Se=l((PS,hs)=>{var fg=fs();function hg(t){return t==null?"":fg(t)}hs.exports=hg});var Sr=l((LS,ps)=>{var pg=ie(),dg=Et(),gg=is(),mg=Se();function bg(t,e){return pg(t)?t:dg(t,e)?[t]:gg(mg(t))}ps.exports=bg});var Xe=l((BS,ds)=>{var xg=Ne(),vg=1/0;function yg(t){if(typeof t=="string"||xg(t))return t;var e=t+"";return e=="0"&&1/t==-vg?"-0":e}ds.exports=yg});var Ct=l((jS,gs)=>{var Og=Sr(),wg=Xe();function Ag(t,e){e=Og(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[wg(e[r++])];return r&&r==n?t:void 0}gs.exports=Ag});var Er=l(($S,ms)=>{var Sg=Ct();function Eg(t,e,r){var n=t==null?void 0:Sg(t,e);return n===void 0?r:n}ms.exports=Eg});var xs=l((RS,bs)=>{var Tg=Object.prototype,_g=Tg.hasOwnProperty;function qg(t,e){return t!=null&&_g.call(t,e)}bs.exports=qg});var ys=l((US,vs)=>{var Cg=Ae(),Ng=ve(),Mg="[object Arguments]";function Fg(t){return Ng(t)&&Cg(t)==Mg}vs.exports=Fg});var Qe=l((zS,As)=>{var Os=ys(),Ig=ve(),ws=Object.prototype,Dg=ws.hasOwnProperty,kg=ws.propertyIsEnumerable,Pg=Os(function(){return arguments}())?Os:function(t){return Ig(t)&&Dg.call(t,"callee")&&!kg.call(t,"callee")};As.exports=Pg});var Nt=l((KS,Ss)=>{var Lg=9007199254740991,Bg=/^(?:0|[1-9]\d*)$/;function jg(t,e){var r=typeof t;return e=e??Lg,!!e&&(r=="number"||r!="symbol"&&Bg.test(t))&&t>-1&&t%1==0&&t<e}Ss.exports=jg});var Mt=l((VS,Es)=>{var $g=9007199254740991;function Rg(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=$g}Es.exports=Rg});var Tr=l((HS,Ts)=>{var Ug=Sr(),zg=Qe(),Kg=ie(),Vg=Nt(),Hg=Mt(),Gg=Xe();function Wg(t,e,r){e=Ug(e,t);for(var n=-1,i=e.length,s=!1;++n<i;){var u=Gg(e[n]);if(!(s=t!=null&&r(t,u)))break;t=t[u]}return s||++n!=i?s:(i=t==null?0:t.length,!!i&&Hg(i)&&Vg(u,i)&&(Kg(t)||zg(t)))}Ts.exports=Wg});var qs=l((GS,_s)=>{var Zg=xs(),Yg=Tr();function Jg(t,e){return t!=null&&Yg(t,e,Zg)}_s.exports=Jg});var Ns=l((WS,Cs)=>{var Xg=Ye();function Qg(){this.__data__=new Xg,this.size=0}Cs.exports=Qg});var Fs=l((ZS,Ms)=>{function e0(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}Ms.exports=e0});var Ds=l((YS,Is)=>{function t0(t){return this.__data__.get(t)}Is.exports=t0});var Ps=l((JS,ks)=>{function r0(t){return this.__data__.has(t)}ks.exports=r0});var Bs=l((XS,Ls)=>{var n0=Ye(),i0=_t(),s0=qt(),o0=200;function a0(t,e){var r=this.__data__;if(r instanceof n0){var n=r.__data__;if(!i0||n.length<o0-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new s0(n)}return r.set(t,e),this.size=r.size,this}Ls.exports=a0});var Ft=l((QS,js)=>{var c0=Ye(),u0=Ns(),l0=Fs(),f0=Ds(),h0=Ps(),p0=Bs();function ke(t){var e=this.__data__=new c0(t);this.size=e.size}ke.prototype.clear=u0;ke.prototype.delete=l0;ke.prototype.get=f0;ke.prototype.has=h0;ke.prototype.set=p0;js.exports=ke});var _r=l((eE,$s)=>{var d0=ye(),g0=function(){try{var t=d0(Object,"defineProperty");return t({},"",{}),t}catch{}}();$s.exports=g0});var It=l((tE,Us)=>{var Rs=_r();function m0(t,e,r){e=="__proto__"&&Rs?Rs(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}Us.exports=m0});var qr=l((rE,zs)=>{var b0=It(),x0=Fe();function v0(t,e,r){(r!==void 0&&!x0(t[e],r)||r===void 0&&!(e in t))&&b0(t,e,r)}zs.exports=v0});var Vs=l((nE,Ks)=>{function y0(t){return function(e,r,n){for(var i=-1,s=Object(e),u=n(e),p=u.length;p--;){var y=u[t?p:++i];if(r(s[y],y,s)===!1)break}return e}}Ks.exports=y0});var Cr=l((iE,Hs)=>{var O0=Vs(),w0=O0();Hs.exports=w0});var Js=l((et,Pe)=>{var A0=ue(),Ys=typeof et=="object"&&et&&!et.nodeType&&et,Gs=Ys&&typeof Pe=="object"&&Pe&&!Pe.nodeType&&Pe,S0=Gs&&Gs.exports===Ys,Ws=S0?A0.Buffer:void 0,Zs=Ws?Ws.allocUnsafe:void 0;function E0(t,e){if(e)return t.slice();var r=t.length,n=Zs?Zs(r):new t.constructor(r);return t.copy(n),n}Pe.exports=E0});var Nr=l((sE,Xs)=>{var T0=ue(),_0=T0.Uint8Array;Xs.exports=_0});var to=l((oE,eo)=>{var Qs=Nr();function q0(t){var e=new t.constructor(t.byteLength);return new Qs(e).set(new Qs(t)),e}eo.exports=q0});var no=l((aE,ro)=>{var C0=to();function N0(t,e){var r=e?C0(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}ro.exports=N0});var so=l((cE,io)=>{function M0(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}io.exports=M0});var co=l((uE,ao)=>{var F0=pe(),oo=Object.create,I0=function(){function t(){}return function(e){if(!F0(e))return{};if(oo)return oo(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}();ao.exports=I0});var Mr=l((lE,uo)=>{function D0(t,e){return function(r){return t(e(r))}}uo.exports=D0});var Fr=l((fE,lo)=>{var k0=Mr(),P0=k0(Object.getPrototypeOf,Object);lo.exports=P0});var Dt=l((hE,fo)=>{var L0=Object.prototype;function B0(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||L0;return t===r}fo.exports=B0});var po=l((pE,ho)=>{var j0=co(),$0=Fr(),R0=Dt();function U0(t){return typeof t.constructor=="function"&&!R0(t)?j0($0(t)):{}}ho.exports=U0});var Ee=l((dE,go)=>{var z0=Tt(),K0=Mt();function V0(t){return t!=null&&K0(t.length)&&!z0(t)}go.exports=V0});var bo=l((gE,mo)=>{var H0=Ee(),G0=ve();function W0(t){return G0(t)&&H0(t)}mo.exports=W0});var vo=l((mE,xo)=>{function Z0(){return!1}xo.exports=Z0});var kt=l((tt,Le)=>{var Y0=ue(),J0=vo(),wo=typeof tt=="object"&&tt&&!tt.nodeType&&tt,yo=wo&&typeof Le=="object"&&Le&&!Le.nodeType&&Le,X0=yo&&yo.exports===wo,Oo=X0?Y0.Buffer:void 0,Q0=Oo?Oo.isBuffer:void 0,em=Q0||J0;Le.exports=em});var Eo=l((bE,So)=>{var tm=Ae(),rm=Fr(),nm=ve(),im="[object Object]",sm=Function.prototype,om=Object.prototype,Ao=sm.toString,am=om.hasOwnProperty,cm=Ao.call(Object);function um(t){if(!nm(t)||tm(t)!=im)return!1;var e=rm(t);if(e===null)return!0;var r=am.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&Ao.call(r)==cm}So.exports=um});var _o=l((xE,To)=>{var lm=Ae(),fm=Mt(),hm=ve(),pm="[object Arguments]",dm="[object Array]",gm="[object Boolean]",mm="[object Date]",bm="[object Error]",xm="[object Function]",vm="[object Map]",ym="[object Number]",Om="[object Object]",wm="[object RegExp]",Am="[object Set]",Sm="[object String]",Em="[object WeakMap]",Tm="[object ArrayBuffer]",_m="[object DataView]",qm="[object Float32Array]",Cm="[object Float64Array]",Nm="[object Int8Array]",Mm="[object Int16Array]",Fm="[object Int32Array]",Im="[object Uint8Array]",Dm="[object Uint8ClampedArray]",km="[object Uint16Array]",Pm="[object Uint32Array]",B={};B[qm]=B[Cm]=B[Nm]=B[Mm]=B[Fm]=B[Im]=B[Dm]=B[km]=B[Pm]=!0;B[pm]=B[dm]=B[Tm]=B[gm]=B[_m]=B[mm]=B[bm]=B[xm]=B[vm]=B[ym]=B[Om]=B[wm]=B[Am]=B[Sm]=B[Em]=!1;function Lm(t){return hm(t)&&fm(t.length)&&!!B[lm(t)]}To.exports=Lm});var Ir=l((vE,qo)=>{function Bm(t){return function(e){return t(e)}}qo.exports=Bm});var No=l((rt,Be)=>{var jm=vr(),Co=typeof rt=="object"&&rt&&!rt.nodeType&&rt,nt=Co&&typeof Be=="object"&&Be&&!Be.nodeType&&Be,$m=nt&&nt.exports===Co,Dr=$m&&jm.process,Rm=function(){try{var t=nt&&nt.require&&nt.require("util").types;return t||Dr&&Dr.binding&&Dr.binding("util")}catch{}}();Be.exports=Rm});var Pt=l((yE,Io)=>{var Um=_o(),zm=Ir(),Mo=No(),Fo=Mo&&Mo.isTypedArray,Km=Fo?zm(Fo):Um;Io.exports=Km});var kr=l((OE,Do)=>{function Vm(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}Do.exports=Vm});var Pr=l((wE,ko)=>{var Hm=It(),Gm=Fe(),Wm=Object.prototype,Zm=Wm.hasOwnProperty;function Ym(t,e,r){var n=t[e];(!(Zm.call(t,e)&&Gm(n,r))||r===void 0&&!(e in t))&&Hm(t,e,r)}ko.exports=Ym});var Lo=l((AE,Po)=>{var Jm=Pr(),Xm=It();function Qm(t,e,r,n){var i=!r;r||(r={});for(var s=-1,u=e.length;++s<u;){var p=e[s],y=n?n(r[p],t[p],p,r,t):void 0;y===void 0&&(y=t[p]),i?Xm(r,p,y):Jm(r,p,y)}return r}Po.exports=Qm});var jo=l((SE,Bo)=>{function e1(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}Bo.exports=e1});var Lr=l((EE,$o)=>{var t1=jo(),r1=Qe(),n1=ie(),i1=kt(),s1=Nt(),o1=Pt(),a1=Object.prototype,c1=a1.hasOwnProperty;function u1(t,e){var r=n1(t),n=!r&&r1(t),i=!r&&!n&&i1(t),s=!r&&!n&&!i&&o1(t),u=r||n||i||s,p=u?t1(t.length,String):[],y=p.length;for(var O in t)(e||c1.call(t,O))&&!(u&&(O=="length"||i&&(O=="offset"||O=="parent")||s&&(O=="buffer"||O=="byteLength"||O=="byteOffset")||s1(O,y)))&&p.push(O);return p}$o.exports=u1});var Uo=l((TE,Ro)=>{function l1(t){var e=[];if(t!=null)for(var r in Object(t))e.push(r);return e}Ro.exports=l1});var Ko=l((_E,zo)=>{var f1=pe(),h1=Dt(),p1=Uo(),d1=Object.prototype,g1=d1.hasOwnProperty;function m1(t){if(!f1(t))return p1(t);var e=h1(t),r=[];for(var n in t)n=="constructor"&&(e||!g1.call(t,n))||r.push(n);return r}zo.exports=m1});var Br=l((qE,Vo)=>{var b1=Lr(),x1=Ko(),v1=Ee();function y1(t){return v1(t)?b1(t,!0):x1(t)}Vo.exports=y1});var Go=l((CE,Ho)=>{var O1=Lo(),w1=Br();function A1(t){return O1(t,w1(t))}Ho.exports=A1});var Qo=l((NE,Xo)=>{var Wo=qr(),S1=Js(),E1=no(),T1=so(),_1=po(),Zo=Qe(),Yo=ie(),q1=bo(),C1=kt(),N1=Tt(),M1=pe(),F1=Eo(),I1=Pt(),Jo=kr(),D1=Go();function k1(t,e,r,n,i,s,u){var p=Jo(t,r),y=Jo(e,r),O=u.get(y);if(O){Wo(t,r,O);return}var S=s?s(p,y,r+"",t,e,u):void 0,E=S===void 0;if(E){var T=Yo(y),N=!T&&C1(y),C=!T&&!N&&I1(y);S=y,T||N||C?Yo(p)?S=p:q1(p)?S=T1(p):N?(E=!1,S=S1(y,!0)):C?(E=!1,S=E1(y,!0)):S=[]:F1(y)||Zo(y)?(S=p,Zo(p)?S=D1(p):(!M1(p)||N1(p))&&(S=_1(y))):E=!1}E&&(u.set(y,S),i(S,y,n,s,u),u.delete(y)),Wo(t,r,S)}Xo.exports=k1});var ra=l((ME,ta)=>{var P1=Ft(),L1=qr(),B1=Cr(),j1=Qo(),$1=pe(),R1=Br(),U1=kr();function ea(t,e,r,n,i){t!==e&&B1(e,function(s,u){if(i||(i=new P1),$1(s))j1(t,e,u,r,ea,n,i);else{var p=n?n(U1(t,u),s,u+"",t,e,i):void 0;p===void 0&&(p=s),L1(t,u,p)}},R1)}ta.exports=ea});var it=l((FE,na)=>{function z1(t){return t}na.exports=z1});var sa=l((IE,ia)=>{function K1(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}ia.exports=K1});var ca=l((DE,aa)=>{var V1=sa(),oa=Math.max;function H1(t,e,r){return e=oa(e===void 0?t.length-1:e,0),function(){for(var n=arguments,i=-1,s=oa(n.length-e,0),u=Array(s);++i<s;)u[i]=n[e+i];i=-1;for(var p=Array(e+1);++i<e;)p[i]=n[i];return p[e]=r(u),V1(t,this,p)}}aa.exports=H1});var la=l((kE,ua)=>{function G1(t){return function(){return t}}ua.exports=G1});var pa=l((PE,ha)=>{var W1=la(),fa=_r(),Z1=it(),Y1=fa?function(t,e){return fa(t,"toString",{configurable:!0,enumerable:!1,value:W1(e),writable:!0})}:Z1;ha.exports=Y1});var ga=l((LE,da)=>{var J1=800,X1=16,Q1=Date.now;function eb(t){var e=0,r=0;return function(){var n=Q1(),i=X1-(n-r);if(r=n,i>0){if(++e>=J1)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}da.exports=eb});var ba=l((BE,ma)=>{var tb=pa(),rb=ga(),nb=rb(tb);ma.exports=nb});var jr=l((jE,xa)=>{var ib=it(),sb=ca(),ob=ba();function ab(t,e){return ob(sb(t,e,ib),t+"")}xa.exports=ab});var st=l(($E,va)=>{var cb=Fe(),ub=Ee(),lb=Nt(),fb=pe();function hb(t,e,r){if(!fb(r))return!1;var n=typeof e;return(n=="number"?ub(r)&&lb(e,r.length):n=="string"&&e in r)?cb(r[e],t):!1}va.exports=hb});var Oa=l((RE,ya)=>{var pb=jr(),db=st();function gb(t){return pb(function(e,r){var n=-1,i=r.length,s=i>1?r[i-1]:void 0,u=i>2?r[2]:void 0;for(s=t.length>3&&typeof s=="function"?(i--,s):void 0,u&&db(r[0],r[1],u)&&(s=i<3?void 0:s,i=1),e=Object(e);++n<i;){var p=r[n];p&&t(e,p,n,s)}return e})}ya.exports=gb});var Aa=l((UE,wa)=>{var mb=ra(),bb=Oa(),xb=bb(function(t,e,r){mb(t,e,r)});wa.exports=xb});var Ea=l((zE,Sa)=>{var vb="__lodash_hash_undefined__";function yb(t){return this.__data__.set(t,vb),this}Sa.exports=yb});var _a=l((KE,Ta)=>{function Ob(t){return this.__data__.has(t)}Ta.exports=Ob});var $r=l((VE,qa)=>{var wb=qt(),Ab=Ea(),Sb=_a();function Lt(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new wb;++e<r;)this.add(t[e])}Lt.prototype.add=Lt.prototype.push=Ab;Lt.prototype.has=Sb;qa.exports=Lt});var Na=l((HE,Ca)=>{function Eb(t,e,r,n){for(var i=t.length,s=r+(n?1:-1);n?s--:++s<i;)if(e(t[s],s,t))return s;return-1}Ca.exports=Eb});var Fa=l((GE,Ma)=>{function Tb(t){return t!==t}Ma.exports=Tb});var Da=l((WE,Ia)=>{function _b(t,e,r){for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}Ia.exports=_b});var Pa=l((ZE,ka)=>{var qb=Na(),Cb=Fa(),Nb=Da();function Mb(t,e,r){return e===e?Nb(t,e,r):qb(t,Cb,r)}ka.exports=Mb});var Ba=l((YE,La)=>{var Fb=Pa();function Ib(t,e){var r=t==null?0:t.length;return!!r&&Fb(t,e,0)>-1}La.exports=Ib});var $a=l((JE,ja)=>{function Db(t,e,r){for(var n=-1,i=t==null?0:t.length;++n<i;)if(r(e,t[n]))return!0;return!1}ja.exports=Db});var Rr=l((XE,Ra)=>{function kb(t,e){return t.has(e)}Ra.exports=kb});var Ur=l((QE,Ua)=>{var Pb=ye(),Lb=ue(),Bb=Pb(Lb,"Set");Ua.exports=Bb});var Ka=l((eT,za)=>{function jb(){}za.exports=jb});var Bt=l((tT,Va)=>{function $b(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}Va.exports=$b});var Ga=l((rT,Ha)=>{var zr=Ur(),Rb=Ka(),Ub=Bt(),zb=1/0,Kb=zr&&1/Ub(new zr([,-0]))[1]==zb?function(t){return new zr(t)}:Rb;Ha.exports=Kb});var Za=l((nT,Wa)=>{var Vb=$r(),Hb=Ba(),Gb=$a(),Wb=Rr(),Zb=Ga(),Yb=Bt(),Jb=200;function Xb(t,e,r){var n=-1,i=Hb,s=t.length,u=!0,p=[],y=p;if(r)u=!1,i=Gb;else if(s>=Jb){var O=e?null:Zb(t);if(O)return Yb(O);u=!1,i=Wb,y=new Vb}else y=e?[]:p;e:for(;++n<s;){var S=t[n],E=e?e(S):S;if(S=r||S!==0?S:0,u&&E===E){for(var T=y.length;T--;)if(y[T]===E)continue e;e&&y.push(E),p.push(S)}else i(y,E,r)||(y!==p&&y.push(E),p.push(S))}return p}Wa.exports=Xb});var Ja=l((iT,Ya)=>{var Qb=Za();function ex(t){return t&&t.length?Qb(t):[]}Ya.exports=ex});var rc=l((uT,tc)=>{function nx(t,e,r){var n=-1,i=t.length;e<0&&(e=-e>i?0:i+e),r=r>i?i:r,r<0&&(r+=i),i=e>r?0:r-e>>>0,e>>>=0;for(var s=Array(i);++n<i;)s[n]=t[n+e];return s}tc.exports=nx});var ic=l((lT,nc)=>{var ix=rc();function sx(t,e,r){var n=t.length;return r=r===void 0?n:r,!e&&r>=n?t:ix(t,e,r)}nc.exports=sx});var Kr=l((fT,sc)=>{var ox="\\ud800-\\udfff",ax="\\u0300-\\u036f",cx="\\ufe20-\\ufe2f",ux="\\u20d0-\\u20ff",lx=ax+cx+ux,fx="\\ufe0e\\ufe0f",hx="\\u200d",px=RegExp("["+hx+ox+lx+fx+"]");function dx(t){return px.test(t)}sc.exports=dx});var ac=l((hT,oc)=>{function gx(t){return t.split("")}oc.exports=gx});var gc=l((pT,dc)=>{var cc="\\ud800-\\udfff",mx="\\u0300-\\u036f",bx="\\ufe20-\\ufe2f",xx="\\u20d0-\\u20ff",vx=mx+bx+xx,yx="\\ufe0e\\ufe0f",Ox="["+cc+"]",Vr="["+vx+"]",Hr="\\ud83c[\\udffb-\\udfff]",wx="(?:"+Vr+"|"+Hr+")",uc="[^"+cc+"]",lc="(?:\\ud83c[\\udde6-\\uddff]){2}",fc="[\\ud800-\\udbff][\\udc00-\\udfff]",Ax="\\u200d",hc=wx+"?",pc="["+yx+"]?",Sx="(?:"+Ax+"(?:"+[uc,lc,fc].join("|")+")"+pc+hc+")*",Ex=pc+hc+Sx,Tx="(?:"+[uc+Vr+"?",Vr,lc,fc,Ox].join("|")+")",_x=RegExp(Hr+"(?="+Hr+")|"+Tx+Ex,"g");function qx(t){return t.match(_x)||[]}dc.exports=qx});var bc=l((dT,mc)=>{var Cx=ac(),Nx=Kr(),Mx=gc();function Fx(t){return Nx(t)?Mx(t):Cx(t)}mc.exports=Fx});var vc=l((gT,xc)=>{var Ix=ic(),Dx=Kr(),kx=bc(),Px=Se();function Lx(t){return function(e){e=Px(e);var r=Dx(e)?kx(e):void 0,n=r?r[0]:e.charAt(0),i=r?Ix(r,1).join(""):e.slice(1);return n[t]()+i}}xc.exports=Lx});var Oc=l((mT,yc)=>{var Bx=vc(),jx=Bx("toUpperCase");yc.exports=jx});var Ac=l((bT,wc)=>{var $x=Se(),Rx=Oc();function Ux(t){return Rx($x(t).toLowerCase())}wc.exports=Ux});var Ec=l((xT,Sc)=>{function zx(t,e,r,n){var i=-1,s=t==null?0:t.length;for(n&&s&&(r=t[++i]);++i<s;)r=e(r,t[i],i,t);return r}Sc.exports=zx});var _c=l((vT,Tc)=>{function Kx(t){return function(e){return t?.[e]}}Tc.exports=Kx});var Cc=l((yT,qc)=>{var Vx=_c(),Hx={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},Gx=Vx(Hx);qc.exports=Gx});var Mc=l((OT,Nc)=>{var Wx=Cc(),Zx=Se(),Yx=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Jx="\\u0300-\\u036f",Xx="\\ufe20-\\ufe2f",Qx="\\u20d0-\\u20ff",ev=Jx+Xx+Qx,tv="["+ev+"]",rv=RegExp(tv,"g");function nv(t){return t=Zx(t),t&&t.replace(Yx,Wx).replace(rv,"")}Nc.exports=nv});var Ic=l((wT,Fc)=>{var iv=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function sv(t){return t.match(iv)||[]}Fc.exports=sv});var kc=l((AT,Dc)=>{var ov=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function av(t){return ov.test(t)}Dc.exports=av});var eu=l((ST,Qc)=>{var $c="\\ud800-\\udfff",cv="\\u0300-\\u036f",uv="\\ufe20-\\ufe2f",lv="\\u20d0-\\u20ff",fv=cv+uv+lv,Rc="\\u2700-\\u27bf",Uc="a-z\\xdf-\\xf6\\xf8-\\xff",hv="\\xac\\xb1\\xd7\\xf7",pv="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",dv="\\u2000-\\u206f",gv=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",zc="A-Z\\xc0-\\xd6\\xd8-\\xde",mv="\\ufe0e\\ufe0f",Kc=hv+pv+dv+gv,Vc="['\u2019]",Pc="["+Kc+"]",bv="["+fv+"]",Hc="\\d+",xv="["+Rc+"]",Gc="["+Uc+"]",Wc="[^"+$c+Kc+Hc+Rc+Uc+zc+"]",vv="\\ud83c[\\udffb-\\udfff]",yv="(?:"+bv+"|"+vv+")",Ov="[^"+$c+"]",Zc="(?:\\ud83c[\\udde6-\\uddff]){2}",Yc="[\\ud800-\\udbff][\\udc00-\\udfff]",je="["+zc+"]",wv="\\u200d",Lc="(?:"+Gc+"|"+Wc+")",Av="(?:"+je+"|"+Wc+")",Bc="(?:"+Vc+"(?:d|ll|m|re|s|t|ve))?",jc="(?:"+Vc+"(?:D|LL|M|RE|S|T|VE))?",Jc=yv+"?",Xc="["+mv+"]?",Sv="(?:"+wv+"(?:"+[Ov,Zc,Yc].join("|")+")"+Xc+Jc+")*",Ev="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Tv="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",_v=Xc+Jc+Sv,qv="(?:"+[xv,Zc,Yc].join("|")+")"+_v,Cv=RegExp([je+"?"+Gc+"+"+Bc+"(?="+[Pc,je,"$"].join("|")+")",Av+"+"+jc+"(?="+[Pc,je+Lc,"$"].join("|")+")",je+"?"+Lc+"+"+Bc,je+"+"+jc,Tv,Ev,Hc,qv].join("|"),"g");function Nv(t){return t.match(Cv)||[]}Qc.exports=Nv});var ru=l((ET,tu)=>{var Mv=Ic(),Fv=kc(),Iv=Se(),Dv=eu();function kv(t,e,r){return t=Iv(t),e=r?void 0:e,e===void 0?Fv(t)?Dv(t):Mv(t):t.match(e)||[]}tu.exports=kv});var iu=l((TT,nu)=>{var Pv=Ec(),Lv=Mc(),Bv=ru(),jv="['\u2019]",$v=RegExp(jv,"g");function Rv(t){return function(e){return Pv(Bv(Lv(e).replace($v,"")),t,"")}}nu.exports=Rv});var ou=l((_T,su)=>{var Uv=Ac(),zv=iu(),Kv=zv(function(t,e,r){return e=e.toLowerCase(),t+(r?Uv(e):e)});su.exports=Kv});var fu=l((kT,lu)=>{var Hv=9007199254740991,Gv=Math.floor;function Wv(t,e){var r="";if(!t||e<1||e>Hv)return r;do e%2&&(r+=t),e=Gv(e/2),e&&(t+=t);while(e);return r}lu.exports=Wv});var pu=l((PT,hu)=>{var Zv=/\s/;function Yv(t){for(var e=t.length;e--&&Zv.test(t.charAt(e)););return e}hu.exports=Yv});var gu=l((LT,du)=>{var Jv=pu(),Xv=/^\s+/;function Qv(t){return t&&t.slice(0,Jv(t)+1).replace(Xv,"")}du.exports=Qv});var vu=l((BT,xu)=>{var ey=gu(),mu=pe(),ty=Ne(),bu=NaN,ry=/^[-+]0x[0-9a-f]+$/i,ny=/^0b[01]+$/i,iy=/^0o[0-7]+$/i,sy=parseInt;function oy(t){if(typeof t=="number")return t;if(ty(t))return bu;if(mu(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=mu(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=ey(t);var r=ny.test(t);return r||iy.test(t)?sy(t.slice(2),r?2:8):ry.test(t)?bu:+t}xu.exports=oy});var Jr=l((jT,Ou)=>{var ay=vu(),yu=1/0,cy=17976931348623157e292;function uy(t){if(!t)return t===0?t:0;if(t=ay(t),t===yu||t===-yu){var e=t<0?-1:1;return e*cy}return t===t?t:0}Ou.exports=uy});var Au=l(($T,wu)=>{var ly=Jr();function fy(t){var e=ly(t),r=e%1;return e===e?r?e-r:e:0}wu.exports=fy});var Eu=l((RT,Su)=>{var hy=fu(),py=st(),dy=Au(),gy=Se();function my(t,e,r){return(r?py(t,e,r):e===void 0)?e=1:e=dy(e),hy(gy(t),e)}Su.exports=my});var Qr=l((i_,_u)=>{function Oy(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}_u.exports=Oy});var Mu=l((s_,Nu)=>{var qu=Ce(),wy=Qe(),Ay=ie(),Cu=qu?qu.isConcatSpreadable:void 0;function Sy(t){return Ay(t)||wy(t)||!!(Cu&&t&&t[Cu])}Nu.exports=Sy});var Du=l((o_,Iu)=>{var Ey=Qr(),Ty=Mu();function Fu(t,e,r,n,i){var s=-1,u=t.length;for(r||(r=Ty),i||(i=[]);++s<u;){var p=t[s];e>0&&r(p)?e>1?Fu(p,e-1,r,n,i):Ey(i,p):n||(i[i.length]=p)}return i}Iu.exports=Fu});var Pu=l((a_,ku)=>{function _y(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}ku.exports=_y});var en=l((c_,Lu)=>{var qy=$r(),Cy=Pu(),Ny=Rr(),My=1,Fy=2;function Iy(t,e,r,n,i,s){var u=r&My,p=t.length,y=e.length;if(p!=y&&!(u&&y>p))return!1;var O=s.get(t),S=s.get(e);if(O&&S)return O==e&&S==t;var E=-1,T=!0,N=r&Fy?new qy:void 0;for(s.set(t,e),s.set(e,t);++E<p;){var C=t[E],P=e[E];if(n)var L=u?n(P,C,E,e,t,s):n(C,P,E,t,e,s);if(L!==void 0){if(L)continue;T=!1;break}if(N){if(!Cy(e,function(z,A){if(!Ny(N,A)&&(C===z||i(C,z,r,n,s)))return N.push(A)})){T=!1;break}}else if(!(C===P||i(C,P,r,n,s))){T=!1;break}}return s.delete(t),s.delete(e),T}Lu.exports=Iy});var ju=l((u_,Bu)=>{function Dy(t){var e=-1,r=Array(t.size);return t.forEach(function(n,i){r[++e]=[i,n]}),r}Bu.exports=Dy});var Ku=l((l_,zu)=>{var $u=Ce(),Ru=Nr(),ky=Fe(),Py=en(),Ly=ju(),By=Bt(),jy=1,$y=2,Ry="[object Boolean]",Uy="[object Date]",zy="[object Error]",Ky="[object Map]",Vy="[object Number]",Hy="[object RegExp]",Gy="[object Set]",Wy="[object String]",Zy="[object Symbol]",Yy="[object ArrayBuffer]",Jy="[object DataView]",Uu=$u?$u.prototype:void 0,tn=Uu?Uu.valueOf:void 0;function Xy(t,e,r,n,i,s,u){switch(r){case Jy:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Yy:return!(t.byteLength!=e.byteLength||!s(new Ru(t),new Ru(e)));case Ry:case Uy:case Vy:return ky(+t,+e);case zy:return t.name==e.name&&t.message==e.message;case Hy:case Wy:return t==e+"";case Ky:var p=Ly;case Gy:var y=n&jy;if(p||(p=By),t.size!=e.size&&!y)return!1;var O=u.get(t);if(O)return O==e;n|=$y,u.set(t,e);var S=Py(p(t),p(e),n,i,s,u);return u.delete(t),S;case Zy:if(tn)return tn.call(t)==tn.call(e)}return!1}zu.exports=Xy});var Hu=l((f_,Vu)=>{var Qy=Qr(),eO=ie();function tO(t,e,r){var n=e(t);return eO(t)?n:Qy(n,r(t))}Vu.exports=tO});var Wu=l((h_,Gu)=>{function rO(t,e){for(var r=-1,n=t==null?0:t.length,i=0,s=[];++r<n;){var u=t[r];e(u,r,t)&&(s[i++]=u)}return s}Gu.exports=rO});var Yu=l((p_,Zu)=>{function nO(){return[]}Zu.exports=nO});var Qu=l((d_,Xu)=>{var iO=Wu(),sO=Yu(),oO=Object.prototype,aO=oO.propertyIsEnumerable,Ju=Object.getOwnPropertySymbols,cO=Ju?function(t){return t==null?[]:(t=Object(t),iO(Ju(t),function(e){return aO.call(t,e)}))}:sO;Xu.exports=cO});var tl=l((g_,el)=>{var uO=Mr(),lO=uO(Object.keys,Object);el.exports=lO});var nl=l((m_,rl)=>{var fO=Dt(),hO=tl(),pO=Object.prototype,dO=pO.hasOwnProperty;function gO(t){if(!fO(t))return hO(t);var e=[];for(var r in Object(t))dO.call(t,r)&&r!="constructor"&&e.push(r);return e}rl.exports=gO});var Ut=l((b_,il)=>{var mO=Lr(),bO=nl(),xO=Ee();function vO(t){return xO(t)?mO(t):bO(t)}il.exports=vO});var ol=l((x_,sl)=>{var yO=Hu(),OO=Qu(),wO=Ut();function AO(t){return yO(t,wO,OO)}sl.exports=AO});var ul=l((v_,cl)=>{var al=ol(),SO=1,EO=Object.prototype,TO=EO.hasOwnProperty;function _O(t,e,r,n,i,s){var u=r&SO,p=al(t),y=p.length,O=al(e),S=O.length;if(y!=S&&!u)return!1;for(var E=y;E--;){var T=p[E];if(!(u?T in e:TO.call(e,T)))return!1}var N=s.get(t),C=s.get(e);if(N&&C)return N==e&&C==t;var P=!0;s.set(t,e),s.set(e,t);for(var L=u;++E<y;){T=p[E];var z=t[T],A=e[T];if(n)var Q=u?n(A,z,T,e,t,s):n(z,A,T,t,e,s);if(!(Q===void 0?z===A||i(z,A,r,n,s):Q)){P=!1;break}L||(L=T=="constructor")}if(P&&!L){var Y=t.constructor,H=e.constructor;Y!=H&&"constructor"in t&&"constructor"in e&&!(typeof Y=="function"&&Y instanceof Y&&typeof H=="function"&&H instanceof H)&&(P=!1)}return s.delete(t),s.delete(e),P}cl.exports=_O});var fl=l((y_,ll)=>{var qO=ye(),CO=ue(),NO=qO(CO,"DataView");ll.exports=NO});var pl=l((O_,hl)=>{var MO=ye(),FO=ue(),IO=MO(FO,"Promise");hl.exports=IO});var gl=l((w_,dl)=>{var DO=ye(),kO=ue(),PO=DO(kO,"WeakMap");dl.exports=PO});var Al=l((A_,wl)=>{var rn=fl(),nn=_t(),sn=pl(),on=Ur(),an=gl(),Ol=Ae(),$e=Or(),ml="[object Map]",LO="[object Object]",bl="[object Promise]",xl="[object Set]",vl="[object WeakMap]",yl="[object DataView]",BO=$e(rn),jO=$e(nn),$O=$e(sn),RO=$e(on),UO=$e(an),qe=Ol;(rn&&qe(new rn(new ArrayBuffer(1)))!=yl||nn&&qe(new nn)!=ml||sn&&qe(sn.resolve())!=bl||on&&qe(new on)!=xl||an&&qe(new an)!=vl)&&(qe=function(t){var e=Ol(t),r=e==LO?t.constructor:void 0,n=r?$e(r):"";if(n)switch(n){case BO:return yl;case jO:return ml;case $O:return bl;case RO:return xl;case UO:return vl}return e});wl.exports=qe});var Ml=l((S_,Nl)=>{var cn=Ft(),zO=en(),KO=Ku(),VO=ul(),Sl=Al(),El=ie(),Tl=kt(),HO=Pt(),GO=1,_l="[object Arguments]",ql="[object Array]",zt="[object Object]",WO=Object.prototype,Cl=WO.hasOwnProperty;function ZO(t,e,r,n,i,s){var u=El(t),p=El(e),y=u?ql:Sl(t),O=p?ql:Sl(e);y=y==_l?zt:y,O=O==_l?zt:O;var S=y==zt,E=O==zt,T=y==O;if(T&&Tl(t)){if(!Tl(e))return!1;u=!0,S=!1}if(T&&!S)return s||(s=new cn),u||HO(t)?zO(t,e,r,n,i,s):KO(t,e,y,r,n,i,s);if(!(r&GO)){var N=S&&Cl.call(t,"__wrapped__"),C=E&&Cl.call(e,"__wrapped__");if(N||C){var P=N?t.value():t,L=C?e.value():e;return s||(s=new cn),i(P,L,r,n,s)}}return T?(s||(s=new cn),VO(t,e,r,n,i,s)):!1}Nl.exports=ZO});var un=l((E_,Dl)=>{var YO=Ml(),Fl=ve();function Il(t,e,r,n,i){return t===e?!0:t==null||e==null||!Fl(t)&&!Fl(e)?t!==t&&e!==e:YO(t,e,r,n,Il,i)}Dl.exports=Il});var Pl=l((T_,kl)=>{var JO=Ft(),XO=un(),QO=1,ew=2;function tw(t,e,r,n){var i=r.length,s=i,u=!n;if(t==null)return!s;for(t=Object(t);i--;){var p=r[i];if(u&&p[2]?p[1]!==t[p[0]]:!(p[0]in t))return!1}for(;++i<s;){p=r[i];var y=p[0],O=t[y],S=p[1];if(u&&p[2]){if(O===void 0&&!(y in t))return!1}else{var E=new JO;if(n)var T=n(O,S,y,t,e,E);if(!(T===void 0?XO(S,O,QO|ew,n,E):T))return!1}}return!0}kl.exports=tw});var ln=l((__,Ll)=>{var rw=pe();function nw(t){return t===t&&!rw(t)}Ll.exports=nw});var jl=l((q_,Bl)=>{var iw=ln(),sw=Ut();function ow(t){for(var e=sw(t),r=e.length;r--;){var n=e[r],i=t[n];e[r]=[n,i,iw(i)]}return e}Bl.exports=ow});var fn=l((C_,$l)=>{function aw(t,e){return function(r){return r==null?!1:r[t]===e&&(e!==void 0||t in Object(r))}}$l.exports=aw});var Ul=l((N_,Rl)=>{var cw=Pl(),uw=jl(),lw=fn();function fw(t){var e=uw(t);return e.length==1&&e[0][2]?lw(e[0][0],e[0][1]):function(r){return r===t||cw(r,t,e)}}Rl.exports=fw});var Kl=l((M_,zl)=>{function hw(t,e){return t!=null&&e in Object(t)}zl.exports=hw});var Hl=l((F_,Vl)=>{var pw=Kl(),dw=Tr();function gw(t,e){return t!=null&&dw(t,e,pw)}Vl.exports=gw});var Wl=l((I_,Gl)=>{var mw=un(),bw=Er(),xw=Hl(),vw=Et(),yw=ln(),Ow=fn(),ww=Xe(),Aw=1,Sw=2;function Ew(t,e){return vw(t)&&yw(e)?Ow(ww(t),e):function(r){var n=bw(r,t);return n===void 0&&n===e?xw(r,t):mw(e,n,Aw|Sw)}}Gl.exports=Ew});var Yl=l((D_,Zl)=>{function Tw(t){return function(e){return e?.[t]}}Zl.exports=Tw});var Xl=l((k_,Jl)=>{var _w=Ct();function qw(t){return function(e){return _w(e,t)}}Jl.exports=qw});var ef=l((P_,Ql)=>{var Cw=Yl(),Nw=Xl(),Mw=Et(),Fw=Xe();function Iw(t){return Mw(t)?Cw(Fw(t)):Nw(t)}Ql.exports=Iw});var rf=l((L_,tf)=>{var Dw=Ul(),kw=Wl(),Pw=it(),Lw=ie(),Bw=ef();function jw(t){return typeof t=="function"?t:t==null?Pw:typeof t=="object"?Lw(t)?kw(t[0],t[1]):Dw(t):Bw(t)}tf.exports=jw});var sf=l((B_,nf)=>{var $w=Cr(),Rw=Ut();function Uw(t,e){return t&&$w(t,e,Rw)}nf.exports=Uw});var af=l((j_,of)=>{var zw=Ee();function Kw(t,e){return function(r,n){if(r==null)return r;if(!zw(r))return t(r,n);for(var i=r.length,s=e?i:-1,u=Object(r);(e?s--:++s<i)&&n(u[s],s,u)!==!1;);return r}}of.exports=Kw});var uf=l(($_,cf)=>{var Vw=sf(),Hw=af(),Gw=Hw(Vw);cf.exports=Gw});var ff=l((R_,lf)=>{var Ww=uf(),Zw=Ee();function Yw(t,e){var r=-1,n=Zw(t)?Array(t.length):[];return Ww(t,function(i,s,u){n[++r]=e(i,s,u)}),n}lf.exports=Yw});var pf=l((U_,hf)=>{function Jw(t,e){var r=t.length;for(t.sort(e);r--;)t[r]=t[r].value;return t}hf.exports=Jw});var mf=l((z_,gf)=>{var df=Ne();function Xw(t,e){if(t!==e){var r=t!==void 0,n=t===null,i=t===t,s=df(t),u=e!==void 0,p=e===null,y=e===e,O=df(e);if(!p&&!O&&!s&&t>e||s&&u&&y&&!p&&!O||n&&u&&y||!r&&y||!i)return 1;if(!n&&!s&&!O&&t<e||O&&r&&i&&!n&&!s||p&&r&&i||!u&&i||!y)return-1}return 0}gf.exports=Xw});var xf=l((K_,bf)=>{var Qw=mf();function eA(t,e,r){for(var n=-1,i=t.criteria,s=e.criteria,u=i.length,p=r.length;++n<u;){var y=Qw(i[n],s[n]);if(y){if(n>=p)return y;var O=r[n];return y*(O=="desc"?-1:1)}}return t.index-e.index}bf.exports=eA});var yf=l((V_,vf)=>{var hn=Ar(),tA=Ct(),rA=rf(),nA=ff(),iA=pf(),sA=Ir(),oA=xf(),aA=it(),cA=ie();function uA(t,e,r){e.length?e=hn(e,function(s){return cA(s)?function(u){return tA(u,s.length===1?s[0]:s)}:s}):e=[aA];var n=-1;e=hn(e,sA(rA));var i=nA(t,function(s,u,p){var y=hn(e,function(O){return O(s)});return{criteria:y,index:++n,value:s}});return iA(i,function(s,u){return oA(s,u,r)})}vf.exports=uA});var Af=l((H_,wf)=>{var lA=Du(),fA=yf(),hA=jr(),Of=st(),pA=hA(function(t,e){if(t==null)return[];var r=e.length;return r>1&&Of(t,e[0],e[1])?e=[]:r>2&&Of(e[0],e[1],e[2])&&(e=[e[0]]),fA(t,lA(e,1),[])});wf.exports=pA});var Ef=l((G_,Sf)=>{function dA(t,e,r){for(var n=-1,i=t.length,s=e.length,u={};++n<i;){var p=n<s?e[n]:void 0;r(u,t[n],p)}return u}Sf.exports=dA});var _f=l((W_,Tf)=>{var gA=Pr(),mA=Ef();function bA(t,e){return mA(t||[],e||[],gA)}Tf.exports=bA});var Ff=l((lq,Mf)=>{var yA=Math.ceil,OA=Math.max;function wA(t,e,r,n){for(var i=-1,s=OA(yA((e-t)/(r||1)),0),u=Array(s);s--;)u[n?s:++i]=t,t+=r;return u}Mf.exports=wA});var Df=l((fq,If)=>{var AA=Ff(),SA=st(),bn=Jr();function EA(t){return function(e,r,n){return n&&typeof n!="number"&&SA(e,r,n)&&(r=n=void 0),e=bn(e),r===void 0?(r=e,e=0):r=bn(r),n=n===void 0?e<r?1:-1:bn(n),AA(e,r,n,t)}}If.exports=EA});var Pf=l((hq,kf)=>{var TA=Df(),_A=TA();kf.exports=_A});var Zt=class{constructor(e,r,n){this.eventTarget=e,this.eventName=r,this.eventOptions=n,this.unorderedBindings=new Set}connect(){this.eventTarget.addEventListener(this.eventName,this,this.eventOptions)}disconnect(){this.eventTarget.removeEventListener(this.eventName,this,this.eventOptions)}bindingConnected(e){this.unorderedBindings.add(e)}bindingDisconnected(e){this.unorderedBindings.delete(e)}handleEvent(e){let r=Jf(e);for(let n of this.bindings){if(r.immediatePropagationStopped)break;n.handleEvent(r)}}hasBindings(){return this.unorderedBindings.size>0}get bindings(){return Array.from(this.unorderedBindings).sort((e,r)=>{let n=e.index,i=r.index;return n<i?-1:n>i?1:0})}};function Jf(t){if("immediatePropagationStopped"in t)return t;{let{stopImmediatePropagation:e}=t;return Object.assign(t,{immediatePropagationStopped:!1,stopImmediatePropagation(){this.immediatePropagationStopped=!0,e.call(this)}})}}var Yt=class{constructor(e){this.application=e,this.eventListenerMaps=new Map,this.started=!1}start(){this.started||(this.started=!0,this.eventListeners.forEach(e=>e.connect()))}stop(){this.started&&(this.started=!1,this.eventListeners.forEach(e=>e.disconnect()))}get eventListeners(){return Array.from(this.eventListenerMaps.values()).reduce((e,r)=>e.concat(Array.from(r.values())),[])}bindingConnected(e){this.fetchEventListenerForBinding(e).bindingConnected(e)}bindingDisconnected(e,r=!1){this.fetchEventListenerForBinding(e).bindingDisconnected(e),r&&this.clearEventListenersForBinding(e)}handleError(e,r,n={}){this.application.handleError(e,`Error ${r}`,n)}clearEventListenersForBinding(e){let r=this.fetchEventListenerForBinding(e);r.hasBindings()||(r.disconnect(),this.removeMappedEventListenerFor(e))}removeMappedEventListenerFor(e){let{eventTarget:r,eventName:n,eventOptions:i}=e,s=this.fetchEventListenerMapForEventTarget(r),u=this.cacheKey(n,i);s.delete(u),s.size==0&&this.eventListenerMaps.delete(r)}fetchEventListenerForBinding(e){let{eventTarget:r,eventName:n,eventOptions:i}=e;return this.fetchEventListener(r,n,i)}fetchEventListener(e,r,n){let i=this.fetchEventListenerMapForEventTarget(e),s=this.cacheKey(r,n),u=i.get(s);return u||(u=this.createEventListener(e,r,n),i.set(s,u)),u}createEventListener(e,r,n){let i=new Zt(e,r,n);return this.started&&i.connect(),i}fetchEventListenerMapForEventTarget(e){let r=this.eventListenerMaps.get(e);return r||(r=new Map,this.eventListenerMaps.set(e,r)),r}cacheKey(e,r){let n=[e];return Object.keys(r).sort().forEach(i=>{n.push(`${r[i]?"":"!"}${i}`)}),n.join(":")}},Xf={stop({event:t,value:e}){return e&&t.stopPropagation(),!0},prevent({event:t,value:e}){return e&&t.preventDefault(),!0},self({event:t,value:e,element:r}){return e?r===t.target:!0}},Qf=/^(?:(?:([^.]+?)\+)?(.+?)(?:\.(.+?))?(?:@(window|document))?->)?(.+?)(?:#([^:]+?))(?::(.+))?$/;function eh(t){let r=t.trim().match(Qf)||[],n=r[2],i=r[3];return i&&!["keydown","keyup","keypress"].includes(n)&&(n+=`.${i}`,i=""),{eventTarget:th(r[4]),eventName:n,eventOptions:r[7]?rh(r[7]):{},identifier:r[5],methodName:r[6],keyFilter:r[1]||i}}function th(t){if(t=="window")return window;if(t=="document")return document}function rh(t){return t.split(":").reduce((e,r)=>Object.assign(e,{[r.replace(/^!/,"")]:!/^!/.test(r)}),{})}function nh(t){if(t==window)return"window";if(t==document)return"document"}function xr(t){return t.replace(/(?:[_-])([a-z0-9])/g,(e,r)=>r.toUpperCase())}function Jt(t){return xr(t.replace(/--/g,"-").replace(/__/g,"_"))}function Ve(t){return t.charAt(0).toUpperCase()+t.slice(1)}function Nn(t){return t.replace(/([A-Z])/g,(e,r)=>`-${r.toLowerCase()}`)}function ih(t){return t.match(/[^\s]+/g)||[]}function On(t){return t!=null}function Xt(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var wn=["meta","ctrl","alt","shift"],Qt=class{constructor(e,r,n,i){this.element=e,this.index=r,this.eventTarget=n.eventTarget||e,this.eventName=n.eventName||sh(e)||xt("missing event name"),this.eventOptions=n.eventOptions||{},this.identifier=n.identifier||xt("missing identifier"),this.methodName=n.methodName||xt("missing method name"),this.keyFilter=n.keyFilter||"",this.schema=i}static forToken(e,r){return new this(e.element,e.index,eh(e.content),r)}toString(){let e=this.keyFilter?`.${this.keyFilter}`:"",r=this.eventTargetName?`@${this.eventTargetName}`:"";return`${this.eventName}${e}${r}->${this.identifier}#${this.methodName}`}shouldIgnoreKeyboardEvent(e){if(!this.keyFilter)return!1;let r=this.keyFilter.split("+");if(this.keyFilterDissatisfied(e,r))return!0;let n=r.filter(i=>!wn.includes(i))[0];return n?(Xt(this.keyMappings,n)||xt(`contains unknown key filter: ${this.keyFilter}`),this.keyMappings[n].toLowerCase()!==e.key.toLowerCase()):!1}shouldIgnoreMouseEvent(e){if(!this.keyFilter)return!1;let r=[this.keyFilter];return!!this.keyFilterDissatisfied(e,r)}get params(){let e={},r=new RegExp(`^data-${this.identifier}-(.+)-param$`,"i");for(let{name:n,value:i}of Array.from(this.element.attributes)){let s=n.match(r),u=s&&s[1];u&&(e[xr(u)]=oh(i))}return e}get eventTargetName(){return nh(this.eventTarget)}get keyMappings(){return this.schema.keyMappings}keyFilterDissatisfied(e,r){let[n,i,s,u]=wn.map(p=>r.includes(p));return e.metaKey!==n||e.ctrlKey!==i||e.altKey!==s||e.shiftKey!==u}},An={a:()=>"click",button:()=>"click",form:()=>"submit",details:()=>"toggle",input:t=>t.getAttribute("type")=="submit"?"click":"input",select:()=>"change",textarea:()=>"input"};function sh(t){let e=t.tagName.toLowerCase();if(e in An)return An[e](t)}function xt(t){throw new Error(t)}function oh(t){try{return JSON.parse(t)}catch{return t}}var er=class{constructor(e,r){this.context=e,this.action=r}get index(){return this.action.index}get eventTarget(){return this.action.eventTarget}get eventOptions(){return this.action.eventOptions}get identifier(){return this.context.identifier}handleEvent(e){let r=this.prepareActionEvent(e);this.willBeInvokedByEvent(e)&&this.applyEventModifiers(r)&&this.invokeWithEvent(r)}get eventName(){return this.action.eventName}get method(){let e=this.controller[this.methodName];if(typeof e=="function")return e;throw new Error(`Action "${this.action}" references undefined method "${this.methodName}"`)}applyEventModifiers(e){let{element:r}=this.action,{actionDescriptorFilters:n}=this.context.application,{controller:i}=this.context,s=!0;for(let[u,p]of Object.entries(this.eventOptions))if(u in n){let y=n[u];s=s&&y({name:u,value:p,event:e,element:r,controller:i})}else continue;return s}prepareActionEvent(e){return Object.assign(e,{params:this.action.params})}invokeWithEvent(e){let{target:r,currentTarget:n}=e;try{this.method.call(this.controller,e),this.context.logDebugActivity(this.methodName,{event:e,target:r,currentTarget:n,action:this.methodName})}catch(i){let{identifier:s,controller:u,element:p,index:y}=this,O={identifier:s,controller:u,element:p,index:y,event:e};this.context.handleError(i,`invoking action "${this.action}"`,O)}}willBeInvokedByEvent(e){let r=e.target;return e instanceof KeyboardEvent&&this.action.shouldIgnoreKeyboardEvent(e)||e instanceof MouseEvent&&this.action.shouldIgnoreMouseEvent(e)?!1:this.element===r?!0:r instanceof Element&&this.element.contains(r)?this.scope.containsElement(r):this.scope.containsElement(this.action.element)}get controller(){return this.context.controller}get methodName(){return this.action.methodName}get element(){return this.scope.element}get scope(){return this.context.scope}},vt=class{constructor(e,r){this.mutationObserverInit={attributes:!0,childList:!0,subtree:!0},this.element=e,this.started=!1,this.delegate=r,this.elements=new Set,this.mutationObserver=new MutationObserver(n=>this.processMutations(n))}start(){this.started||(this.started=!0,this.mutationObserver.observe(this.element,this.mutationObserverInit),this.refresh())}pause(e){this.started&&(this.mutationObserver.disconnect(),this.started=!1),e(),this.started||(this.mutationObserver.observe(this.element,this.mutationObserverInit),this.started=!0)}stop(){this.started&&(this.mutationObserver.takeRecords(),this.mutationObserver.disconnect(),this.started=!1)}refresh(){if(this.started){let e=new Set(this.matchElementsInTree());for(let r of Array.from(this.elements))e.has(r)||this.removeElement(r);for(let r of Array.from(e))this.addElement(r)}}processMutations(e){if(this.started)for(let r of e)this.processMutation(r)}processMutation(e){e.type=="attributes"?this.processAttributeChange(e.target,e.attributeName):e.type=="childList"&&(this.processRemovedNodes(e.removedNodes),this.processAddedNodes(e.addedNodes))}processAttributeChange(e,r){this.elements.has(e)?this.delegate.elementAttributeChanged&&this.matchElement(e)?this.delegate.elementAttributeChanged(e,r):this.removeElement(e):this.matchElement(e)&&this.addElement(e)}processRemovedNodes(e){for(let r of Array.from(e)){let n=this.elementFromNode(r);n&&this.processTree(n,this.removeElement)}}processAddedNodes(e){for(let r of Array.from(e)){let n=this.elementFromNode(r);n&&this.elementIsActive(n)&&this.processTree(n,this.addElement)}}matchElement(e){return this.delegate.matchElement(e)}matchElementsInTree(e=this.element){return this.delegate.matchElementsInTree(e)}processTree(e,r){for(let n of this.matchElementsInTree(e))r.call(this,n)}elementFromNode(e){if(e.nodeType==Node.ELEMENT_NODE)return e}elementIsActive(e){return e.isConnected!=this.element.isConnected?!1:this.element.contains(e)}addElement(e){this.elements.has(e)||this.elementIsActive(e)&&(this.elements.add(e),this.delegate.elementMatched&&this.delegate.elementMatched(e))}removeElement(e){this.elements.has(e)&&(this.elements.delete(e),this.delegate.elementUnmatched&&this.delegate.elementUnmatched(e))}},yt=class{constructor(e,r,n){this.attributeName=r,this.delegate=n,this.elementObserver=new vt(e,this)}get element(){return this.elementObserver.element}get selector(){return`[${this.attributeName}]`}start(){this.elementObserver.start()}pause(e){this.elementObserver.pause(e)}stop(){this.elementObserver.stop()}refresh(){this.elementObserver.refresh()}get started(){return this.elementObserver.started}matchElement(e){return e.hasAttribute(this.attributeName)}matchElementsInTree(e){let r=this.matchElement(e)?[e]:[],n=Array.from(e.querySelectorAll(this.selector));return r.concat(n)}elementMatched(e){this.delegate.elementMatchedAttribute&&this.delegate.elementMatchedAttribute(e,this.attributeName)}elementUnmatched(e){this.delegate.elementUnmatchedAttribute&&this.delegate.elementUnmatchedAttribute(e,this.attributeName)}elementAttributeChanged(e,r){this.delegate.elementAttributeValueChanged&&this.attributeName==r&&this.delegate.elementAttributeValueChanged(e,r)}};function ah(t,e,r){Mn(t,e).add(r)}function ch(t,e,r){Mn(t,e).delete(r),uh(t,e)}function Mn(t,e){let r=t.get(e);return r||(r=new Set,t.set(e,r)),r}function uh(t,e){let r=t.get(e);r!=null&&r.size==0&&t.delete(e)}var me=class{constructor(){this.valuesByKey=new Map}get keys(){return Array.from(this.valuesByKey.keys())}get values(){return Array.from(this.valuesByKey.values()).reduce((r,n)=>r.concat(Array.from(n)),[])}get size(){return Array.from(this.valuesByKey.values()).reduce((r,n)=>r+n.size,0)}add(e,r){ah(this.valuesByKey,e,r)}delete(e,r){ch(this.valuesByKey,e,r)}has(e,r){let n=this.valuesByKey.get(e);return n!=null&&n.has(r)}hasKey(e){return this.valuesByKey.has(e)}hasValue(e){return Array.from(this.valuesByKey.values()).some(n=>n.has(e))}getValuesForKey(e){let r=this.valuesByKey.get(e);return r?Array.from(r):[]}getKeysForValue(e){return Array.from(this.valuesByKey).filter(([r,n])=>n.has(e)).map(([r,n])=>r)}};var tr=class{constructor(e,r,n,i){this._selector=r,this.details=i,this.elementObserver=new vt(e,this),this.delegate=n,this.matchesByElement=new me}get started(){return this.elementObserver.started}get selector(){return this._selector}set selector(e){this._selector=e,this.refresh()}start(){this.elementObserver.start()}pause(e){this.elementObserver.pause(e)}stop(){this.elementObserver.stop()}refresh(){this.elementObserver.refresh()}get element(){return this.elementObserver.element}matchElement(e){let{selector:r}=this;if(r){let n=e.matches(r);return this.delegate.selectorMatchElement?n&&this.delegate.selectorMatchElement(e,this.details):n}else return!1}matchElementsInTree(e){let{selector:r}=this;if(r){let n=this.matchElement(e)?[e]:[],i=Array.from(e.querySelectorAll(r)).filter(s=>this.matchElement(s));return n.concat(i)}else return[]}elementMatched(e){let{selector:r}=this;r&&this.selectorMatched(e,r)}elementUnmatched(e){let r=this.matchesByElement.getKeysForValue(e);for(let n of r)this.selectorUnmatched(e,n)}elementAttributeChanged(e,r){let{selector:n}=this;if(n){let i=this.matchElement(e),s=this.matchesByElement.has(n,e);i&&!s?this.selectorMatched(e,n):!i&&s&&this.selectorUnmatched(e,n)}}selectorMatched(e,r){this.delegate.selectorMatched(e,r,this.details),this.matchesByElement.add(r,e)}selectorUnmatched(e,r){this.delegate.selectorUnmatched(e,r,this.details),this.matchesByElement.delete(r,e)}},rr=class{constructor(e,r){this.element=e,this.delegate=r,this.started=!1,this.stringMap=new Map,this.mutationObserver=new MutationObserver(n=>this.processMutations(n))}start(){this.started||(this.started=!0,this.mutationObserver.observe(this.element,{attributes:!0,attributeOldValue:!0}),this.refresh())}stop(){this.started&&(this.mutationObserver.takeRecords(),this.mutationObserver.disconnect(),this.started=!1)}refresh(){if(this.started)for(let e of this.knownAttributeNames)this.refreshAttribute(e,null)}processMutations(e){if(this.started)for(let r of e)this.processMutation(r)}processMutation(e){let r=e.attributeName;r&&this.refreshAttribute(r,e.oldValue)}refreshAttribute(e,r){let n=this.delegate.getStringMapKeyForAttribute(e);if(n!=null){this.stringMap.has(e)||this.stringMapKeyAdded(n,e);let i=this.element.getAttribute(e);if(this.stringMap.get(e)!=i&&this.stringMapValueChanged(i,n,r),i==null){let s=this.stringMap.get(e);this.stringMap.delete(e),s&&this.stringMapKeyRemoved(n,e,s)}else this.stringMap.set(e,i)}}stringMapKeyAdded(e,r){this.delegate.stringMapKeyAdded&&this.delegate.stringMapKeyAdded(e,r)}stringMapValueChanged(e,r,n){this.delegate.stringMapValueChanged&&this.delegate.stringMapValueChanged(e,r,n)}stringMapKeyRemoved(e,r,n){this.delegate.stringMapKeyRemoved&&this.delegate.stringMapKeyRemoved(e,r,n)}get knownAttributeNames(){return Array.from(new Set(this.currentAttributeNames.concat(this.recordedAttributeNames)))}get currentAttributeNames(){return Array.from(this.element.attributes).map(e=>e.name)}get recordedAttributeNames(){return Array.from(this.stringMap.keys())}},Ot=class{constructor(e,r,n){this.attributeObserver=new yt(e,r,this),this.delegate=n,this.tokensByElement=new me}get started(){return this.attributeObserver.started}start(){this.attributeObserver.start()}pause(e){this.attributeObserver.pause(e)}stop(){this.attributeObserver.stop()}refresh(){this.attributeObserver.refresh()}get element(){return this.attributeObserver.element}get attributeName(){return this.attributeObserver.attributeName}elementMatchedAttribute(e){this.tokensMatched(this.readTokensForElement(e))}elementAttributeValueChanged(e){let[r,n]=this.refreshTokensForElement(e);this.tokensUnmatched(r),this.tokensMatched(n)}elementUnmatchedAttribute(e){this.tokensUnmatched(this.tokensByElement.getValuesForKey(e))}tokensMatched(e){e.forEach(r=>this.tokenMatched(r))}tokensUnmatched(e){e.forEach(r=>this.tokenUnmatched(r))}tokenMatched(e){this.delegate.tokenMatched(e),this.tokensByElement.add(e.element,e)}tokenUnmatched(e){this.delegate.tokenUnmatched(e),this.tokensByElement.delete(e.element,e)}refreshTokensForElement(e){let r=this.tokensByElement.getValuesForKey(e),n=this.readTokensForElement(e),i=fh(r,n).findIndex(([s,u])=>!hh(s,u));return i==-1?[[],[]]:[r.slice(i),n.slice(i)]}readTokensForElement(e){let r=this.attributeName,n=e.getAttribute(r)||"";return lh(n,e,r)}};function lh(t,e,r){return t.trim().split(/\s+/).filter(n=>n.length).map((n,i)=>({element:e,attributeName:r,content:n,index:i}))}function fh(t,e){let r=Math.max(t.length,e.length);return Array.from({length:r},(n,i)=>[t[i],e[i]])}function hh(t,e){return t&&e&&t.index==e.index&&t.content==e.content}var wt=class{constructor(e,r,n){this.tokenListObserver=new Ot(e,r,this),this.delegate=n,this.parseResultsByToken=new WeakMap,this.valuesByTokenByElement=new WeakMap}get started(){return this.tokenListObserver.started}start(){this.tokenListObserver.start()}stop(){this.tokenListObserver.stop()}refresh(){this.tokenListObserver.refresh()}get element(){return this.tokenListObserver.element}get attributeName(){return this.tokenListObserver.attributeName}tokenMatched(e){let{element:r}=e,{value:n}=this.fetchParseResultForToken(e);n&&(this.fetchValuesByTokenForElement(r).set(e,n),this.delegate.elementMatchedValue(r,n))}tokenUnmatched(e){let{element:r}=e,{value:n}=this.fetchParseResultForToken(e);n&&(this.fetchValuesByTokenForElement(r).delete(e),this.delegate.elementUnmatchedValue(r,n))}fetchParseResultForToken(e){let r=this.parseResultsByToken.get(e);return r||(r=this.parseToken(e),this.parseResultsByToken.set(e,r)),r}fetchValuesByTokenForElement(e){let r=this.valuesByTokenByElement.get(e);return r||(r=new Map,this.valuesByTokenByElement.set(e,r)),r}parseToken(e){try{return{value:this.delegate.parseValueForToken(e)}}catch(r){return{error:r}}}},nr=class{constructor(e,r){this.context=e,this.delegate=r,this.bindingsByAction=new Map}start(){this.valueListObserver||(this.valueListObserver=new wt(this.element,this.actionAttribute,this),this.valueListObserver.start())}stop(){this.valueListObserver&&(this.valueListObserver.stop(),delete this.valueListObserver,this.disconnectAllActions())}get element(){return this.context.element}get identifier(){return this.context.identifier}get actionAttribute(){return this.schema.actionAttribute}get schema(){return this.context.schema}get bindings(){return Array.from(this.bindingsByAction.values())}connectAction(e){let r=new er(this.context,e);this.bindingsByAction.set(e,r),this.delegate.bindingConnected(r)}disconnectAction(e){let r=this.bindingsByAction.get(e);r&&(this.bindingsByAction.delete(e),this.delegate.bindingDisconnected(r))}disconnectAllActions(){this.bindings.forEach(e=>this.delegate.bindingDisconnected(e,!0)),this.bindingsByAction.clear()}parseValueForToken(e){let r=Qt.forToken(e,this.schema);if(r.identifier==this.identifier)return r}elementMatchedValue(e,r){this.connectAction(r)}elementUnmatchedValue(e,r){this.disconnectAction(r)}},ir=class{constructor(e,r){this.context=e,this.receiver=r,this.stringMapObserver=new rr(this.element,this),this.valueDescriptorMap=this.controller.valueDescriptorMap}start(){this.stringMapObserver.start(),this.invokeChangedCallbacksForDefaultValues()}stop(){this.stringMapObserver.stop()}get element(){return this.context.element}get controller(){return this.context.controller}getStringMapKeyForAttribute(e){if(e in this.valueDescriptorMap)return this.valueDescriptorMap[e].name}stringMapKeyAdded(e,r){let n=this.valueDescriptorMap[r];this.hasValue(e)||this.invokeChangedCallback(e,n.writer(this.receiver[e]),n.writer(n.defaultValue))}stringMapValueChanged(e,r,n){let i=this.valueDescriptorNameMap[r];e!==null&&(n===null&&(n=i.writer(i.defaultValue)),this.invokeChangedCallback(r,e,n))}stringMapKeyRemoved(e,r,n){let i=this.valueDescriptorNameMap[e];this.hasValue(e)?this.invokeChangedCallback(e,i.writer(this.receiver[e]),n):this.invokeChangedCallback(e,i.writer(i.defaultValue),n)}invokeChangedCallbacksForDefaultValues(){for(let{key:e,name:r,defaultValue:n,writer:i}of this.valueDescriptors)n!=null&&!this.controller.data.has(e)&&this.invokeChangedCallback(r,i(n),void 0)}invokeChangedCallback(e,r,n){let i=`${e}Changed`,s=this.receiver[i];if(typeof s=="function"){let u=this.valueDescriptorNameMap[e];try{let p=u.reader(r),y=n;n&&(y=u.reader(n)),s.call(this.receiver,p,y)}catch(p){throw p instanceof TypeError&&(p.message=`Stimulus Value "${this.context.identifier}.${u.name}" - ${p.message}`),p}}}get valueDescriptors(){let{valueDescriptorMap:e}=this;return Object.keys(e).map(r=>e[r])}get valueDescriptorNameMap(){let e={};return Object.keys(this.valueDescriptorMap).forEach(r=>{let n=this.valueDescriptorMap[r];e[n.name]=n}),e}hasValue(e){let r=this.valueDescriptorNameMap[e],n=`has${Ve(r.name)}`;return this.receiver[n]}},sr=class{constructor(e,r){this.context=e,this.delegate=r,this.targetsByName=new me}start(){this.tokenListObserver||(this.tokenListObserver=new Ot(this.element,this.attributeName,this),this.tokenListObserver.start())}stop(){this.tokenListObserver&&(this.disconnectAllTargets(),this.tokenListObserver.stop(),delete this.tokenListObserver)}tokenMatched({element:e,content:r}){this.scope.containsElement(e)&&this.connectTarget(e,r)}tokenUnmatched({element:e,content:r}){this.disconnectTarget(e,r)}connectTarget(e,r){var n;this.targetsByName.has(r,e)||(this.targetsByName.add(r,e),(n=this.tokenListObserver)===null||n===void 0||n.pause(()=>this.delegate.targetConnected(e,r)))}disconnectTarget(e,r){var n;this.targetsByName.has(r,e)&&(this.targetsByName.delete(r,e),(n=this.tokenListObserver)===null||n===void 0||n.pause(()=>this.delegate.targetDisconnected(e,r)))}disconnectAllTargets(){for(let e of this.targetsByName.keys)for(let r of this.targetsByName.getValuesForKey(e))this.disconnectTarget(r,e)}get attributeName(){return`data-${this.context.identifier}-target`}get element(){return this.context.element}get scope(){return this.context.scope}};function He(t,e){let r=Fn(t);return Array.from(r.reduce((n,i)=>(dh(i,e).forEach(s=>n.add(s)),n),new Set))}function ph(t,e){return Fn(t).reduce((n,i)=>(n.push(...gh(i,e)),n),[])}function Fn(t){let e=[];for(;t;)e.push(t),t=Object.getPrototypeOf(t);return e.reverse()}function dh(t,e){let r=t[e];return Array.isArray(r)?r:[]}function gh(t,e){let r=t[e];return r?Object.keys(r).map(n=>[n,r[n]]):[]}var or=class{constructor(e,r){this.started=!1,this.context=e,this.delegate=r,this.outletsByName=new me,this.outletElementsByName=new me,this.selectorObserverMap=new Map,this.attributeObserverMap=new Map}start(){this.started||(this.outletDefinitions.forEach(e=>{this.setupSelectorObserverForOutlet(e),this.setupAttributeObserverForOutlet(e)}),this.started=!0,this.dependentContexts.forEach(e=>e.refresh()))}refresh(){this.selectorObserverMap.forEach(e=>e.refresh()),this.attributeObserverMap.forEach(e=>e.refresh())}stop(){this.started&&(this.started=!1,this.disconnectAllOutlets(),this.stopSelectorObservers(),this.stopAttributeObservers())}stopSelectorObservers(){this.selectorObserverMap.size>0&&(this.selectorObserverMap.forEach(e=>e.stop()),this.selectorObserverMap.clear())}stopAttributeObservers(){this.attributeObserverMap.size>0&&(this.attributeObserverMap.forEach(e=>e.stop()),this.attributeObserverMap.clear())}selectorMatched(e,r,{outletName:n}){let i=this.getOutlet(e,n);i&&this.connectOutlet(i,e,n)}selectorUnmatched(e,r,{outletName:n}){let i=this.getOutletFromMap(e,n);i&&this.disconnectOutlet(i,e,n)}selectorMatchElement(e,{outletName:r}){let n=this.selector(r),i=this.hasOutlet(e,r),s=e.matches(`[${this.schema.controllerAttribute}~=${r}]`);return n?i&&s&&e.matches(n):!1}elementMatchedAttribute(e,r){let n=this.getOutletNameFromOutletAttributeName(r);n&&this.updateSelectorObserverForOutlet(n)}elementAttributeValueChanged(e,r){let n=this.getOutletNameFromOutletAttributeName(r);n&&this.updateSelectorObserverForOutlet(n)}elementUnmatchedAttribute(e,r){let n=this.getOutletNameFromOutletAttributeName(r);n&&this.updateSelectorObserverForOutlet(n)}connectOutlet(e,r,n){var i;this.outletElementsByName.has(n,r)||(this.outletsByName.add(n,e),this.outletElementsByName.add(n,r),(i=this.selectorObserverMap.get(n))===null||i===void 0||i.pause(()=>this.delegate.outletConnected(e,r,n)))}disconnectOutlet(e,r,n){var i;this.outletElementsByName.has(n,r)&&(this.outletsByName.delete(n,e),this.outletElementsByName.delete(n,r),(i=this.selectorObserverMap.get(n))===null||i===void 0||i.pause(()=>this.delegate.outletDisconnected(e,r,n)))}disconnectAllOutlets(){for(let e of this.outletElementsByName.keys)for(let r of this.outletElementsByName.getValuesForKey(e))for(let n of this.outletsByName.getValuesForKey(e))this.disconnectOutlet(n,r,e)}updateSelectorObserverForOutlet(e){let r=this.selectorObserverMap.get(e);r&&(r.selector=this.selector(e))}setupSelectorObserverForOutlet(e){let r=this.selector(e),n=new tr(document.body,r,this,{outletName:e});this.selectorObserverMap.set(e,n),n.start()}setupAttributeObserverForOutlet(e){let r=this.attributeNameForOutletName(e),n=new yt(this.scope.element,r,this);this.attributeObserverMap.set(e,n),n.start()}selector(e){return this.scope.outlets.getSelectorForOutletName(e)}attributeNameForOutletName(e){return this.scope.schema.outletAttributeForScope(this.identifier,e)}getOutletNameFromOutletAttributeName(e){return this.outletDefinitions.find(r=>this.attributeNameForOutletName(r)===e)}get outletDependencies(){let e=new me;return this.router.modules.forEach(r=>{let n=r.definition.controllerConstructor;He(n,"outlets").forEach(s=>e.add(s,r.identifier))}),e}get outletDefinitions(){return this.outletDependencies.getKeysForValue(this.identifier)}get dependentControllerIdentifiers(){return this.outletDependencies.getValuesForKey(this.identifier)}get dependentContexts(){let e=this.dependentControllerIdentifiers;return this.router.contexts.filter(r=>e.includes(r.identifier))}hasOutlet(e,r){return!!this.getOutlet(e,r)||!!this.getOutletFromMap(e,r)}getOutlet(e,r){return this.application.getControllerForElementAndIdentifier(e,r)}getOutletFromMap(e,r){return this.outletsByName.getValuesForKey(r).find(n=>n.element===e)}get scope(){return this.context.scope}get schema(){return this.context.schema}get identifier(){return this.context.identifier}get application(){return this.context.application}get router(){return this.application.router}},ar=class{constructor(e,r){this.logDebugActivity=(n,i={})=>{let{identifier:s,controller:u,element:p}=this;i=Object.assign({identifier:s,controller:u,element:p},i),this.application.logDebugActivity(this.identifier,n,i)},this.module=e,this.scope=r,this.controller=new e.controllerConstructor(this),this.bindingObserver=new nr(this,this.dispatcher),this.valueObserver=new ir(this,this.controller),this.targetObserver=new sr(this,this),this.outletObserver=new or(this,this);try{this.controller.initialize(),this.logDebugActivity("initialize")}catch(n){this.handleError(n,"initializing controller")}}connect(){this.bindingObserver.start(),this.valueObserver.start(),this.targetObserver.start(),this.outletObserver.start();try{this.controller.connect(),this.logDebugActivity("connect")}catch(e){this.handleError(e,"connecting controller")}}refresh(){this.outletObserver.refresh()}disconnect(){try{this.controller.disconnect(),this.logDebugActivity("disconnect")}catch(e){this.handleError(e,"disconnecting controller")}this.outletObserver.stop(),this.targetObserver.stop(),this.valueObserver.stop(),this.bindingObserver.stop()}get application(){return this.module.application}get identifier(){return this.module.identifier}get schema(){return this.application.schema}get dispatcher(){return this.application.dispatcher}get element(){return this.scope.element}get parentElement(){return this.element.parentElement}handleError(e,r,n={}){let{identifier:i,controller:s,element:u}=this;n=Object.assign({identifier:i,controller:s,element:u},n),this.application.handleError(e,`Error ${r}`,n)}targetConnected(e,r){this.invokeControllerMethod(`${r}TargetConnected`,e)}targetDisconnected(e,r){this.invokeControllerMethod(`${r}TargetDisconnected`,e)}outletConnected(e,r,n){this.invokeControllerMethod(`${Jt(n)}OutletConnected`,e,r)}outletDisconnected(e,r,n){this.invokeControllerMethod(`${Jt(n)}OutletDisconnected`,e,r)}invokeControllerMethod(e,...r){let n=this.controller;typeof n[e]=="function"&&n[e](...r)}};function mh(t){return bh(t,xh(t))}function bh(t,e){let r=wh(t),n=vh(t.prototype,e);return Object.defineProperties(r.prototype,n),r}function xh(t){return He(t,"blessings").reduce((r,n)=>{let i=n(t);for(let s in i){let u=r[s]||{};r[s]=Object.assign(u,i[s])}return r},{})}function vh(t,e){return Oh(e).reduce((r,n)=>{let i=yh(t,e,n);return i&&Object.assign(r,{[n]:i}),r},{})}function yh(t,e,r){let n=Object.getOwnPropertyDescriptor(t,r);if(!(n&&"value"in n)){let s=Object.getOwnPropertyDescriptor(e,r).value;return n&&(s.get=n.get||s.get,s.set=n.set||s.set),s}}var Oh=typeof Object.getOwnPropertySymbols=="function"?t=>[...Object.getOwnPropertyNames(t),...Object.getOwnPropertySymbols(t)]:Object.getOwnPropertyNames,wh=(()=>{function t(r){function n(){return Reflect.construct(r,arguments,new.target)}return n.prototype=Object.create(r.prototype,{constructor:{value:n}}),Reflect.setPrototypeOf(n,r),n}function e(){let n=t(function(){this.a.call(this)});return n.prototype.a=function(){},new n}try{return e(),t}catch{return n=>class extends n{}}})();function Ah(t){return{identifier:t.identifier,controllerConstructor:mh(t.controllerConstructor)}}var cr=class{constructor(e,r){this.application=e,this.definition=Ah(r),this.contextsByScope=new WeakMap,this.connectedContexts=new Set}get identifier(){return this.definition.identifier}get controllerConstructor(){return this.definition.controllerConstructor}get contexts(){return Array.from(this.connectedContexts)}connectContextForScope(e){let r=this.fetchContextForScope(e);this.connectedContexts.add(r),r.connect()}disconnectContextForScope(e){let r=this.contextsByScope.get(e);r&&(this.connectedContexts.delete(r),r.disconnect())}fetchContextForScope(e){let r=this.contextsByScope.get(e);return r||(r=new ar(this,e),this.contextsByScope.set(e,r)),r}},ur=class{constructor(e){this.scope=e}has(e){return this.data.has(this.getDataKey(e))}get(e){return this.getAll(e)[0]}getAll(e){let r=this.data.get(this.getDataKey(e))||"";return ih(r)}getAttributeName(e){return this.data.getAttributeNameForKey(this.getDataKey(e))}getDataKey(e){return`${e}-class`}get data(){return this.scope.data}},lr=class{constructor(e){this.scope=e}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get(e){let r=this.getAttributeNameForKey(e);return this.element.getAttribute(r)}set(e,r){let n=this.getAttributeNameForKey(e);return this.element.setAttribute(n,r),this.get(e)}has(e){let r=this.getAttributeNameForKey(e);return this.element.hasAttribute(r)}delete(e){if(this.has(e)){let r=this.getAttributeNameForKey(e);return this.element.removeAttribute(r),!0}else return!1}getAttributeNameForKey(e){return`data-${this.identifier}-${Nn(e)}`}},fr=class{constructor(e){this.warnedKeysByObject=new WeakMap,this.logger=e}warn(e,r,n){let i=this.warnedKeysByObject.get(e);i||(i=new Set,this.warnedKeysByObject.set(e,i)),i.has(r)||(i.add(r),this.logger.warn(n,e))}};function hr(t,e){return`[${t}~="${e}"]`}var pr=class{constructor(e){this.scope=e}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get schema(){return this.scope.schema}has(e){return this.find(e)!=null}find(...e){return e.reduce((r,n)=>r||this.findTarget(n)||this.findLegacyTarget(n),void 0)}findAll(...e){return e.reduce((r,n)=>[...r,...this.findAllTargets(n),...this.findAllLegacyTargets(n)],[])}findTarget(e){let r=this.getSelectorForTargetName(e);return this.scope.findElement(r)}findAllTargets(e){let r=this.getSelectorForTargetName(e);return this.scope.findAllElements(r)}getSelectorForTargetName(e){let r=this.schema.targetAttributeForScope(this.identifier);return hr(r,e)}findLegacyTarget(e){let r=this.getLegacySelectorForTargetName(e);return this.deprecate(this.scope.findElement(r),e)}findAllLegacyTargets(e){let r=this.getLegacySelectorForTargetName(e);return this.scope.findAllElements(r).map(n=>this.deprecate(n,e))}getLegacySelectorForTargetName(e){let r=`${this.identifier}.${e}`;return hr(this.schema.targetAttribute,r)}deprecate(e,r){if(e){let{identifier:n}=this,i=this.schema.targetAttribute,s=this.schema.targetAttributeForScope(n);this.guide.warn(e,`target:${r}`,`Please replace ${i}="${n}.${r}" with ${s}="${r}". The ${i} attribute is deprecated and will be removed in a future version of Stimulus.`)}return e}get guide(){return this.scope.guide}},dr=class{constructor(e,r){this.scope=e,this.controllerElement=r}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get schema(){return this.scope.schema}has(e){return this.find(e)!=null}find(...e){return e.reduce((r,n)=>r||this.findOutlet(n),void 0)}findAll(...e){return e.reduce((r,n)=>[...r,...this.findAllOutlets(n)],[])}getSelectorForOutletName(e){let r=this.schema.outletAttributeForScope(this.identifier,e);return this.controllerElement.getAttribute(r)}findOutlet(e){let r=this.getSelectorForOutletName(e);if(r)return this.findElement(r,e)}findAllOutlets(e){let r=this.getSelectorForOutletName(e);return r?this.findAllElements(r,e):[]}findElement(e,r){return this.scope.queryElements(e).filter(i=>this.matchesElement(i,e,r))[0]}findAllElements(e,r){return this.scope.queryElements(e).filter(i=>this.matchesElement(i,e,r))}matchesElement(e,r,n){let i=e.getAttribute(this.scope.schema.controllerAttribute)||"";return e.matches(r)&&i.split(" ").includes(n)}},gr=class t{constructor(e,r,n,i){this.targets=new pr(this),this.classes=new ur(this),this.data=new lr(this),this.containsElement=s=>s.closest(this.controllerSelector)===this.element,this.schema=e,this.element=r,this.identifier=n,this.guide=new fr(i),this.outlets=new dr(this.documentScope,r)}findElement(e){return this.element.matches(e)?this.element:this.queryElements(e).find(this.containsElement)}findAllElements(e){return[...this.element.matches(e)?[this.element]:[],...this.queryElements(e).filter(this.containsElement)]}queryElements(e){return Array.from(this.element.querySelectorAll(e))}get controllerSelector(){return hr(this.schema.controllerAttribute,this.identifier)}get isDocumentScope(){return this.element===document.documentElement}get documentScope(){return this.isDocumentScope?this:new t(this.schema,document.documentElement,this.identifier,this.guide.logger)}},mr=class{constructor(e,r,n){this.element=e,this.schema=r,this.delegate=n,this.valueListObserver=new wt(this.element,this.controllerAttribute,this),this.scopesByIdentifierByElement=new WeakMap,this.scopeReferenceCounts=new WeakMap}start(){this.valueListObserver.start()}stop(){this.valueListObserver.stop()}get controllerAttribute(){return this.schema.controllerAttribute}parseValueForToken(e){let{element:r,content:n}=e;return this.parseValueForElementAndIdentifier(r,n)}parseValueForElementAndIdentifier(e,r){let n=this.fetchScopesByIdentifierForElement(e),i=n.get(r);return i||(i=this.delegate.createScopeForElementAndIdentifier(e,r),n.set(r,i)),i}elementMatchedValue(e,r){let n=(this.scopeReferenceCounts.get(r)||0)+1;this.scopeReferenceCounts.set(r,n),n==1&&this.delegate.scopeConnected(r)}elementUnmatchedValue(e,r){let n=this.scopeReferenceCounts.get(r);n&&(this.scopeReferenceCounts.set(r,n-1),n==1&&this.delegate.scopeDisconnected(r))}fetchScopesByIdentifierForElement(e){let r=this.scopesByIdentifierByElement.get(e);return r||(r=new Map,this.scopesByIdentifierByElement.set(e,r)),r}},br=class{constructor(e){this.application=e,this.scopeObserver=new mr(this.element,this.schema,this),this.scopesByIdentifier=new me,this.modulesByIdentifier=new Map}get element(){return this.application.element}get schema(){return this.application.schema}get logger(){return this.application.logger}get controllerAttribute(){return this.schema.controllerAttribute}get modules(){return Array.from(this.modulesByIdentifier.values())}get contexts(){return this.modules.reduce((e,r)=>e.concat(r.contexts),[])}start(){this.scopeObserver.start()}stop(){this.scopeObserver.stop()}loadDefinition(e){this.unloadIdentifier(e.identifier);let r=new cr(this.application,e);this.connectModule(r);let n=e.controllerConstructor.afterLoad;n&&n.call(e.controllerConstructor,e.identifier,this.application)}unloadIdentifier(e){let r=this.modulesByIdentifier.get(e);r&&this.disconnectModule(r)}getContextForElementAndIdentifier(e,r){let n=this.modulesByIdentifier.get(r);if(n)return n.contexts.find(i=>i.element==e)}proposeToConnectScopeForElementAndIdentifier(e,r){let n=this.scopeObserver.parseValueForElementAndIdentifier(e,r);n?this.scopeObserver.elementMatchedValue(n.element,n):console.error(`Couldn't find or create scope for identifier: "${r}" and element:`,e)}handleError(e,r,n){this.application.handleError(e,r,n)}createScopeForElementAndIdentifier(e,r){return new gr(this.schema,e,r,this.logger)}scopeConnected(e){this.scopesByIdentifier.add(e.identifier,e);let r=this.modulesByIdentifier.get(e.identifier);r&&r.connectContextForScope(e)}scopeDisconnected(e){this.scopesByIdentifier.delete(e.identifier,e);let r=this.modulesByIdentifier.get(e.identifier);r&&r.disconnectContextForScope(e)}connectModule(e){this.modulesByIdentifier.set(e.identifier,e),this.scopesByIdentifier.getValuesForKey(e.identifier).forEach(n=>e.connectContextForScope(n))}disconnectModule(e){this.modulesByIdentifier.delete(e.identifier),this.scopesByIdentifier.getValuesForKey(e.identifier).forEach(n=>e.disconnectContextForScope(n))}},Sh={controllerAttribute:"data-controller",actionAttribute:"data-action",targetAttribute:"data-target",targetAttributeForScope:t=>`data-${t}-target`,outletAttributeForScope:(t,e)=>`data-${t}-${e}-outlet`,keyMappings:Object.assign(Object.assign({enter:"Enter",tab:"Tab",esc:"Escape",space:" ",up:"ArrowUp",down:"ArrowDown",left:"ArrowLeft",right:"ArrowRight",home:"Home",end:"End",page_up:"PageUp",page_down:"PageDown"},Sn("abcdefghijklmnopqrstuvwxyz".split("").map(t=>[t,t]))),Sn("0123456789".split("").map(t=>[t,t])))};function Sn(t){return t.reduce((e,[r,n])=>Object.assign(Object.assign({},e),{[r]:n}),{})}var At=class{constructor(e=document.documentElement,r=Sh){this.logger=console,this.debug=!1,this.logDebugActivity=(n,i,s={})=>{this.debug&&this.logFormattedMessage(n,i,s)},this.element=e,this.schema=r,this.dispatcher=new Yt(this),this.router=new br(this),this.actionDescriptorFilters=Object.assign({},Xf)}static start(e,r){let n=new this(e,r);return n.start(),n}async start(){await Eh(),this.logDebugActivity("application","starting"),this.dispatcher.start(),this.router.start(),this.logDebugActivity("application","start")}stop(){this.logDebugActivity("application","stopping"),this.dispatcher.stop(),this.router.stop(),this.logDebugActivity("application","stop")}register(e,r){this.load({identifier:e,controllerConstructor:r})}registerActionOption(e,r){this.actionDescriptorFilters[e]=r}load(e,...r){(Array.isArray(e)?e:[e,...r]).forEach(i=>{i.controllerConstructor.shouldLoad&&this.router.loadDefinition(i)})}unload(e,...r){(Array.isArray(e)?e:[e,...r]).forEach(i=>this.router.unloadIdentifier(i))}get controllers(){return this.router.contexts.map(e=>e.controller)}getControllerForElementAndIdentifier(e,r){let n=this.router.getContextForElementAndIdentifier(e,r);return n?n.controller:null}handleError(e,r,n){var i;this.logger.error(`%s

%o

%o`,r,e,n),(i=window.onerror)===null||i===void 0||i.call(window,r,"",0,0,e)}logFormattedMessage(e,r,n={}){n=Object.assign({application:this},n),this.logger.groupCollapsed(`${e} #${r}`),this.logger.log("details:",Object.assign({},n)),this.logger.groupEnd()}};function Eh(){return new Promise(t=>{document.readyState=="loading"?document.addEventListener("DOMContentLoaded",()=>t()):t()})}function Th(t){return He(t,"classes").reduce((r,n)=>Object.assign(r,_h(n)),{})}function _h(t){return{[`${t}Class`]:{get(){let{classes:e}=this;if(e.has(t))return e.get(t);{let r=e.getAttributeName(t);throw new Error(`Missing attribute "${r}"`)}}},[`${t}Classes`]:{get(){return this.classes.getAll(t)}},[`has${Ve(t)}Class`]:{get(){return this.classes.has(t)}}}}function qh(t){return He(t,"outlets").reduce((r,n)=>Object.assign(r,Ch(n)),{})}function En(t,e,r){return t.application.getControllerForElementAndIdentifier(e,r)}function Tn(t,e,r){let n=En(t,e,r);if(n||(t.application.router.proposeToConnectScopeForElementAndIdentifier(e,r),n=En(t,e,r),n))return n}function Ch(t){let e=Jt(t);return{[`${e}Outlet`]:{get(){let r=this.outlets.find(t),n=this.outlets.getSelectorForOutletName(t);if(r){let i=Tn(this,r,t);if(i)return i;throw new Error(`The provided outlet element is missing an outlet controller "${t}" instance for host controller "${this.identifier}"`)}throw new Error(`Missing outlet element "${t}" for host controller "${this.identifier}". Stimulus couldn't find a matching outlet element using selector "${n}".`)}},[`${e}Outlets`]:{get(){let r=this.outlets.findAll(t);return r.length>0?r.map(n=>{let i=Tn(this,n,t);if(i)return i;console.warn(`The provided outlet element is missing an outlet controller "${t}" instance for host controller "${this.identifier}"`,n)}).filter(n=>n):[]}},[`${e}OutletElement`]:{get(){let r=this.outlets.find(t),n=this.outlets.getSelectorForOutletName(t);if(r)return r;throw new Error(`Missing outlet element "${t}" for host controller "${this.identifier}". Stimulus couldn't find a matching outlet element using selector "${n}".`)}},[`${e}OutletElements`]:{get(){return this.outlets.findAll(t)}},[`has${Ve(e)}Outlet`]:{get(){return this.outlets.has(t)}}}}function Nh(t){return He(t,"targets").reduce((r,n)=>Object.assign(r,Mh(n)),{})}function Mh(t){return{[`${t}Target`]:{get(){let e=this.targets.find(t);if(e)return e;throw new Error(`Missing target element "${t}" for "${this.identifier}" controller`)}},[`${t}Targets`]:{get(){return this.targets.findAll(t)}},[`has${Ve(t)}Target`]:{get(){return this.targets.has(t)}}}}function Fh(t){let e=ph(t,"values"),r={valueDescriptorMap:{get(){return e.reduce((n,i)=>{let s=In(i,this.identifier),u=this.data.getAttributeNameForKey(s.key);return Object.assign(n,{[u]:s})},{})}}};return e.reduce((n,i)=>Object.assign(n,Ih(i)),r)}function Ih(t,e){let r=In(t,e),{key:n,name:i,reader:s,writer:u}=r;return{[i]:{get(){let p=this.data.get(n);return p!==null?s(p):r.defaultValue},set(p){p===void 0?this.data.delete(n):this.data.set(n,u(p))}},[`has${Ve(i)}`]:{get(){return this.data.has(n)||r.hasCustomDefaultValue}}}}function In([t,e],r){return Lh({controller:r,token:t,typeDefinition:e})}function St(t){switch(t){case Array:return"array";case Boolean:return"boolean";case Number:return"number";case Object:return"object";case String:return"string"}}function Ke(t){switch(typeof t){case"boolean":return"boolean";case"number":return"number";case"string":return"string"}if(Array.isArray(t))return"array";if(Object.prototype.toString.call(t)==="[object Object]")return"object"}function Dh(t){let{controller:e,token:r,typeObject:n}=t,i=On(n.type),s=On(n.default),u=i&&s,p=i&&!s,y=!i&&s,O=St(n.type),S=Ke(t.typeObject.default);if(p)return O;if(y)return S;if(O!==S){let E=e?`${e}.${r}`:r;throw new Error(`The specified default value for the Stimulus Value "${E}" must match the defined type "${O}". The provided default value of "${n.default}" is of type "${S}".`)}if(u)return O}function kh(t){let{controller:e,token:r,typeDefinition:n}=t,s=Dh({controller:e,token:r,typeObject:n}),u=Ke(n),p=St(n),y=s||u||p;if(y)return y;let O=e?`${e}.${n}`:r;throw new Error(`Unknown value type "${O}" for "${r}" value`)}function Ph(t){let e=St(t);if(e)return _n[e];let r=Xt(t,"default"),n=Xt(t,"type"),i=t;if(r)return i.default;if(n){let{type:s}=i,u=St(s);if(u)return _n[u]}return t}function Lh(t){let{token:e,typeDefinition:r}=t,n=`${Nn(e)}-value`,i=kh(t);return{type:i,key:n,name:xr(n),get defaultValue(){return Ph(r)},get hasCustomDefaultValue(){return Ke(r)!==void 0},reader:Bh[i],writer:qn[i]||qn.default}}var _n={get array(){return[]},boolean:!1,number:0,get object(){return{}},string:""},Bh={array(t){let e=JSON.parse(t);if(!Array.isArray(e))throw new TypeError(`expected value of type "array" but instead got value "${t}" of type "${Ke(e)}"`);return e},boolean(t){return!(t=="0"||String(t).toLowerCase()=="false")},number(t){return Number(t.replace(/_/g,""))},object(t){let e=JSON.parse(t);if(e===null||typeof e!="object"||Array.isArray(e))throw new TypeError(`expected value of type "object" but instead got value "${t}" of type "${Ke(e)}"`);return e},string(t){return t}},qn={default:jh,array:Cn,object:Cn};function Cn(t){return JSON.stringify(t)}function jh(t){return`${t}`}var xe=class{constructor(e){this.context=e}static get shouldLoad(){return!0}static afterLoad(e,r){}get application(){return this.context.application}get scope(){return this.context.scope}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get targets(){return this.scope.targets}get outlets(){return this.scope.outlets}get classes(){return this.scope.classes}get data(){return this.scope.data}initialize(){}connect(){}disconnect(){}dispatch(e,{target:r=this.element,detail:n={},prefix:i=this.identifier,bubbles:s=!0,cancelable:u=!0}={}){let p=i?`${i}:${e}`:e,y=new CustomEvent(p,{detail:n,bubbles:s,cancelable:u});return r.dispatchEvent(y),y}};xe.blessings=[Th,Nh,Fh,qh];xe.targets=[];xe.outlets=[];xe.values={};var Bf=ge(Er()),jf=ge(qs()),$f=ge(Aa());var Xa=ge(Ja()),tx=(t,e)=>{let r=[],n=[];return r.push(e),e||r.push(t.locale),t.enableFallback&&r.push(t.defaultLocale),r.filter(Boolean).map(i=>i.toString()).forEach(function(i){if(n.includes(i)||n.push(i),!t.enableFallback)return;let s=i.split("-");s.length===3&&n.push(`${s[0]}-${s[1]}`),n.push(s[0])}),(0,Xa.default)(n)},ot=class{constructor(e){this.i18n=e,this.registry={},this.register("default",tx)}register(e,r){if(typeof r!="function"){let n=r;r=()=>n}this.registry[e]=r}get(e){let r=this.registry[e]||this.registry[this.i18n.locale]||this.registry.default;return typeof r=="function"&&(r=r(this.i18n,e)),r instanceof Array||(r=[r]),r}};var Qa=(t,e)=>{let r=String(t).split("."),n=!r[1],i=Number(r[0])==t,s=i&&r[0].slice(-1),u=i&&r[0].slice(-2);return e?s==1&&u!=11?"one":s==2&&u!=12?"two":s==3&&u!=13?"few":"other":t==1&&n?"one":"other"};function ec({pluralizer:t,includeZero:e=!0,ordinal:r=!1}){return function(n,i){return[e&&i===0?"zero":"",t(i,r)].filter(Boolean)}}var rx=ec({pluralizer:Qa,includeZero:!0}),at=class{constructor(e){this.i18n=e,this.registry={},this.register("default",rx)}register(e,r){this.registry[e]=r}get(e){return this.registry[e]||this.registry[this.i18n.locale]||this.registry.default}};var au=ge(ou());function te(t){return t?Object.keys(t).reduce((e,r)=>(e[(0,au.default)(r)]=t[r],e),{}):{}}function Z(t){return t!=null}function Gr(t,e,r){let n=[{scope:e}];if(Z(r.defaults)&&(n=n.concat(r.defaults)),Z(r.defaultValue)){let i=typeof r.defaultValue=="function"?r.defaultValue(t,e,r):r.defaultValue;n.push({message:i}),delete r.defaultValue}return n}var Vv=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,Wr=Math.ceil,oe=Math.floor,J="[BigNumber Error] ",cu=J+"Number primitive has more than 15 significant digits: ",le=1e14,M=14,Zr=9007199254740991,Yr=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],Oe=1e7,K=1e9;function uu(t){var e,r,n,i=A.prototype={constructor:A,toString:null,valueOf:null},s=new A(1),u=20,p=4,y=-7,O=21,S=-1e7,E=1e7,T=!1,N=1,C=0,P={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"\xA0",suffix:""},L="0123456789abcdefghijklmnopqrstuvwxyz",z=!0;function A(o,a){var c,b,h,g,v,f,d,x,m=this;if(!(m instanceof A))return new A(o,a);if(a==null){if(o&&o._isBigNumber===!0){m.s=o.s,!o.c||o.e>E?m.c=m.e=null:o.e<S?m.c=[m.e=0]:(m.e=o.e,m.c=o.c.slice());return}if((f=typeof o=="number")&&o*0==0){if(m.s=1/o<0?(o=-o,-1):1,o===~~o){for(g=0,v=o;v>=10;v/=10,g++);g>E?m.c=m.e=null:(m.e=g,m.c=[o]);return}x=String(o)}else{if(!Vv.test(x=String(o)))return n(m,x,f);m.s=x.charCodeAt(0)==45?(x=x.slice(1),-1):1}(g=x.indexOf("."))>-1&&(x=x.replace(".","")),(v=x.search(/e/i))>0?(g<0&&(g=v),g+=+x.slice(v+1),x=x.substring(0,v)):g<0&&(g=x.length)}else{if(j(a,2,L.length,"Base"),a==10&&z)return m=new A(o),G(m,u+m.e+1,p);if(x=String(o),f=typeof o=="number"){if(o*0!=0)return n(m,x,f,a);if(m.s=1/o<0?(x=x.slice(1),-1):1,A.DEBUG&&x.replace(/^0\.0*|\./,"").length>15)throw Error(cu+o)}else m.s=x.charCodeAt(0)===45?(x=x.slice(1),-1):1;for(c=L.slice(0,a),g=v=0,d=x.length;v<d;v++)if(c.indexOf(b=x.charAt(v))<0){if(b=="."){if(v>g){g=d;continue}}else if(!h&&(x==x.toUpperCase()&&(x=x.toLowerCase())||x==x.toLowerCase()&&(x=x.toUpperCase()))){h=!0,v=-1,g=0;continue}return n(m,String(o),f,a)}f=!1,x=r(x,a,10,m.s),(g=x.indexOf("."))>-1?x=x.replace(".",""):g=x.length}for(v=0;x.charCodeAt(v)===48;v++);for(d=x.length;x.charCodeAt(--d)===48;);if(x=x.slice(v,++d)){if(d-=v,f&&A.DEBUG&&d>15&&(o>Zr||o!==oe(o)))throw Error(cu+m.s*o);if((g=g-v-1)>E)m.c=m.e=null;else if(g<S)m.c=[m.e=0];else{if(m.e=g,m.c=[],v=(g+1)%M,g<0&&(v+=M),v<d){for(v&&m.c.push(+x.slice(0,v)),d-=M;v<d;)m.c.push(+x.slice(v,v+=M));v=M-(x=x.slice(v)).length}else v-=d;for(;v--;x+="0");m.c.push(+x)}}else m.c=[m.e=0]}A.clone=uu,A.ROUND_UP=0,A.ROUND_DOWN=1,A.ROUND_CEIL=2,A.ROUND_FLOOR=3,A.ROUND_HALF_UP=4,A.ROUND_HALF_DOWN=5,A.ROUND_HALF_EVEN=6,A.ROUND_HALF_CEIL=7,A.ROUND_HALF_FLOOR=8,A.EUCLID=9,A.config=A.set=function(o){var a,c;if(o!=null)if(typeof o=="object"){if(o.hasOwnProperty(a="DECIMAL_PLACES")&&(c=o[a],j(c,0,K,a),u=c),o.hasOwnProperty(a="ROUNDING_MODE")&&(c=o[a],j(c,0,8,a),p=c),o.hasOwnProperty(a="EXPONENTIAL_AT")&&(c=o[a],c&&c.pop?(j(c[0],-K,0,a),j(c[1],0,K,a),y=c[0],O=c[1]):(j(c,-K,K,a),y=-(O=c<0?-c:c))),o.hasOwnProperty(a="RANGE"))if(c=o[a],c&&c.pop)j(c[0],-K,-1,a),j(c[1],1,K,a),S=c[0],E=c[1];else if(j(c,-K,K,a),c)S=-(E=c<0?-c:c);else throw Error(J+a+" cannot be zero: "+c);if(o.hasOwnProperty(a="CRYPTO"))if(c=o[a],c===!!c)if(c)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))T=c;else throw T=!c,Error(J+"crypto unavailable");else T=c;else throw Error(J+a+" not true or false: "+c);if(o.hasOwnProperty(a="MODULO_MODE")&&(c=o[a],j(c,0,9,a),N=c),o.hasOwnProperty(a="POW_PRECISION")&&(c=o[a],j(c,0,K,a),C=c),o.hasOwnProperty(a="FORMAT"))if(c=o[a],typeof c=="object")P=c;else throw Error(J+a+" not an object: "+c);if(o.hasOwnProperty(a="ALPHABET"))if(c=o[a],typeof c=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(c))z=c.slice(0,10)=="0123456789",L=c;else throw Error(J+a+" invalid: "+c)}else throw Error(J+"Object expected: "+o);return{DECIMAL_PLACES:u,ROUNDING_MODE:p,EXPONENTIAL_AT:[y,O],RANGE:[S,E],CRYPTO:T,MODULO_MODE:N,POW_PRECISION:C,FORMAT:P,ALPHABET:L}},A.isBigNumber=function(o){if(!o||o._isBigNumber!==!0)return!1;if(!A.DEBUG)return!0;var a,c,b=o.c,h=o.e,g=o.s;e:if({}.toString.call(b)=="[object Array]"){if((g===1||g===-1)&&h>=-K&&h<=K&&h===oe(h)){if(b[0]===0){if(h===0&&b.length===1)return!0;break e}if(a=(h+1)%M,a<1&&(a+=M),String(b[0]).length==a){for(a=0;a<b.length;a++)if(c=b[a],c<0||c>=le||c!==oe(c))break e;if(c!==0)return!0}}}else if(b===null&&h===null&&(g===null||g===1||g===-1))return!0;throw Error(J+"Invalid BigNumber: "+o)},A.maximum=A.max=function(){return Y(arguments,-1)},A.minimum=A.min=function(){return Y(arguments,1)},A.random=function(){var o=9007199254740992,a=Math.random()*o&2097151?function(){return oe(Math.random()*o)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(c){var b,h,g,v,f,d=0,x=[],m=new A(s);if(c==null?c=u:j(c,0,K),v=Wr(c/M),T)if(crypto.getRandomValues){for(b=crypto.getRandomValues(new Uint32Array(v*=2));d<v;)f=b[d]*131072+(b[d+1]>>>11),f>=9e15?(h=crypto.getRandomValues(new Uint32Array(2)),b[d]=h[0],b[d+1]=h[1]):(x.push(f%1e14),d+=2);d=v/2}else if(crypto.randomBytes){for(b=crypto.randomBytes(v*=7);d<v;)f=(b[d]&31)*281474976710656+b[d+1]*1099511627776+b[d+2]*4294967296+b[d+3]*16777216+(b[d+4]<<16)+(b[d+5]<<8)+b[d+6],f>=9e15?crypto.randomBytes(7).copy(b,d):(x.push(f%1e14),d+=7);d=v/7}else throw T=!1,Error(J+"crypto unavailable");if(!T)for(;d<v;)f=a(),f<9e15&&(x[d++]=f%1e14);for(v=x[--d],c%=M,v&&c&&(f=Yr[M-c],x[d]=oe(v/f)*f);x[d]===0;x.pop(),d--);if(d<0)x=[g=0];else{for(g=-1;x[0]===0;x.splice(0,1),g-=M);for(d=1,f=x[0];f>=10;f/=10,d++);d<M&&(g-=M-d)}return m.e=g,m.c=x,m}}(),A.sum=function(){for(var o=1,a=arguments,c=new A(a[0]);o<a.length;)c=c.plus(a[o++]);return c},r=function(){var o="0123456789";function a(c,b,h,g){for(var v,f=[0],d,x=0,m=c.length;x<m;){for(d=f.length;d--;f[d]*=b);for(f[0]+=g.indexOf(c.charAt(x++)),v=0;v<f.length;v++)f[v]>h-1&&(f[v+1]==null&&(f[v+1]=0),f[v+1]+=f[v]/h|0,f[v]%=h)}return f.reverse()}return function(c,b,h,g,v){var f,d,x,m,w,_,q,I,$=c.indexOf("."),U=u,F=p;for($>=0&&(m=C,C=0,c=c.replace(".",""),I=new A(b),_=I.pow(c.length-$),C=m,I.c=a(be(se(_.c),_.e,"0"),10,h,o),I.e=I.c.length),q=a(c,b,h,v?(f=L,o):(f=o,L)),x=m=q.length;q[--m]==0;q.pop());if(!q[0])return f.charAt(0);if($<0?--x:(_.c=q,_.e=x,_.s=g,_=e(_,I,U,F,h),q=_.c,w=_.r,x=_.e),d=x+U+1,$=q[d],m=h/2,w=w||d<0||q[d+1]!=null,w=F<4?($!=null||w)&&(F==0||F==(_.s<0?3:2)):$>m||$==m&&(F==4||w||F==6&&q[d-1]&1||F==(_.s<0?8:7)),d<1||!q[0])c=w?be(f.charAt(1),-U,f.charAt(0)):f.charAt(0);else{if(q.length=d,w)for(--h;++q[--d]>h;)q[d]=0,d||(++x,q=[1].concat(q));for(m=q.length;!q[--m];);for($=0,c="";$<=m;c+=f.charAt(q[$++]));c=be(c,x,f.charAt(0))}return c}}(),e=function(){function o(b,h,g){var v,f,d,x,m=0,w=b.length,_=h%Oe,q=h/Oe|0;for(b=b.slice();w--;)d=b[w]%Oe,x=b[w]/Oe|0,v=q*d+x*_,f=_*d+v%Oe*Oe+m,m=(f/g|0)+(v/Oe|0)+q*x,b[w]=f%g;return m&&(b=[m].concat(b)),b}function a(b,h,g,v){var f,d;if(g!=v)d=g>v?1:-1;else for(f=d=0;f<g;f++)if(b[f]!=h[f]){d=b[f]>h[f]?1:-1;break}return d}function c(b,h,g,v){for(var f=0;g--;)b[g]-=f,f=b[g]<h[g]?1:0,b[g]=f*v+b[g]-h[g];for(;!b[0]&&b.length>1;b.splice(0,1));}return function(b,h,g,v,f){var d,x,m,w,_,q,I,$,U,F,D,V,bt,Gt,Wt,he,ze,ne=b.s==h.s?1:-1,W=b.c,R=h.c;if(!W||!W[0]||!R||!R[0])return new A(!b.s||!h.s||(W?R&&W[0]==R[0]:!R)?NaN:W&&W[0]==0||!R?ne*0:ne/0);for($=new A(ne),U=$.c=[],x=b.e-h.e,ne=g+x+1,f||(f=le,x=ae(b.e/M)-ae(h.e/M),ne=ne/M|0),m=0;R[m]==(W[m]||0);m++);if(R[m]>(W[m]||0)&&x--,ne<0)U.push(1),w=!0;else{for(Gt=W.length,he=R.length,m=0,ne+=2,_=oe(f/(R[0]+1)),_>1&&(R=o(R,_,f),W=o(W,_,f),he=R.length,Gt=W.length),bt=he,F=W.slice(0,he),D=F.length;D<he;F[D++]=0);ze=R.slice(),ze=[0].concat(ze),Wt=R[0],R[1]>=f/2&&Wt++;do{if(_=0,d=a(R,F,he,D),d<0){if(V=F[0],he!=D&&(V=V*f+(F[1]||0)),_=oe(V/Wt),_>1)for(_>=f&&(_=f-1),q=o(R,_,f),I=q.length,D=F.length;a(q,F,I,D)==1;)_--,c(q,he<I?ze:R,I,f),I=q.length,d=1;else _==0&&(d=_=1),q=R.slice(),I=q.length;if(I<D&&(q=[0].concat(q)),c(F,q,D,f),D=F.length,d==-1)for(;a(R,F,he,D)<1;)_++,c(F,he<D?ze:R,D,f),D=F.length}else d===0&&(_++,F=[0]);U[m++]=_,F[0]?F[D++]=W[bt]||0:(F=[W[bt]],D=1)}while((bt++<Gt||F[0]!=null)&&ne--);w=F[0]!=null,U[0]||U.splice(0,1)}if(f==le){for(m=1,ne=U[0];ne>=10;ne/=10,m++);G($,g+($.e=m+x*M-1)+1,v,w)}else $.e=x,$.r=+w;return $}}();function Q(o,a,c,b){var h,g,v,f,d;if(c==null?c=p:j(c,0,8),!o.c)return o.toString();if(h=o.c[0],v=o.e,a==null)d=se(o.c),d=b==1||b==2&&(v<=y||v>=O)?$t(d,v):be(d,v,"0");else if(o=G(new A(o),a,c),g=o.e,d=se(o.c),f=d.length,b==1||b==2&&(a<=g||g<=y)){for(;f<a;d+="0",f++);d=$t(d,g)}else if(a-=v,d=be(d,g,"0"),g+1>f){if(--a>0)for(d+=".";a--;d+="0");}else if(a+=g-f,a>0)for(g+1==f&&(d+=".");a--;d+="0");return o.s<0&&h?"-"+d:d}function Y(o,a){for(var c,b,h=1,g=new A(o[0]);h<o.length;h++)b=new A(o[h]),(!b.s||(c=Te(g,b))===a||c===0&&g.s===a)&&(g=b);return g}function H(o,a,c){for(var b=1,h=a.length;!a[--h];a.pop());for(h=a[0];h>=10;h/=10,b++);return(c=b+c*M-1)>E?o.c=o.e=null:c<S?o.c=[o.e=0]:(o.e=c,o.c=a),o}n=function(){var o=/^(-?)0([xbo])(?=\w[\w.]*$)/i,a=/^([^.]+)\.$/,c=/^\.([^.]+)$/,b=/^-?(Infinity|NaN)$/,h=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(g,v,f,d){var x,m=f?v:v.replace(h,"");if(b.test(m))g.s=isNaN(m)?null:m<0?-1:1;else{if(!f&&(m=m.replace(o,function(w,_,q){return x=(q=q.toLowerCase())=="x"?16:q=="b"?2:8,!d||d==x?_:w}),d&&(x=d,m=m.replace(a,"$1").replace(c,"0.$1")),v!=m))return new A(m,x);if(A.DEBUG)throw Error(J+"Not a"+(d?" base "+d:"")+" number: "+v);g.s=null}g.c=g.e=null}}();function G(o,a,c,b){var h,g,v,f,d,x,m,w=o.c,_=Yr;if(w){e:{for(h=1,f=w[0];f>=10;f/=10,h++);if(g=a-h,g<0)g+=M,v=a,d=w[x=0],m=oe(d/_[h-v-1]%10);else if(x=Wr((g+1)/M),x>=w.length)if(b){for(;w.length<=x;w.push(0));d=m=0,h=1,g%=M,v=g-M+1}else break e;else{for(d=f=w[x],h=1;f>=10;f/=10,h++);g%=M,v=g-M+h,m=v<0?0:oe(d/_[h-v-1]%10)}if(b=b||a<0||w[x+1]!=null||(v<0?d:d%_[h-v-1]),b=c<4?(m||b)&&(c==0||c==(o.s<0?3:2)):m>5||m==5&&(c==4||b||c==6&&(g>0?v>0?d/_[h-v]:0:w[x-1])%10&1||c==(o.s<0?8:7)),a<1||!w[0])return w.length=0,b?(a-=o.e+1,w[0]=_[(M-a%M)%M],o.e=-a||0):w[0]=o.e=0,o;if(g==0?(w.length=x,f=1,x--):(w.length=x+1,f=_[M-g],w[x]=v>0?oe(d/_[h-v]%_[v])*f:0),b)for(;;)if(x==0){for(g=1,v=w[0];v>=10;v/=10,g++);for(v=w[0]+=f,f=1;v>=10;v/=10,f++);g!=f&&(o.e++,w[0]==le&&(w[0]=1));break}else{if(w[x]+=f,w[x]!=le)break;w[x--]=0,f=1}for(g=w.length;w[--g]===0;w.pop());}o.e>E?o.c=o.e=null:o.e<S&&(o.c=[o.e=0])}return o}function ee(o){var a,c=o.e;return c===null?o.toString():(a=se(o.c),a=c<=y||c>=O?$t(a,c):be(a,c,"0"),o.s<0?"-"+a:a)}return i.absoluteValue=i.abs=function(){var o=new A(this);return o.s<0&&(o.s=1),o},i.comparedTo=function(o,a){return Te(this,new A(o,a))},i.decimalPlaces=i.dp=function(o,a){var c,b,h,g=this;if(o!=null)return j(o,0,K),a==null?a=p:j(a,0,8),G(new A(g),o+g.e+1,a);if(!(c=g.c))return null;if(b=((h=c.length-1)-ae(this.e/M))*M,h=c[h])for(;h%10==0;h/=10,b--);return b<0&&(b=0),b},i.dividedBy=i.div=function(o,a){return e(this,new A(o,a),u,p)},i.dividedToIntegerBy=i.idiv=function(o,a){return e(this,new A(o,a),0,1)},i.exponentiatedBy=i.pow=function(o,a){var c,b,h,g,v,f,d,x,m,w=this;if(o=new A(o),o.c&&!o.isInteger())throw Error(J+"Exponent not an integer: "+ee(o));if(a!=null&&(a=new A(a)),f=o.e>14,!w.c||!w.c[0]||w.c[0]==1&&!w.e&&w.c.length==1||!o.c||!o.c[0])return m=new A(Math.pow(+ee(w),f?o.s*(2-jt(o)):+ee(o))),a?m.mod(a):m;if(d=o.s<0,a){if(a.c?!a.c[0]:!a.s)return new A(NaN);b=!d&&w.isInteger()&&a.isInteger(),b&&(w=w.mod(a))}else{if(o.e>9&&(w.e>0||w.e<-1||(w.e==0?w.c[0]>1||f&&w.c[1]>=24e7:w.c[0]<8e13||f&&w.c[0]<=9999975e7)))return g=w.s<0&&jt(o)?-0:0,w.e>-1&&(g=1/g),new A(d?1/g:g);C&&(g=Wr(C/M+2))}for(f?(c=new A(.5),d&&(o.s=1),x=jt(o)):(h=Math.abs(+ee(o)),x=h%2),m=new A(s);;){if(x){if(m=m.times(w),!m.c)break;g?m.c.length>g&&(m.c.length=g):b&&(m=m.mod(a))}if(h){if(h=oe(h/2),h===0)break;x=h%2}else if(o=o.times(c),G(o,o.e+1,1),o.e>14)x=jt(o);else{if(h=+ee(o),h===0)break;x=h%2}w=w.times(w),g?w.c&&w.c.length>g&&(w.c.length=g):b&&(w=w.mod(a))}return b?m:(d&&(m=s.div(m)),a?m.mod(a):g?G(m,C,p,v):m)},i.integerValue=function(o){var a=new A(this);return o==null?o=p:j(o,0,8),G(a,a.e+1,o)},i.isEqualTo=i.eq=function(o,a){return Te(this,new A(o,a))===0},i.isFinite=function(){return!!this.c},i.isGreaterThan=i.gt=function(o,a){return Te(this,new A(o,a))>0},i.isGreaterThanOrEqualTo=i.gte=function(o,a){return(a=Te(this,new A(o,a)))===1||a===0},i.isInteger=function(){return!!this.c&&ae(this.e/M)>this.c.length-2},i.isLessThan=i.lt=function(o,a){return Te(this,new A(o,a))<0},i.isLessThanOrEqualTo=i.lte=function(o,a){return(a=Te(this,new A(o,a)))===-1||a===0},i.isNaN=function(){return!this.s},i.isNegative=function(){return this.s<0},i.isPositive=function(){return this.s>0},i.isZero=function(){return!!this.c&&this.c[0]==0},i.minus=function(o,a){var c,b,h,g,v=this,f=v.s;if(o=new A(o,a),a=o.s,!f||!a)return new A(NaN);if(f!=a)return o.s=-a,v.plus(o);var d=v.e/M,x=o.e/M,m=v.c,w=o.c;if(!d||!x){if(!m||!w)return m?(o.s=-a,o):new A(w?v:NaN);if(!m[0]||!w[0])return w[0]?(o.s=-a,o):new A(m[0]?v:p==3?-0:0)}if(d=ae(d),x=ae(x),m=m.slice(),f=d-x){for((g=f<0)?(f=-f,h=m):(x=d,h=w),h.reverse(),a=f;a--;h.push(0));h.reverse()}else for(b=(g=(f=m.length)<(a=w.length))?f:a,f=a=0;a<b;a++)if(m[a]!=w[a]){g=m[a]<w[a];break}if(g&&(h=m,m=w,w=h,o.s=-o.s),a=(b=w.length)-(c=m.length),a>0)for(;a--;m[c++]=0);for(a=le-1;b>f;){if(m[--b]<w[b]){for(c=b;c&&!m[--c];m[c]=a);--m[c],m[b]+=le}m[b]-=w[b]}for(;m[0]==0;m.splice(0,1),--x);return m[0]?H(o,m,x):(o.s=p==3?-1:1,o.c=[o.e=0],o)},i.modulo=i.mod=function(o,a){var c,b,h=this;return o=new A(o,a),!h.c||!o.s||o.c&&!o.c[0]?new A(NaN):!o.c||h.c&&!h.c[0]?new A(h):(N==9?(b=o.s,o.s=1,c=e(h,o,0,3),o.s=b,c.s*=b):c=e(h,o,0,N),o=h.minus(c.times(o)),!o.c[0]&&N==1&&(o.s=h.s),o)},i.multipliedBy=i.times=function(o,a){var c,b,h,g,v,f,d,x,m,w,_,q,I,$,U,F=this,D=F.c,V=(o=new A(o,a)).c;if(!D||!V||!D[0]||!V[0])return!F.s||!o.s||D&&!D[0]&&!V||V&&!V[0]&&!D?o.c=o.e=o.s=null:(o.s*=F.s,!D||!V?o.c=o.e=null:(o.c=[0],o.e=0)),o;for(b=ae(F.e/M)+ae(o.e/M),o.s*=F.s,d=D.length,w=V.length,d<w&&(I=D,D=V,V=I,h=d,d=w,w=h),h=d+w,I=[];h--;I.push(0));for($=le,U=Oe,h=w;--h>=0;){for(c=0,_=V[h]%U,q=V[h]/U|0,v=d,g=h+v;g>h;)x=D[--v]%U,m=D[v]/U|0,f=q*x+m*_,x=_*x+f%U*U+I[g]+c,c=(x/$|0)+(f/U|0)+q*m,I[g--]=x%$;I[g]=c}return c?++b:I.splice(0,1),H(o,I,b)},i.negated=function(){var o=new A(this);return o.s=-o.s||null,o},i.plus=function(o,a){var c,b=this,h=b.s;if(o=new A(o,a),a=o.s,!h||!a)return new A(NaN);if(h!=a)return o.s=-a,b.minus(o);var g=b.e/M,v=o.e/M,f=b.c,d=o.c;if(!g||!v){if(!f||!d)return new A(h/0);if(!f[0]||!d[0])return d[0]?o:new A(f[0]?b:h*0)}if(g=ae(g),v=ae(v),f=f.slice(),h=g-v){for(h>0?(v=g,c=d):(h=-h,c=f),c.reverse();h--;c.push(0));c.reverse()}for(h=f.length,a=d.length,h-a<0&&(c=d,d=f,f=c,a=h),h=0;a;)h=(f[--a]=f[a]+d[a]+h)/le|0,f[a]=le===f[a]?0:f[a]%le;return h&&(f=[h].concat(f),++v),H(o,f,v)},i.precision=i.sd=function(o,a){var c,b,h,g=this;if(o!=null&&o!==!!o)return j(o,1,K),a==null?a=p:j(a,0,8),G(new A(g),o,a);if(!(c=g.c))return null;if(h=c.length-1,b=h*M+1,h=c[h]){for(;h%10==0;h/=10,b--);for(h=c[0];h>=10;h/=10,b++);}return o&&g.e+1>b&&(b=g.e+1),b},i.shiftedBy=function(o){return j(o,-Zr,Zr),this.times("1e"+o)},i.squareRoot=i.sqrt=function(){var o,a,c,b,h,g=this,v=g.c,f=g.s,d=g.e,x=u+4,m=new A("0.5");if(f!==1||!v||!v[0])return new A(!f||f<0&&(!v||v[0])?NaN:v?g:1/0);if(f=Math.sqrt(+ee(g)),f==0||f==1/0?(a=se(v),(a.length+d)%2==0&&(a+="0"),f=Math.sqrt(+a),d=ae((d+1)/2)-(d<0||d%2),f==1/0?a="5e"+d:(a=f.toExponential(),a=a.slice(0,a.indexOf("e")+1)+d),c=new A(a)):c=new A(f+""),c.c[0]){for(d=c.e,f=d+x,f<3&&(f=0);;)if(h=c,c=m.times(h.plus(e(g,h,x,1))),se(h.c).slice(0,f)===(a=se(c.c)).slice(0,f))if(c.e<d&&--f,a=a.slice(f-3,f+1),a=="9999"||!b&&a=="4999"){if(!b&&(G(h,h.e+u+2,0),h.times(h).eq(g))){c=h;break}x+=4,f+=4,b=1}else{(!+a||!+a.slice(1)&&a.charAt(0)=="5")&&(G(c,c.e+u+2,1),o=!c.times(c).eq(g));break}}return G(c,c.e+u+1,p,o)},i.toExponential=function(o,a){return o!=null&&(j(o,0,K),o++),Q(this,o,a,1)},i.toFixed=function(o,a){return o!=null&&(j(o,0,K),o=o+this.e+1),Q(this,o,a)},i.toFormat=function(o,a,c){var b,h=this;if(c==null)o!=null&&a&&typeof a=="object"?(c=a,a=null):o&&typeof o=="object"?(c=o,o=a=null):c=P;else if(typeof c!="object")throw Error(J+"Argument not an object: "+c);if(b=h.toFixed(o,a),h.c){var g,v=b.split("."),f=+c.groupSize,d=+c.secondaryGroupSize,x=c.groupSeparator||"",m=v[0],w=v[1],_=h.s<0,q=_?m.slice(1):m,I=q.length;if(d&&(g=f,f=d,d=g,I-=g),f>0&&I>0){for(g=I%f||f,m=q.substr(0,g);g<I;g+=f)m+=x+q.substr(g,f);d>0&&(m+=x+q.slice(g)),_&&(m="-"+m)}b=w?m+(c.decimalSeparator||"")+((d=+c.fractionGroupSize)?w.replace(new RegExp("\\d{"+d+"}\\B","g"),"$&"+(c.fractionGroupSeparator||"")):w):m}return(c.prefix||"")+b+(c.suffix||"")},i.toFraction=function(o){var a,c,b,h,g,v,f,d,x,m,w,_,q=this,I=q.c;if(o!=null&&(f=new A(o),!f.isInteger()&&(f.c||f.s!==1)||f.lt(s)))throw Error(J+"Argument "+(f.isInteger()?"out of range: ":"not an integer: ")+ee(f));if(!I)return new A(q);for(a=new A(s),x=c=new A(s),b=d=new A(s),_=se(I),g=a.e=_.length-q.e-1,a.c[0]=Yr[(v=g%M)<0?M+v:v],o=!o||f.comparedTo(a)>0?g>0?a:x:f,v=E,E=1/0,f=new A(_),d.c[0]=0;m=e(f,a,0,1),h=c.plus(m.times(b)),h.comparedTo(o)!=1;)c=b,b=h,x=d.plus(m.times(h=x)),d=h,a=f.minus(m.times(h=a)),f=h;return h=e(o.minus(c),b,0,1),d=d.plus(h.times(x)),c=c.plus(h.times(b)),d.s=x.s=q.s,g=g*2,w=e(x,b,g,p).minus(q).abs().comparedTo(e(d,c,g,p).minus(q).abs())<1?[x,b]:[d,c],E=v,w},i.toNumber=function(){return+ee(this)},i.toPrecision=function(o,a){return o!=null&&j(o,1,K),Q(this,o,a,2)},i.toString=function(o){var a,c=this,b=c.s,h=c.e;return h===null?b?(a="Infinity",b<0&&(a="-"+a)):a="NaN":(o==null?a=h<=y||h>=O?$t(se(c.c),h):be(se(c.c),h,"0"):o===10&&z?(c=G(new A(c),u+h+1,p),a=be(se(c.c),c.e,"0")):(j(o,2,L.length,"Base"),a=r(be(se(c.c),h,"0"),10,o,b,!0)),b<0&&c.c[0]&&(a="-"+a)),a},i.valueOf=i.toJSON=function(){return ee(this)},i._isBigNumber=!0,i[Symbol.toStringTag]="BigNumber",i[Symbol.for("nodejs.util.inspect.custom")]=i.valueOf,t!=null&&A.set(t),A}function ae(t){var e=t|0;return t>0||t===e?e:e-1}function se(t){for(var e,r,n=1,i=t.length,s=t[0]+"";n<i;){for(e=t[n++]+"",r=M-e.length;r--;e="0"+e);s+=e}for(i=s.length;s.charCodeAt(--i)===48;);return s.slice(0,i+1||1)}function Te(t,e){var r,n,i=t.c,s=e.c,u=t.s,p=e.s,y=t.e,O=e.e;if(!u||!p)return null;if(r=i&&!i[0],n=s&&!s[0],r||n)return r?n?0:-p:u;if(u!=p)return u;if(r=u<0,n=y==O,!i||!s)return n?0:!i^r?1:-1;if(!n)return y>O^r?1:-1;for(p=(y=i.length)<(O=s.length)?y:O,u=0;u<p;u++)if(i[u]!=s[u])return i[u]>s[u]^r?1:-1;return y==O?0:y>O^r?1:-1}function j(t,e,r,n){if(t<e||t>r||t!==oe(t))throw Error(J+(n||"Argument")+(typeof t=="number"?t<e||t>r?" out of range: ":" not an integer: ":" not a primitive number: ")+String(t))}function jt(t){var e=t.c.length-1;return ae(t.e/M)==e&&t.c[e]%2!=0}function $t(t,e){return(t.length>1?t.charAt(0)+"."+t.slice(1):t)+(e<0?"e":"e+")+e}function be(t,e,r){var n,i;if(e<0){for(i=r+".";++e;i+=r);t=i+t}else if(n=t.length,++e>n){for(i=r,e-=n;--e;i+=r);t+=i}else e<n&&(t=t.slice(0,e)+"."+t.slice(e));return t}var k=uu();var Rt;(function(t){t[t.up=k.ROUND_UP]="up",t[t.down=k.ROUND_DOWN]="down",t[t.truncate=k.ROUND_DOWN]="truncate",t[t.halfUp=k.ROUND_HALF_UP]="halfUp",t[t.default=k.ROUND_HALF_UP]="default",t[t.halfDown=k.ROUND_HALF_DOWN]="halfDown",t[t.halfEven=k.ROUND_HALF_EVEN]="halfEven",t[t.banker=k.ROUND_HALF_EVEN]="banker",t[t.ceiling=k.ROUND_CEIL]="ceiling",t[t.ceil=k.ROUND_CEIL]="ceil",t[t.floor=k.ROUND_FLOOR]="floor"})(Rt||(Rt={}));function ct(t){var e;return(e=Rt[t])!==null&&e!==void 0?e:Rt.default}var Tu=ge(Eu());function by(t){return t.isZero()?1:Math.floor(Math.log10(t.abs().toNumber())+1)}function xy(t,{precision:e,significant:r}){return r&&e!==null&&e>0?e-by(t):e}function we(t,e){let r=xy(t,e);if(r===null)return t.toString();let n=ct(e.roundMode);if(r>=0)return t.toFixed(r,n);let i=Math.pow(10,Math.abs(r));return t=new k(t.div(i).toFixed(0,n)).times(i),t.toString()}function vy(t,{formattedNumber:e,unit:r}){return t.replace("%n",e).replace("%u",r)}function yy({significand:t,whole:e,precision:r}){if(e==="0"||r===null)return t;let n=Math.max(0,r-e.length);return(t??"").substr(0,n)}function _e(t,e){var r,n,i;let s=new k(t);if(e.raise&&!s.isFinite())throw new Error(`"${t}" is not a valid numeric value`);let u=we(s,e),p=new k(u),y=p.lt(0),O=p.isZero(),[S,E]=u.split("."),T=[],N,C=(r=e.format)!==null&&r!==void 0?r:"%n",P=(n=e.negativeFormat)!==null&&n!==void 0?n:`-${C}`,L=y&&!O?P:C;for(S=S.replace("-","");S.length>0;)T.unshift(S.substr(Math.max(0,S.length-3),3)),S=S.substr(0,S.length-3);return S=T.join(""),N=T.join(e.delimiter),e.significant?E=yy({whole:S,significand:E,precision:e.precision}):E=E??(0,Tu.default)("0",(i=e.precision)!==null&&i!==void 0?i:0),e.stripInsignificantZeros&&E&&(E=E.replace(/0+$/,"")),s.isNaN()&&(N=t.toString()),E&&s.isFinite()&&(N+=(e.separator||".")+E),vy(L,{formattedNumber:N,unit:e.unit})}function fe(t,e,r){let n="";return(e instanceof String||typeof e=="string")&&(n=e),e instanceof Array&&(n=e.join(t.defaultSeparator)),r.scope&&(n=[r.scope,n].join(t.defaultSeparator)),n}function ce(t){var e,r;if(t===null)return"null";let n=typeof t;return n!=="object"?n:((r=(e=t?.constructor)===null||e===void 0?void 0:e.name)===null||r===void 0?void 0:r.toLowerCase())||"object"}function ut(t,e,r){r=Object.keys(r).reduce((i,s)=>(i[t.transformKey(s)]=r[s],i),{});let n=e.match(t.placeholder);if(!n)return e;for(;n.length;){let i,s=n.shift(),u=s.replace(t.placeholder,"$1");Z(r[u])?i=r[u].toString().replace(/\$/gm,"_#$#_"):u in r?i=t.nullPlaceholder(t,s,e,r):i=t.missingPlaceholder(t,s,e,r);let p=new RegExp(s.replace(/\{/gm,"\\{").replace(/\}/gm,"\\}"),"g");e=e.replace(p,i)}return e.replace(/_#\$#_/g,"$")}function X(t,e,r={}){r=Object.assign({},r);let n="locale"in r?r.locale:t.locale,i=ce(n),s=t.locales.get(i==="string"?n:typeof n).slice(),u=fe(t,e,r).split(t.defaultSeparator).map(y=>t.transformKey(y)),p=s.map(y=>u.reduce((O,S)=>O&&O[S],t.translations[y]));return p.push(r.defaultValue),p.find(y=>Z(y))}function Xr(t,e){let r=new k(t);if(!r.isFinite())return t.toString();if(!e.delimiterPattern.global)throw new Error(`options.delimiterPattern must be a global regular expression; received ${e.delimiterPattern}`);let[n,i]=r.toString().split(".");return n=n.replace(e.delimiterPattern,s=>`${s}${e.delimiter}`),[n,i].filter(Boolean).join(e.separator)}var qf=ge(Af()),Cf=ge(_f());var pn={0:"unit",1:"ten",2:"hundred",3:"thousand",6:"million",9:"billion",12:"trillion",15:"quadrillion","-1":"deci","-2":"centi","-3":"mili","-6":"micro","-9":"nano","-12":"pico","-15":"femto"},xA=(0,Cf.default)(Object.values(pn),Object.keys(pn).map(t=>parseInt(t,10)));function dn(t,e,r){let n={roundMode:r.roundMode,precision:r.precision,significant:r.significant},i;if(ce(r.units)==="string"){let E=r.units;if(i=X(t,E),!i)throw new Error(`The scope "${t.locale}${t.defaultSeparator}${fe(t,E,{})}" couldn't be found`)}else i=r.units;let s=we(new k(e),n),u=E=>(0,qf.default)(Object.keys(E).map(T=>xA[T]),T=>T*-1),p=(E,T)=>{let N=E.isZero()?0:Math.floor(Math.log10(E.abs().toNumber()));return u(T).find(C=>N>=C)||0},y=(E,T)=>{let N=pn[T.toString()];return E[N]||""},O=p(new k(s),i),S=y(i,O);if(s=we(new k(s).div(Math.pow(10,O)),n),r.stripInsignificantZeros){let[E,T]=s.split(".");T=(T||"").replace(/0+$/,""),s=E,T&&(s+=`${r.separator}${T}`)}return r.format.replace("%n",s||"0").replace("%u",S).trim()}var Nf=["byte","kb","mb","gb","tb","pb","eb"];function gn(t,e,r){let n=ct(r.roundMode),i=1024,s=new k(e).abs(),u=s.lt(i),p,y=(C,P)=>{let L=P.length-1,z=new k(Math.log(C.toNumber())).div(Math.log(i)).integerValue(k.ROUND_DOWN).toNumber();return Math.min(L,z)},O=C=>`number.human.storage_units.units.${u?"byte":C[S]}`,S=y(s,Nf);u?p=s.integerValue():p=new k(we(s.div(Math.pow(i,S)),{significant:r.significant,precision:r.precision,roundMode:r.roundMode}));let E=t.translate("number.human.storage_units.format",{defaultValue:"%n %u"}),T=t.translate(O(Nf),{count:s.integerValue().toNumber()}),N=p.toFixed(r.precision,n);return r.stripInsignificantZeros&&(N=N.replace(/(\..*?)0+$/,"$1").replace(/\.$/,"")),E.replace("%n",N).replace("%u",T)}function Re(t){if(t instanceof Date)return t;if(typeof t=="number"){let n=new Date;return n.setTime(t),n}let e=new String(t).match(/(\d{4})-(\d{2})-(\d{2})(?:[ T](\d{2}):(\d{2}):(\d{2})(?:[.,](\d{1,3}))?)?(Z|\+00:?00)?/);if(e){let n=e.slice(1,8).map(T=>parseInt(T,10)||0);n[1]-=1;let[i,s,u,p,y,O,S]=n;return e[8]?new Date(Date.UTC(i,s,u,p,y,O,S)):new Date(i,s,u,p,y,O,S)}t.match(/([A-Z][a-z]{2}) ([A-Z][a-z]{2}) (\d+) (\d+:\d+:\d+) ([+-]\d+) (\d+)/)&&new Date().setTime(Date.parse([RegExp.$1,RegExp.$2,RegExp.$3,RegExp.$6,RegExp.$4,RegExp.$5].join(" ")));let r=new Date;return r.setTime(Date.parse(t)),r}function Kt({i18n:t,count:e,scope:r,options:n,baseScope:i}){n=Object.assign({},n);let s,u;if(typeof r=="object"&&r?s=r:s=X(t,r,n),!s)return t.missingTranslation.get(r,n);let y=t.pluralization.get(n.locale)(t,e),O=[];for(;y.length;){let S=y.shift();if(Z(s[S])){u=s[S];break}O.push(S)}return Z(u)?(n.count=e,t.interpolate(t,u,n)):t.missingTranslation.get(i.split(t.defaultSeparator).concat([O[0]]),n)}var vA={meridian:{am:"AM",pm:"PM"},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],abbrDayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],monthNames:[null,"January","February","March","April","May","June","July","August","September","October","November","December"],abbrMonthNames:[null,"Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]};function mn(t,e,r={}){let{abbrDayNames:n,dayNames:i,abbrMonthNames:s,monthNames:u,meridian:p,utc:y}=Object.assign(Object.assign({},vA),r);if(isNaN(t.getTime()))throw new Error("strftime() requires a valid date object, but received an invalid date.");let O=y?t.getUTCDay():t.getDay(),S=y?t.getUTCDate():t.getDate(),E=y?t.getUTCFullYear():t.getFullYear(),T=(y?t.getUTCMonth():t.getMonth())+1,N=y?t.getUTCHours():t.getHours(),C=N,P=N>11?"pm":"am",L=y?t.getUTCSeconds():t.getSeconds(),z=y?t.getUTCMinutes():t.getMinutes(),A=y?0:t.getTimezoneOffset(),Q=Math.floor(Math.abs(A/60)),Y=Math.abs(A)-Q*60,H=(A>0?"-":"+")+(Q.toString().length<2?"0"+Q:Q)+(Y.toString().length<2?"0"+Y:Y);return C>12?C=C-12:C===0&&(C=12),e=e.replace("%a",n[O]),e=e.replace("%A",i[O]),e=e.replace("%b",s[T]),e=e.replace("%B",u[T]),e=e.replace("%d",S.toString().padStart(2,"0")),e=e.replace("%e",S.toString()),e=e.replace("%-d",S.toString()),e=e.replace("%H",N.toString().padStart(2,"0")),e=e.replace("%-H",N.toString()),e=e.replace("%k",N.toString()),e=e.replace("%I",C.toString().padStart(2,"0")),e=e.replace("%-I",C.toString()),e=e.replace("%l",C.toString()),e=e.replace("%m",T.toString().padStart(2,"0")),e=e.replace("%-m",T.toString()),e=e.replace("%M",z.toString().padStart(2,"0")),e=e.replace("%-M",z.toString()),e=e.replace("%p",p[P]),e=e.replace("%P",p[P].toLowerCase()),e=e.replace("%S",L.toString().padStart(2,"0")),e=e.replace("%-S",L.toString()),e=e.replace("%w",O.toString()),e=e.replace("%y",E.toString().padStart(2,"0").substr(-2)),e=e.replace("%-y",E.toString().padStart(2,"0").substr(-2).replace(/^0+/,"")),e=e.replace("%Y",E.toString()),e=e.replace(/%z/i,H),e}var Lf=ge(Pf());var re=(t,e,r)=>r>=t&&r<=e;function xn(t,e,r,n={}){let i=n.scope||"datetime.distance_in_words",s=(ee,o=0)=>t.t(ee,{count:o,scope:i});e=Re(e),r=Re(r);let u=e.getTime()/1e3,p=r.getTime()/1e3;u>p&&([e,r,u,p]=[r,e,p,u]);let y=Math.round(p-u),O=Math.round((p-u)/60),E=O/60/24,T=Math.round(O/60),N=Math.round(E),C=Math.round(N/30);if(re(0,1,O))return n.includeSeconds?re(0,4,y)?s("less_than_x_seconds",5):re(5,9,y)?s("less_than_x_seconds",10):re(10,19,y)?s("less_than_x_seconds",20):re(20,39,y)?s("half_a_minute"):re(40,59,y)?s("less_than_x_minutes",1):s("x_minutes",1):O===0?s("less_than_x_minutes",1):s("x_minutes",O);if(re(2,44,O))return s("x_minutes",O);if(re(45,89,O))return s("about_x_hours",1);if(re(90,1439,O))return s("about_x_hours",T);if(re(1440,2519,O))return s("x_days",1);if(re(2520,43199,O))return s("x_days",N);if(re(43200,86399,O))return s("about_x_months",Math.round(O/43200));if(re(86400,525599,O))return s("x_months",C);let P=e.getFullYear();e.getMonth()+1>=3&&(P+=1);let L=r.getFullYear();r.getMonth()+1<3&&(L-=1);let z=P>L?0:(0,Lf.default)(P,L).filter(ee=>new Date(ee,1,29).getMonth()==1).length,A=525600,Q=z*1440,Y=O-Q,H=Math.trunc(Y/A),G=parseFloat((Y/A-H).toPrecision(3));return G<.25?s("about_x_years",H):G<.75?s("over_x_years",H):s("almost_x_years",H+1)}var qA=function(t,e){e instanceof Array&&(e=e.join(t.defaultSeparator));let r=e.split(t.defaultSeparator).slice(-1)[0];return t.missingTranslationPrefix+r.replace("_"," ").replace(/([a-z])([A-Z])/g,(n,i,s)=>`${i} ${s.toLowerCase()}`)},CA=(t,e,r)=>{let n=fe(t,e,r),i="locale"in r?r.locale:t.locale,s=ce(i);return`[missing "${[s=="string"?i:s,n].join(t.defaultSeparator)}" translation]`},NA=(t,e,r)=>{let n=fe(t,e,r),i=[t.locale,n].join(t.defaultSeparator);throw new Error(`Missing translation: ${i}`)},lt=class{constructor(e){this.i18n=e,this.registry={},this.register("guess",qA),this.register("message",CA),this.register("error",NA)}register(e,r){this.registry[e]=r}get(e,r){var n;return this.registry[(n=r.missingBehavior)!==null&&n!==void 0?n:this.i18n.missingBehavior](this.i18n,e,r)}};var MA=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(u){u(s)})}return new(r||(r=Promise))(function(s,u){function p(S){try{O(n.next(S))}catch(E){u(E)}}function y(S){try{O(n.throw(S))}catch(E){u(E)}}function O(S){S.done?s(S.value):i(S.value).then(p,y)}O((n=n.apply(t,e||[])).next())})},vn={defaultLocale:"en",locale:"en",defaultSeparator:".",placeholder:/(?:\{\{|%\{)(.*?)(?:\}\}?)/gm,enableFallback:!1,missingBehavior:"message",missingTranslationPrefix:"",missingPlaceholder:(t,e)=>`[missing "${e}" value]`,nullPlaceholder:(t,e,r,n)=>t.missingPlaceholder(t,e,r,n),transformKey:t=>t},ft=class{constructor(e={},r={}){this._locale=vn.locale,this._defaultLocale=vn.defaultLocale,this._version=0,this.onChangeHandlers=[],this.translations={},this.t=this.translate,this.p=this.pluralize,this.l=this.localize,this.distanceOfTimeInWords=this.timeAgoInWords;let{locale:n,enableFallback:i,missingBehavior:s,missingTranslationPrefix:u,missingPlaceholder:p,nullPlaceholder:y,defaultLocale:O,defaultSeparator:S,placeholder:E,transformKey:T}=Object.assign(Object.assign({},vn),r);this.locale=n,this.defaultLocale=O,this.defaultSeparator=S,this.enableFallback=i,this.locale=n,this.missingBehavior=s,this.missingTranslationPrefix=u,this.missingPlaceholder=p,this.nullPlaceholder=y,this.placeholder=E,this.pluralization=new at(this),this.locales=new ot(this),this.missingTranslation=new lt(this),this.transformKey=T,this.interpolate=ut,this.store(e)}store(e){(0,$f.default)(this.translations,e),this.hasChanged()}get locale(){return this._locale||this.defaultLocale||"en"}set locale(e){if(typeof e!="string")throw new Error(`Expected newLocale to be a string; got ${ce(e)}`);let r=this._locale!==e;this._locale=e,r&&this.hasChanged()}get defaultLocale(){return this._defaultLocale||"en"}set defaultLocale(e){if(typeof e!="string")throw new Error(`Expected newLocale to be a string; got ${ce(e)}`);let r=this._defaultLocale!==e;this._defaultLocale=e,r&&this.hasChanged()}translate(e,r){r=Object.assign({},r);let n=Gr(this,e,r),i;return n.some(u=>(Z(u.scope)?i=X(this,u.scope,r):Z(u.message)&&(i=u.message),i!=null))?(typeof i=="string"?i=this.interpolate(this,i,r):typeof i=="object"&&i&&Z(r.count)&&(i=Kt({i18n:this,count:r.count||0,scope:i,options:r,baseScope:fe(this,e,r)})),r&&i instanceof Array&&(i=i.map(u=>typeof u=="string"?ut(this,u,r):u)),i):this.missingTranslation.get(e,r)}pluralize(e,r,n){return Kt({i18n:this,count:e,scope:r,options:Object.assign({},n),baseScope:fe(this,r,n??{})})}localize(e,r,n){if(n=Object.assign({},n),r==null)return"";switch(e){case"currency":return this.numberToCurrency(r);case"number":return _e(r,Object.assign({delimiter:",",precision:3,separator:".",significant:!1,stripInsignificantZeros:!1},X(this,"number.format")));case"percentage":return this.numberToPercentage(r);default:{let i;return e.match(/^(date|time)/)?i=this.toTime(e,r):i=r.toString(),ut(this,i,n)}}}toTime(e,r){let n=Re(r),i=X(this,e);return n.toString().match(/invalid/i)||!i?n.toString():this.strftime(n,i)}numberToCurrency(e,r={}){return _e(e,Object.assign(Object.assign(Object.assign({delimiter:",",format:"%u%n",precision:2,separator:".",significant:!1,stripInsignificantZeros:!1,unit:"$"},te(this.get("number.format"))),te(this.get("number.currency.format"))),r))}numberToPercentage(e,r={}){return _e(e,Object.assign(Object.assign(Object.assign({delimiter:"",format:"%n%",precision:3,stripInsignificantZeros:!1,separator:".",significant:!1},te(this.get("number.format"))),te(this.get("number.percentage.format"))),r))}numberToHumanSize(e,r={}){return gn(this,e,Object.assign(Object.assign(Object.assign({delimiter:"",precision:3,significant:!0,stripInsignificantZeros:!0,units:{billion:"Billion",million:"Million",quadrillion:"Quadrillion",thousand:"Thousand",trillion:"Trillion",unit:""}},te(this.get("number.human.format"))),te(this.get("number.human.storage_units"))),r))}numberToHuman(e,r={}){return dn(this,e,Object.assign(Object.assign(Object.assign({delimiter:"",separator:".",precision:3,significant:!0,stripInsignificantZeros:!0,format:"%n %u",roundMode:"default",units:{billion:"Billion",million:"Million",quadrillion:"Quadrillion",thousand:"Thousand",trillion:"Trillion",unit:""}},te(this.get("number.human.format"))),te(this.get("number.human.decimal_units"))),r))}numberToRounded(e,r){return _e(e,Object.assign({unit:"",precision:3,significant:!1,separator:".",delimiter:"",stripInsignificantZeros:!1},r))}numberToDelimited(e,r={}){return Xr(e,Object.assign({delimiterPattern:/(\d)(?=(\d\d\d)+(?!\d))/g,delimiter:",",separator:"."},r))}withLocale(e,r){return MA(this,void 0,void 0,function*(){let n=this.locale;try{this.locale=e,yield r()}finally{this.locale=n}})}strftime(e,r,n={}){return mn(e,r,Object.assign(Object.assign(Object.assign({},te(X(this,"date"))),{meridian:{am:X(this,"time.am")||"AM",pm:X(this,"time.pm")||"PM"}}),n))}update(e,r,n={strict:!1}){if(n.strict&&!(0,jf.default)(this.translations,e))throw new Error(`The path "${e}" is not currently defined`);let i=(0,Bf.default)(this.translations,e),s=ce(i),u=ce(r);if(n.strict&&s!==u)throw new Error(`The current type for "${e}" is "${s}", but you're trying to override it with "${u}"`);let p;u==="object"?p=Object.assign(Object.assign({},i),r):p=r;let y=e.split(this.defaultSeparator),O=y.pop(),S=this.translations;for(let E of y)S[E]||(S[E]={}),S=S[E];S[O]=p,this.hasChanged()}toSentence(e,r={}){let{wordsConnector:n,twoWordsConnector:i,lastWordConnector:s}=Object.assign(Object.assign({wordsConnector:", ",twoWordsConnector:" and ",lastWordConnector:", and "},te(X(this,"support.array"))),r),u=e.length;switch(u){case 0:return"";case 1:return`${e[0]}`;case 2:return e.join(i);default:return[e.slice(0,u-1).join(n),s,e[u-1]].join("")}}timeAgoInWords(e,r,n={}){return xn(this,e,r,n)}onChange(e){return this.onChangeHandlers.push(e),()=>{this.onChangeHandlers.splice(this.onChangeHandlers.indexOf(e),1)}}get version(){return this._version}formatNumber(e,r={}){return r=Object.assign(Object.assign({delimiter:",",precision:3,separator:".",unit:"",format:"%u%n",significant:!1,stripInsignificantZeros:!1},te(this.get("number.format"))),r),_e(e,r)}get(e){return X(this,e)}runCallbacks(){this.onChangeHandlers.forEach(e=>e(this))}hasChanged(){this._version+=1,this.runCallbacks()}};var Rf={page_not_found:{"404":"404",title:"Page not found :(",description:"The requested page could not be found."},character:{title:"Character",inputs:{player_name:"Player name",character:{name:"Name",race:"Race",class:"Class",level:"Level",background:"Background",alignment:"Alignment",experience_points:"XP"}}},stats:{hp:{title:"Hit points",current:"Current",temporary:"Temp",maximum:"Max"},hit_dice:{title:"Hit dice",label:"Dice",spent:"Spent",maximum:"Max"},death_saves:{title:"Death saves",successes:"Successes:",failures:"Failures:"},armor_class:"Armor class",initiative:"Initiative",speed:"Speed",passive_perception:"Passive perception",proficiency_bonus:"Proficiency bonus",inspiration:"Heroic inspiration"},specs:{modifier:"Modifier",score:"Score",saving_throw:"Saving throw",names:{strength:"Strength",dexterity:"Dexterity",constitution:"Constitution",intelligence:"Intelligence",wisdom:"Wisdom",charisma:"Charisma"},abilities:{names:{athletics:"Athletics",acrobatics:"Acrobatics",sleight_of_hand:"Sleight of hand",stealth:"Stealth",arcana:"Arcana",history:"History",investigation:"Investigation",nature:"Nature",religion:"Religion",animal_handling:"Animal handling",insight:"Insight",medicine:"Medicine",perception:"Perception",survival:"Survival",deception:"Deception",intimidation:"Intimidation",performance:"Performance",persuasion:"Persuasion"}}},weapons:{title:"Weapons",items:{name:"Name",attack_bonus:"Atk bonus",damage:"Damage",damage_type:"Damage type"},weapons_amount:"Weapons amount",notes:{title:"Weapon notes"}},spellcasting:{stats:{title:"Spellcasting",spellcasting_ability:"Ability",spellcasting_modifier:"Modifier",spell_save_dc:"Save DC",spell_atack_bonus:"Atk bonus"},spell_slots:{title:"Spell slots",level:"Level",total:"Total"},spells:{title:"Spells & Cantrips",items:{level:"Level",name:"Name",concentration:"Concentration",ritual:"Ritual",components:{title:"Materials",verbal:"V",somatic:"S",material:"M"},notes:"Notes"},spells_amount:"Spells amount"}},proficiencies:{title:"Proficiencies",armor_training:{title:"Armor training",light:"Light",medium:"Medium",heavy:"Heavy",shields:"Shields"},weapons:"Weapons",tools:"Tools",languages:"Languages"}};var Uf={character:{title:"Character",inputs:{character_name:"Character name"}}};var zf={character:{title:"Character",inputs:{character_name:"Character name"}}};var de=class extends xe{};var kA={expires:400,suffix:!0};function Vt(t){return t.replace(/(?:[_-])([a-z0-9])/g,(e,r)=>r.toUpperCase())}var Ue=(t,e={})=>{let{expires:r,suffix:n,prefix:i}=Object.assign({},kA,e),s=O=>Vt(i?`${i}_${O}`:O),u=O=>n?`${Vt(O)}Cookie`:Vt(O),p=O=>{let S=s(O),E=u(O);Object.defineProperty(t,E,{get(){let N=document.cookie.split(";").map(C=>C.trim()).find(C=>C.startsWith(S+"="));return N?N.split("=")[1]:void 0},set(T){if(T===null)return BA(S);let N=typeof T=="string"?T:T.value,C=PA(S+"="+N);LA(C,r)}})};t.constructor.cookieNames?.forEach(O=>{p(O)})};function PA(t){let[e,r]=t.split("=");return{name:e,value:r}}function LA(t,e){let{name:r,value:n,expires:i=e}=t,s=new Date(new Date().getTime()+i*24*60*60*1e3).toUTCString();document.cookie=`${r}=${n};expires=${s};`}function BA(t){document.cookie=`${t}=; expires=Thu, 01 Jan 1970 00:00:00 UTC;`}var Ht=["en","ua","ru"],ht=class extends de{static targets=["toggle","translation"];static classes=["toggled"];static cookieNames=["locale"];connect(){Ue(this),this.i18n=new ft({en:Rf,ua:Uf,ru:zf}),this._setLocale(this.localeCookie||Ht[0]),this._toggleLocale()}toggle(){let t=Ht.indexOf(this.localeCookie),e=t+1<Ht.length?t+1:0;this._setLocale(Ht[e]),this.toggleTarget.classList.toggle(this.toggledClass,!this.toggleTarget.classList.contains(this.toggledClass)),this._toggleLocale()}_setLocale(t){this.localeCookie=t,this.i18n.locale=t}_toggleLocale(){this.translationTargets.forEach(t=>{t.innerHTML=this.i18n.t(t.dataset.t)})}};var pt=class extends de{static targets=["state","input"];static values={states:Array};static classes=["hidden"];connect(){this._toggleState(0)}toggle(){let t=this.statesValue.indexOf(this.inputTarget.value),e=t+1<this.statesValue.length?t+1:0;this._toggleState(e)}_toggleState(t){this.inputTarget.value=this.statesValue[t],this.stateTargets.forEach((e,r)=>{e.classList.toggle(this.hiddenClass,t!==r)})}};var dt=class extends de{static targets=["select","item"];static classes=["hidden"];static cookieNames=["itemsAmount"];static values={cookiePrefix:String};connect(){Ue(this,{prefix:this.cookiePrefixValue}),this.itemsAmountCookie===void 0?this.itemsAmountCookie=this.selectTarget.value:this.selectTarget.value=this.itemsAmountCookie,this._updateItems()}update(){this.itemsAmountCookie=this.selectTarget.value,this._updateItems()}_updateItems(){let t=Number(this.itemsAmountCookie);this.itemTargets.forEach((e,r)=>{e.classList.toggle(this.hiddenClass,r>=t)})}};var gt={enabled:"true",disabled:"false"},jA="meta[name=theme-color]",Kf={dark:"#27272a",light:"#f5f5f5"},mt=class extends de{static targets=["body","toggle"];static classes=["darkMode","darkModeEnabled"];static cookieNames=["darkMode"];connect(){Ue(this),this.darkModeCookie===void 0&&(this.darkModeCookie=gt.enabled),this._toggleDarkMode()}toggle(){this.darkModeCookie=this.darkModeCookie===gt.enabled?gt.disabled:gt.enabled,this._toggleDarkMode()}_toggleDarkMode(){let t=this.darkModeCookie===gt.enabled;this.bodyTarget.classList.toggle(this.darkModeClass,t),this.toggleTarget.classList.toggle(this.darkModeEnabledClass,t);let e=document.querySelector(jA);e.content=t?Kf.dark:Kf.light}};window.Stimulus=At.start();window.Stimulus.register("theme",mt);window.Stimulus.register("i18n",ht);window.Stimulus.register("multi-toggle",pt);window.Stimulus.register("pagination",dt);"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("sw.js",{scope:"/dcs/"})});})();
